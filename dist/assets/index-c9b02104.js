function zR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Iv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Nx={exports:{}},op={},Ox={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),jR=Symbol.for("react.portal"),VR=Symbol.for("react.fragment"),HR=Symbol.for("react.strict_mode"),qR=Symbol.for("react.profiler"),WR=Symbol.for("react.provider"),KR=Symbol.for("react.context"),GR=Symbol.for("react.forward_ref"),QR=Symbol.for("react.suspense"),YR=Symbol.for("react.memo"),ZR=Symbol.for("react.lazy"),kS=Symbol.iterator;function XR(t){return t===null||typeof t!="object"?null:(t=kS&&t[kS]||t["@@iterator"],typeof t=="function"?t:null)}var Lx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dx=Object.assign,Px={};function $u(t,e,n){this.props=t,this.context=e,this.refs=Px,this.updater=n||Lx}$u.prototype.isReactComponent={};$u.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$u.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bx(){}Bx.prototype=$u.prototype;function Cv(t,e,n){this.props=t,this.context=e,this.refs=Px,this.updater=n||Lx}var Mv=Cv.prototype=new Bx;Mv.constructor=Cv;Dx(Mv,$u.prototype);Mv.isPureReactComponent=!0;var TS=Array.isArray,Fx=Object.prototype.hasOwnProperty,Av={current:null},$x={key:!0,ref:!0,__self:!0,__source:!0};function Ux(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fx.call(e,r)&&!$x.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wc,type:t,key:s,ref:o,props:i,_owner:Av.current}}function JR(t,e){return{$$typeof:Wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wc}function e4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RS=/\/+/g;function Tg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e4(""+t.key):e.toString(36)}function gh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wc:case jR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Tg(o,0):r,TS(i)?(n="",t!=null&&(n=t.replace(RS,"$&/")+"/"),gh(i,e,n,"",function(c){return c})):i!=null&&(kv(i)&&(i=JR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(RS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",TS(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Tg(s,a);o+=gh(s,e,n,u,i)}else if(u=XR(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Tg(s,a++),o+=gh(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cf(t,e,n){if(t==null)return t;var r=[],i=0;return gh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function t4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},mh={transition:null},n4={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:mh,ReactCurrentOwner:Av};dt.Children={map:Cf,forEach:function(t,e,n){Cf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cf(t,function(){e++}),e},toArray:function(t){return Cf(t,function(e){return e})||[]},only:function(t){if(!kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=$u;dt.Fragment=VR;dt.Profiler=qR;dt.PureComponent=Cv;dt.StrictMode=HR;dt.Suspense=QR;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n4;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Av.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Fx.call(e,u)&&!$x.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wc,type:t.type,key:i,ref:s,props:r,_owner:o}};dt.createContext=function(t){return t={$$typeof:KR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WR,_context:t},t.Consumer=t};dt.createElement=Ux;dt.createFactory=function(t){var e=Ux.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:GR,render:t}};dt.isValidElement=kv;dt.lazy=function(t){return{$$typeof:ZR,_payload:{_status:-1,_result:t},_init:t4}};dt.memo=function(t,e){return{$$typeof:YR,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(t,e){return or.current.useCallback(t,e)};dt.useContext=function(t){return or.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return or.current.useDeferredValue(t)};dt.useEffect=function(t,e){return or.current.useEffect(t,e)};dt.useId=function(){return or.current.useId()};dt.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return or.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};dt.useRef=function(t){return or.current.useRef(t)};dt.useState=function(t){return or.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return or.current.useTransition()};dt.version="18.2.0";Ox.exports=dt;var $=Ox.exports;const Q=cs($),NS=zR({__proto__:null,default:Q},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4=$,i4=Symbol.for("react.element"),s4=Symbol.for("react.fragment"),o4=Object.prototype.hasOwnProperty,a4=r4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u4={key:!0,ref:!0,__self:!0,__source:!0};function zx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)o4.call(e,r)&&!u4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:i4,type:t,key:s,ref:o,props:i,_owner:a4.current}}op.Fragment=s4;op.jsx=zx;op.jsxs=zx;Nx.exports=op;var J=Nx.exports,wm={},jx={exports:{}},Or={},Vx={exports:{}},Hx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(m,b){var R=m.length;m.push(b);e:for(;0<R;){var v=R-1>>>1,f=m[v];if(0<i(f,b))m[v]=b,m[R]=f,R=v;else break e}}function n(m){return m.length===0?null:m[0]}function r(m){if(m.length===0)return null;var b=m[0],R=m.pop();if(R!==b){m[0]=R;e:for(var v=0,f=m.length,I=f>>>1;v<I;){var K=2*(v+1)-1,q=m[K],G=K+1,ae=m[G];if(0>i(q,R))G<f&&0>i(ae,q)?(m[v]=ae,m[G]=R,v=G):(m[v]=q,m[K]=R,v=K);else if(G<f&&0>i(ae,R))m[v]=ae,m[G]=R,v=G;else break e}}return b}function i(m,b){var R=m.sortIndex-b.sortIndex;return R!==0?R:m.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,g=null,S=3,w=!1,C=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(m){for(var b=n(c);b!==null;){if(b.callback===null)r(c);else if(b.startTime<=m)r(c),b.sortIndex=b.expirationTime,e(u,b);else break;b=n(c)}}function B(m){if(x=!1,M(m),!C)if(n(u)!==null)C=!0,p(L);else{var b=n(c);b!==null&&y(B,b.startTime-m)}}function L(m,b){C=!1,x&&(x=!1,T(U),U=-1),w=!0;var R=S;try{for(M(b),g=n(u);g!==null&&(!(g.expirationTime>b)||m&&!Y());){var v=g.callback;if(typeof v=="function"){g.callback=null,S=g.priorityLevel;var f=v(g.expirationTime<=b);b=t.unstable_now(),typeof f=="function"?g.callback=f:g===n(u)&&r(u),M(b)}else r(u);g=n(u)}if(g!==null)var I=!0;else{var K=n(c);K!==null&&y(B,K.startTime-b),I=!1}return I}finally{g=null,S=R,w=!1}}var P=!1,F=null,U=-1,ee=5,Z=-1;function Y(){return!(t.unstable_now()-Z<ee)}function ce(){if(F!==null){var m=t.unstable_now();Z=m;var b=!0;try{b=F(!0,m)}finally{b?A():(P=!1,F=null)}}else P=!1}var A;if(typeof k=="function")A=function(){k(ce)};else if(typeof MessageChannel<"u"){var l=new MessageChannel,h=l.port2;l.port1.onmessage=ce,A=function(){h.postMessage(null)}}else A=function(){N(ce,0)};function p(m){F=m,P||(P=!0,A())}function y(m,b){U=N(function(){m(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(m){m.callback=null},t.unstable_continueExecution=function(){C||w||(C=!0,p(L))},t.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<m?Math.floor(1e3/m):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(m){switch(S){case 1:case 2:case 3:var b=3;break;default:b=S}var R=S;S=b;try{return m()}finally{S=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(m,b){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var R=S;S=m;try{return b()}finally{S=R}},t.unstable_scheduleCallback=function(m,b,R){var v=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?v+R:v):R=v,m){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=R+f,m={id:d++,callback:b,priorityLevel:m,startTime:R,expirationTime:f,sortIndex:-1},R>v?(m.sortIndex=R,e(c,m),n(u)===null&&m===n(c)&&(x?(T(U),U=-1):x=!0,y(B,R-v))):(m.sortIndex=f,e(u,m),C||w||(C=!0,p(L))),m},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(m){var b=S;return function(){var R=S;S=b;try{return m.apply(this,arguments)}finally{S=R}}}})(Hx);Vx.exports=Hx;var l4=Vx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=$,Rr=l4;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wx=new Set,nc={};function la(t,e){vu(t,e),vu(t+"Capture",e)}function vu(t,e){for(nc[t]=e,t=0;t<e.length;t++)Wx.add(e[t])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sm=Object.prototype.hasOwnProperty,c4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OS={},LS={};function f4(t){return Sm.call(LS,t)?!0:Sm.call(OS,t)?!1:c4.test(t)?LS[t]=!0:(OS[t]=!0,!1)}function h4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d4(t,e,n,r){if(e===null||typeof e>"u"||h4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ln[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ln[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ln[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ln[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ln[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ln[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ln[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ln[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ln[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tv=/[\-:]([a-z])/g;function Rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tv,Rv);Ln[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tv,Rv);Ln[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tv,Rv);Ln[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ln[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ln[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nv(t,e,n,r){var i=Ln.hasOwnProperty(e)?Ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d4(e,n,i,r)&&(n=null),r||i===null?f4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fs=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mf=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),Ov=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),Gx=Symbol.for("react.context"),Lv=Symbol.for("react.forward_ref"),bm=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),Dv=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),Qx=Symbol.for("react.offscreen"),DS=Symbol.iterator;function ll(t){return t===null||typeof t!="object"?null:(t=DS&&t[DS]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,Rg;function Cl(t){if(Rg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rg=e&&e[1]||""}return`
`+Rg+t}var Ng=!1;function Og(t,e){if(!t||Ng)return"";Ng=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ng=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cl(t):""}function p4(t){switch(t.tag){case 5:return Cl(t.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return t=Og(t.type,!1),t;case 11:return t=Og(t.type.render,!1),t;case 1:return t=Og(t.type,!0),t;default:return""}}function xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oa:return"Fragment";case Na:return"Portal";case Em:return"Profiler";case Ov:return"StrictMode";case bm:return"Suspense";case _m:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gx:return(t.displayName||"Context")+".Consumer";case Kx:return(t._context.displayName||"Context")+".Provider";case Lv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dv:return e=t.displayName||null,e!==null?e:xm(t.type)||"Memo";case ws:e=t._payload,t=t._init;try{return xm(t(e))}catch{}}return null}function g4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(e);case 8:return e===Ov?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ws(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m4(t){var e=Yx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Af(t){t._valueTracker||(t._valueTracker=m4(t))}function Zx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Im(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function PS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ws(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xx(t,e){e=e.checked,e!=null&&Nv(t,"checked",e,!1)}function Cm(t,e){Xx(t,e);var n=Ws(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,Ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mm(t,e,n){(e!=="number"||Qh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ml=Array.isArray;function Ya(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ws(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(Ml(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ws(n)}}function Jx(t,e){var n=Ws(e.value),r=Ws(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $S(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function km(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kf,t2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kf=kf||document.createElement("div"),kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y4=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(t){y4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pl[e]=Pl[t]})});function n2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pl.hasOwnProperty(t)&&Pl[t]?(""+e).trim():e+"px"}function r2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=n2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var v4=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tm(t,e){if(e){if(v4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=null;function Pv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Om=null,Za=null,Xa=null;function US(t){if(t=Qc(t)){if(typeof Om!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=fp(e),Om(t.stateNode,t.type,e))}}function i2(t){Za?Xa?Xa.push(t):Xa=[t]:Za=t}function s2(){if(Za){var t=Za,e=Xa;if(Xa=Za=null,US(t),e)for(t=0;t<e.length;t++)US(e[t])}}function o2(t,e){return t(e)}function a2(){}var Lg=!1;function u2(t,e,n){if(Lg)return t(e,n);Lg=!0;try{return o2(t,e,n)}finally{Lg=!1,(Za!==null||Xa!==null)&&(a2(),s2())}}function ic(t,e){var n=t.stateNode;if(n===null)return null;var r=fp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Lm=!1;if(es)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Lm=!1}function w4(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Bl=!1,Yh=null,Zh=!1,Dm=null,S4={onError:function(t){Bl=!0,Yh=t}};function E4(t,e,n,r,i,s,o,a,u){Bl=!1,Yh=null,w4.apply(S4,arguments)}function b4(t,e,n,r,i,s,o,a,u){if(E4.apply(this,arguments),Bl){if(Bl){var c=Yh;Bl=!1,Yh=null}else throw Error(ne(198));Zh||(Zh=!0,Dm=c)}}function ca(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function l2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zS(t){if(ca(t)!==t)throw Error(ne(188))}function _4(t){var e=t.alternate;if(!e){if(e=ca(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zS(i),t;if(s===r)return zS(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function c2(t){return t=_4(t),t!==null?f2(t):null}function f2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f2(t);if(e!==null)return e;t=t.sibling}return null}var h2=Rr.unstable_scheduleCallback,jS=Rr.unstable_cancelCallback,x4=Rr.unstable_shouldYield,I4=Rr.unstable_requestPaint,Jt=Rr.unstable_now,C4=Rr.unstable_getCurrentPriorityLevel,Bv=Rr.unstable_ImmediatePriority,d2=Rr.unstable_UserBlockingPriority,Xh=Rr.unstable_NormalPriority,M4=Rr.unstable_LowPriority,p2=Rr.unstable_IdlePriority,ap=null,Ri=null;function A4(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(ap,t,void 0,(t.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:R4,k4=Math.log,T4=Math.LN2;function R4(t){return t>>>=0,t===0?32:31-(k4(t)/T4|0)|0}var Tf=64,Rf=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Al(a):(s&=o,s!==0&&(r=Al(s)))}else o=n&~i,o!==0?r=Al(o):s!==0&&(r=Al(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ui(e),i=1<<n,r|=t[n],e&=~i;return r}function N4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ui(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=N4(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g2(){var t=Tf;return Tf<<=1,!(Tf&4194240)&&(Tf=64),t}function Dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ui(e),t[e]=n}function L4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ui(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ui(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var It=0;function m2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y2,$v,v2,w2,S2,Bm=!1,Nf=[],Ns=null,Os=null,Ls=null,sc=new Map,oc=new Map,_s=[],D4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VS(t,e){switch(t){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(e.pointerId)}}function fl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qc(e),e!==null&&$v(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P4(t,e,n,r,i){switch(e){case"focusin":return Ns=fl(Ns,t,e,n,r,i),!0;case"dragenter":return Os=fl(Os,t,e,n,r,i),!0;case"mouseover":return Ls=fl(Ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sc.set(s,fl(sc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,oc.set(s,fl(oc.get(s)||null,t,e,n,r,i)),!0}return!1}function E2(t){var e=Po(t.target);if(e!==null){var n=ca(e);if(n!==null){if(e=n.tag,e===13){if(e=l2(n),e!==null){t.blockedOn=e,S2(t.priority,function(){v2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nm=r,n.target.dispatchEvent(r),Nm=null}else return e=Qc(n),e!==null&&$v(e),t.blockedOn=n,!1;e.shift()}return!0}function HS(t,e,n){yh(t)&&n.delete(e)}function B4(){Bm=!1,Ns!==null&&yh(Ns)&&(Ns=null),Os!==null&&yh(Os)&&(Os=null),Ls!==null&&yh(Ls)&&(Ls=null),sc.forEach(HS),oc.forEach(HS)}function hl(t,e){t.blockedOn===e&&(t.blockedOn=null,Bm||(Bm=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,B4)))}function ac(t){function e(i){return hl(i,t)}if(0<Nf.length){hl(Nf[0],t);for(var n=1;n<Nf.length;n++){var r=Nf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ns!==null&&hl(Ns,t),Os!==null&&hl(Os,t),Ls!==null&&hl(Ls,t),sc.forEach(e),oc.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)E2(n),n.blockedOn===null&&_s.shift()}var Ja=fs.ReactCurrentBatchConfig,ed=!0;function F4(t,e,n,r){var i=It,s=Ja.transition;Ja.transition=null;try{It=1,Uv(t,e,n,r)}finally{It=i,Ja.transition=s}}function $4(t,e,n,r){var i=It,s=Ja.transition;Ja.transition=null;try{It=4,Uv(t,e,n,r)}finally{It=i,Ja.transition=s}}function Uv(t,e,n,r){if(ed){var i=Fm(t,e,n,r);if(i===null)qg(t,e,r,td,n),VS(t,r);else if(P4(i,t,e,n,r))r.stopPropagation();else if(VS(t,r),e&4&&-1<D4.indexOf(t)){for(;i!==null;){var s=Qc(i);if(s!==null&&y2(s),s=Fm(t,e,n,r),s===null&&qg(t,e,r,td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qg(t,e,r,null,n)}}var td=null;function Fm(t,e,n,r){if(td=null,t=Pv(r),t=Po(t),t!==null)if(e=ca(t),e===null)t=null;else if(n=e.tag,n===13){if(t=l2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function b2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C4()){case Bv:return 1;case d2:return 4;case Xh:case M4:return 16;case p2:return 536870912;default:return 16}default:return 16}}var Is=null,zv=null,vh=null;function _2(){if(vh)return vh;var t,e=zv,n=e.length,r,i="value"in Is?Is.value:Is.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vh=i.slice(t,1<r?1-r:void 0)}function wh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Of(){return!0}function qS(){return!1}function Lr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Of:qS,this.isPropagationStopped=qS,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Of)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Of)},persist:function(){},isPersistent:Of}),e}var Uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jv=Lr(Uu),Gc=Kt({},Uu,{view:0,detail:0}),U4=Lr(Gc),Pg,Bg,dl,up=Kt({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(Pg=t.screenX-dl.screenX,Bg=t.screenY-dl.screenY):Bg=Pg=0,dl=t),Pg)},movementY:function(t){return"movementY"in t?t.movementY:Bg}}),WS=Lr(up),z4=Kt({},up,{dataTransfer:0}),j4=Lr(z4),V4=Kt({},Gc,{relatedTarget:0}),Fg=Lr(V4),H4=Kt({},Uu,{animationName:0,elapsedTime:0,pseudoElement:0}),q4=Lr(H4),W4=Kt({},Uu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K4=Lr(W4),G4=Kt({},Uu,{data:0}),KS=Lr(G4),Q4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z4[t])?!!e[t]:!1}function Vv(){return X4}var J4=Kt({},Gc,{key:function(t){if(t.key){var e=Q4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(t){return t.type==="keypress"?wh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eN=Lr(J4),tN=Kt({},up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GS=Lr(tN),nN=Kt({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),rN=Lr(nN),iN=Kt({},Uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),sN=Lr(iN),oN=Kt({},up,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aN=Lr(oN),uN=[9,13,27,32],Hv=es&&"CompositionEvent"in window,Fl=null;es&&"documentMode"in document&&(Fl=document.documentMode);var lN=es&&"TextEvent"in window&&!Fl,x2=es&&(!Hv||Fl&&8<Fl&&11>=Fl),QS=String.fromCharCode(32),YS=!1;function I2(t,e){switch(t){case"keyup":return uN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function cN(t,e){switch(t){case"compositionend":return C2(e);case"keypress":return e.which!==32?null:(YS=!0,QS);case"textInput":return t=e.data,t===QS&&YS?null:t;default:return null}}function fN(t,e){if(La)return t==="compositionend"||!Hv&&I2(t,e)?(t=_2(),vh=zv=Is=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x2&&e.locale!=="ko"?null:e.data;default:return null}}var hN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hN[t.type]:e==="textarea"}function M2(t,e,n,r){i2(r),e=nd(e,"onChange"),0<e.length&&(n=new jv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $l=null,uc=null;function dN(t){F2(t,0)}function lp(t){var e=Ba(t);if(Zx(e))return t}function pN(t,e){if(t==="change")return e}var A2=!1;if(es){var $g;if(es){var Ug="oninput"in document;if(!Ug){var XS=document.createElement("div");XS.setAttribute("oninput","return;"),Ug=typeof XS.oninput=="function"}$g=Ug}else $g=!1;A2=$g&&(!document.documentMode||9<document.documentMode)}function JS(){$l&&($l.detachEvent("onpropertychange",k2),uc=$l=null)}function k2(t){if(t.propertyName==="value"&&lp(uc)){var e=[];M2(e,uc,t,Pv(t)),u2(dN,e)}}function gN(t,e,n){t==="focusin"?(JS(),$l=e,uc=n,$l.attachEvent("onpropertychange",k2)):t==="focusout"&&JS()}function mN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lp(uc)}function yN(t,e){if(t==="click")return lp(e)}function vN(t,e){if(t==="input"||t==="change")return lp(e)}function wN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:wN;function lc(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sm.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function eE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tE(t,e){var n=eE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eE(n)}}function T2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R2(){for(var t=window,e=Qh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qh(t.document)}return e}function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SN(t){var e=R2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&T2(n.ownerDocument.documentElement,n)){if(r!==null&&qv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tE(n,s);var o=tE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EN=es&&"documentMode"in document&&11>=document.documentMode,Da=null,$m=null,Ul=null,Um=!1;function nE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Um||Da==null||Da!==Qh(r)||(r=Da,"selectionStart"in r&&qv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&lc(Ul,r)||(Ul=r,r=nd($m,"onSelect"),0<r.length&&(e=new jv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Da)))}function Lf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pa={animationend:Lf("Animation","AnimationEnd"),animationiteration:Lf("Animation","AnimationIteration"),animationstart:Lf("Animation","AnimationStart"),transitionend:Lf("Transition","TransitionEnd")},zg={},N2={};es&&(N2=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function cp(t){if(zg[t])return zg[t];if(!Pa[t])return t;var e=Pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in N2)return zg[t]=e[n];return t}var O2=cp("animationend"),L2=cp("animationiteration"),D2=cp("animationstart"),P2=cp("transitionend"),B2=new Map,rE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(t,e){B2.set(t,e),la(e,[t])}for(var jg=0;jg<rE.length;jg++){var Vg=rE[jg],bN=Vg.toLowerCase(),_N=Vg[0].toUpperCase()+Vg.slice(1);ro(bN,"on"+_N)}ro(O2,"onAnimationEnd");ro(L2,"onAnimationIteration");ro(D2,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(P2,"onTransitionEnd");vu("onMouseEnter",["mouseout","mouseover"]);vu("onMouseLeave",["mouseout","mouseover"]);vu("onPointerEnter",["pointerout","pointerover"]);vu("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xN=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function iE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,b4(r,e,void 0,t),t.currentTarget=null}function F2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;iE(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;iE(i,a,c),s=u}}}if(Zh)throw t=Dm,Zh=!1,Dm=null,t}function Nt(t,e){var n=e[qm];n===void 0&&(n=e[qm]=new Set);var r=t+"__bubble";n.has(r)||($2(e,t,2,!1),n.add(r))}function Hg(t,e,n){var r=0;e&&(r|=4),$2(n,t,r,e)}var Df="_reactListening"+Math.random().toString(36).slice(2);function cc(t){if(!t[Df]){t[Df]=!0,Wx.forEach(function(n){n!=="selectionchange"&&(xN.has(n)||Hg(n,!1,t),Hg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Df]||(e[Df]=!0,Hg("selectionchange",!1,e))}}function $2(t,e,n,r){switch(b2(e)){case 1:var i=F4;break;case 4:i=$4;break;default:i=Uv}n=i.bind(null,e,n,t),i=void 0,!Lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Po(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}u2(function(){var c=s,d=Pv(n),g=[];e:{var S=B2.get(t);if(S!==void 0){var w=jv,C=t;switch(t){case"keypress":if(wh(n)===0)break e;case"keydown":case"keyup":w=eN;break;case"focusin":C="focus",w=Fg;break;case"focusout":C="blur",w=Fg;break;case"beforeblur":case"afterblur":w=Fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=WS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=j4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=rN;break;case O2:case L2:case D2:w=q4;break;case P2:w=sN;break;case"scroll":w=U4;break;case"wheel":w=aN;break;case"copy":case"cut":case"paste":w=K4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=GS}var x=(e&4)!==0,N=!x&&t==="scroll",T=x?S!==null?S+"Capture":null:S;x=[];for(var k=c,M;k!==null;){M=k;var B=M.stateNode;if(M.tag===5&&B!==null&&(M=B,T!==null&&(B=ic(k,T),B!=null&&x.push(fc(k,B,M)))),N)break;k=k.return}0<x.length&&(S=new w(S,C,null,n,d),g.push({event:S,listeners:x}))}}if(!(e&7)){e:{if(S=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",S&&n!==Nm&&(C=n.relatedTarget||n.fromElement)&&(Po(C)||C[ts]))break e;if((w||S)&&(S=d.window===d?d:(S=d.ownerDocument)?S.defaultView||S.parentWindow:window,w?(C=n.relatedTarget||n.toElement,w=c,C=C?Po(C):null,C!==null&&(N=ca(C),C!==N||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=c),w!==C)){if(x=WS,B="onMouseLeave",T="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(x=GS,B="onPointerLeave",T="onPointerEnter",k="pointer"),N=w==null?S:Ba(w),M=C==null?S:Ba(C),S=new x(B,k+"leave",w,n,d),S.target=N,S.relatedTarget=M,B=null,Po(d)===c&&(x=new x(T,k+"enter",C,n,d),x.target=M,x.relatedTarget=N,B=x),N=B,w&&C)t:{for(x=w,T=C,k=0,M=x;M;M=Ea(M))k++;for(M=0,B=T;B;B=Ea(B))M++;for(;0<k-M;)x=Ea(x),k--;for(;0<M-k;)T=Ea(T),M--;for(;k--;){if(x===T||T!==null&&x===T.alternate)break t;x=Ea(x),T=Ea(T)}x=null}else x=null;w!==null&&sE(g,S,w,x,!1),C!==null&&N!==null&&sE(g,N,C,x,!0)}}e:{if(S=c?Ba(c):window,w=S.nodeName&&S.nodeName.toLowerCase(),w==="select"||w==="input"&&S.type==="file")var L=pN;else if(ZS(S))if(A2)L=vN;else{L=mN;var P=gN}else(w=S.nodeName)&&w.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(L=yN);if(L&&(L=L(t,c))){M2(g,L,n,d);break e}P&&P(t,S,c),t==="focusout"&&(P=S._wrapperState)&&P.controlled&&S.type==="number"&&Mm(S,"number",S.value)}switch(P=c?Ba(c):window,t){case"focusin":(ZS(P)||P.contentEditable==="true")&&(Da=P,$m=c,Ul=null);break;case"focusout":Ul=$m=Da=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,nE(g,n,d);break;case"selectionchange":if(EN)break;case"keydown":case"keyup":nE(g,n,d)}var F;if(Hv)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else La?I2(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(x2&&n.locale!=="ko"&&(La||U!=="onCompositionStart"?U==="onCompositionEnd"&&La&&(F=_2()):(Is=d,zv="value"in Is?Is.value:Is.textContent,La=!0)),P=nd(c,U),0<P.length&&(U=new KS(U,t,null,n,d),g.push({event:U,listeners:P}),F?U.data=F:(F=C2(n),F!==null&&(U.data=F)))),(F=lN?cN(t,n):fN(t,n))&&(c=nd(c,"onBeforeInput"),0<c.length&&(d=new KS("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:c}),d.data=F))}F2(g,e)})}function fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ic(t,n),s!=null&&r.unshift(fc(t,s,i)),s=ic(t,e),s!=null&&r.push(fc(t,s,i))),t=t.return}return r}function Ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ic(n,s),u!=null&&o.unshift(fc(n,u,a))):i||(u=ic(n,s),u!=null&&o.push(fc(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IN=/\r\n?/g,CN=/\u0000|\uFFFD/g;function oE(t){return(typeof t=="string"?t:""+t).replace(IN,`
`).replace(CN,"")}function Pf(t,e,n){if(e=oE(e),oE(t)!==e&&n)throw Error(ne(425))}function rd(){}var zm=null,jm=null;function Vm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,MN=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,AN=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(t){return aE.resolve(null).then(t).catch(kN)}:Hm;function kN(t){setTimeout(function(){throw t})}function Wg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ac(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ac(e)}function Ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zu=Math.random().toString(36).slice(2),xi="__reactFiber$"+zu,hc="__reactProps$"+zu,ts="__reactContainer$"+zu,qm="__reactEvents$"+zu,TN="__reactListeners$"+zu,RN="__reactHandles$"+zu;function Po(t){var e=t[xi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ts]||n[xi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uE(t);t!==null;){if(n=t[xi])return n;t=uE(t)}return e}t=n,n=t.parentNode}return null}function Qc(t){return t=t[xi]||t[ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function fp(t){return t[hc]||null}var Wm=[],Fa=-1;function io(t){return{current:t}}function Pt(t){0>Fa||(t.current=Wm[Fa],Wm[Fa]=null,Fa--)}function Rt(t,e){Fa++,Wm[Fa]=t.current,t.current=e}var Ks={},Jn=io(Ks),pr=io(!1),Yo=Ks;function wu(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function id(){Pt(pr),Pt(Jn)}function lE(t,e,n){if(Jn.current!==Ks)throw Error(ne(168));Rt(Jn,e),Rt(pr,n)}function U2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,g4(t)||"Unknown",i));return Kt({},n,r)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Yo=Jn.current,Rt(Jn,t),Rt(pr,pr.current),!0}function cE(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=U2(t,e,Yo),r.__reactInternalMemoizedMergedChildContext=t,Pt(pr),Pt(Jn),Rt(Jn,t)):Pt(pr),Rt(pr,n)}var Hi=null,hp=!1,Kg=!1;function z2(t){Hi===null?Hi=[t]:Hi.push(t)}function NN(t){hp=!0,z2(t)}function so(){if(!Kg&&Hi!==null){Kg=!0;var t=0,e=It;try{var n=Hi;for(It=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hi=null,hp=!1}catch(i){throw Hi!==null&&(Hi=Hi.slice(t+1)),h2(Bv,so),i}finally{It=e,Kg=!1}}return null}var $a=[],Ua=0,od=null,ad=0,jr=[],Vr=0,Zo=null,Ki=1,Gi="";function To(t,e){$a[Ua++]=ad,$a[Ua++]=od,od=t,ad=e}function j2(t,e,n){jr[Vr++]=Ki,jr[Vr++]=Gi,jr[Vr++]=Zo,Zo=t;var r=Ki;t=Gi;var i=32-ui(r)-1;r&=~(1<<i),n+=1;var s=32-ui(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-ui(e)+i|n<<i|r,Gi=s+t}else Ki=1<<s|n<<i|r,Gi=t}function Wv(t){t.return!==null&&(To(t,1),j2(t,1,0))}function Kv(t){for(;t===od;)od=$a[--Ua],$a[Ua]=null,ad=$a[--Ua],$a[Ua]=null;for(;t===Zo;)Zo=jr[--Vr],jr[Vr]=null,Gi=jr[--Vr],jr[Vr]=null,Ki=jr[--Vr],jr[Vr]=null}var kr=null,Ar=null,zt=!1,si=null;function V2(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,Ar=Ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,Ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zo!==null?{id:Ki,overflow:Gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kr=t,Ar=null,!0):!1;default:return!1}}function Km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gm(t){if(zt){var e=Ar;if(e){var n=e;if(!fE(t,e)){if(Km(t))throw Error(ne(418));e=Ds(n.nextSibling);var r=kr;e&&fE(t,e)?V2(r,n):(t.flags=t.flags&-4097|2,zt=!1,kr=t)}}else{if(Km(t))throw Error(ne(418));t.flags=t.flags&-4097|2,zt=!1,kr=t}}}function hE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Bf(t){if(t!==kr)return!1;if(!zt)return hE(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vm(t.type,t.memoizedProps)),e&&(e=Ar)){if(Km(t))throw H2(),Error(ne(418));for(;e;)V2(t,e),e=Ds(e.nextSibling)}if(hE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ar=Ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ar=null}}else Ar=kr?Ds(t.stateNode.nextSibling):null;return!0}function H2(){for(var t=Ar;t;)t=Ds(t.nextSibling)}function Su(){Ar=kr=null,zt=!1}function Gv(t){si===null?si=[t]:si.push(t)}var ON=fs.ReactCurrentBatchConfig;function ri(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ud=io(null),ld=null,za=null,Qv=null;function Yv(){Qv=za=ld=null}function Zv(t){var e=ud.current;Pt(ud),t._currentValue=e}function Qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function eu(t,e){ld=t,Qv=za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(Qv!==t)if(t={context:t,memoizedValue:e,next:null},za===null){if(ld===null)throw Error(ne(308));za=t,ld.dependencies={lanes:0,firstContext:t}}else za=za.next=t;return e}var Bo=null;function Xv(t){Bo===null?Bo=[t]:Bo.push(t)}function q2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ns(t,r)}function ns(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ss=!1;function Jv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ns(t,n)}return i=r.interleaved,i===null?(e.next=e,Xv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ns(t,n)}function Sh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fv(t,n)}}function dE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cd(t,e,n,r){var i=t.updateQueue;Ss=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;o=0,d=c=u=null,a=s;do{var S=a.lane,w=a.eventTime;if((r&S)===S){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,x=a;switch(S=e,w=n,x.tag){case 1:if(C=x.payload,typeof C=="function"){g=C.call(w,g,S);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,S=typeof C=="function"?C.call(w,g,S):C,S==null)break e;g=Kt({},g,S);break e;case 2:Ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,S=i.effects,S===null?i.effects=[a]:S.push(a))}else w={eventTime:w,lane:S,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,u=g):d=d.next=w,o|=S;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;S=a,a=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(d===null&&(u=g),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jo|=o,t.lanes=o,t.memoizedState=g}}function pE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var K2=new qx.Component().refs;function Ym(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dp={isMounted:function(t){return(t=t._reactInternals)?ca(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sr(),i=Fs(t),s=Zi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(li(e,t,i,r),Sh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sr(),i=Fs(t),s=Zi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ps(t,s,i),e!==null&&(li(e,t,i,r),Sh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sr(),r=Fs(t),i=Zi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ps(t,i,r),e!==null&&(li(e,t,r,n),Sh(e,t,r))}};function gE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!lc(n,r)||!lc(i,s):!0}function G2(t,e,n){var r=!1,i=Ks,s=e.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(i=gr(e)?Yo:Jn.current,r=e.contextTypes,s=(r=r!=null)?wu(t,i):Ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dp.enqueueReplaceState(e,e.state,null)}function Zm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=K2,Jv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zr(s):(s=gr(e)?Yo:Jn.current,i.context=wu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ym(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dp.enqueueReplaceState(i,i.state,null),cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===K2&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Ff(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yE(t){var e=t._init;return e(t._payload)}function Q2(t){function e(T,k){if(t){var M=T.deletions;M===null?(T.deletions=[k],T.flags|=16):M.push(k)}}function n(T,k){if(!t)return null;for(;k!==null;)e(T,k),k=k.sibling;return null}function r(T,k){for(T=new Map;k!==null;)k.key!==null?T.set(k.key,k):T.set(k.index,k),k=k.sibling;return T}function i(T,k){return T=$s(T,k),T.index=0,T.sibling=null,T}function s(T,k,M){return T.index=M,t?(M=T.alternate,M!==null?(M=M.index,M<k?(T.flags|=2,k):M):(T.flags|=2,k)):(T.flags|=1048576,k)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,k,M,B){return k===null||k.tag!==6?(k=e0(M,T.mode,B),k.return=T,k):(k=i(k,M),k.return=T,k)}function u(T,k,M,B){var L=M.type;return L===Oa?d(T,k,M.props.children,B,M.key):k!==null&&(k.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ws&&yE(L)===k.type)?(B=i(k,M.props),B.ref=pl(T,k,M),B.return=T,B):(B=Ch(M.type,M.key,M.props,null,T.mode,B),B.ref=pl(T,k,M),B.return=T,B)}function c(T,k,M,B){return k===null||k.tag!==4||k.stateNode.containerInfo!==M.containerInfo||k.stateNode.implementation!==M.implementation?(k=t0(M,T.mode,B),k.return=T,k):(k=i(k,M.children||[]),k.return=T,k)}function d(T,k,M,B,L){return k===null||k.tag!==7?(k=Wo(M,T.mode,B,L),k.return=T,k):(k=i(k,M),k.return=T,k)}function g(T,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return k=e0(""+k,T.mode,M),k.return=T,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Mf:return M=Ch(k.type,k.key,k.props,null,T.mode,M),M.ref=pl(T,null,k),M.return=T,M;case Na:return k=t0(k,T.mode,M),k.return=T,k;case ws:var B=k._init;return g(T,B(k._payload),M)}if(Ml(k)||ll(k))return k=Wo(k,T.mode,M,null),k.return=T,k;Ff(T,k)}return null}function S(T,k,M,B){var L=k!==null?k.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return L!==null?null:a(T,k,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Mf:return M.key===L?u(T,k,M,B):null;case Na:return M.key===L?c(T,k,M,B):null;case ws:return L=M._init,S(T,k,L(M._payload),B)}if(Ml(M)||ll(M))return L!==null?null:d(T,k,M,B,null);Ff(T,M)}return null}function w(T,k,M,B,L){if(typeof B=="string"&&B!==""||typeof B=="number")return T=T.get(M)||null,a(k,T,""+B,L);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Mf:return T=T.get(B.key===null?M:B.key)||null,u(k,T,B,L);case Na:return T=T.get(B.key===null?M:B.key)||null,c(k,T,B,L);case ws:var P=B._init;return w(T,k,M,P(B._payload),L)}if(Ml(B)||ll(B))return T=T.get(M)||null,d(k,T,B,L,null);Ff(k,B)}return null}function C(T,k,M,B){for(var L=null,P=null,F=k,U=k=0,ee=null;F!==null&&U<M.length;U++){F.index>U?(ee=F,F=null):ee=F.sibling;var Z=S(T,F,M[U],B);if(Z===null){F===null&&(F=ee);break}t&&F&&Z.alternate===null&&e(T,F),k=s(Z,k,U),P===null?L=Z:P.sibling=Z,P=Z,F=ee}if(U===M.length)return n(T,F),zt&&To(T,U),L;if(F===null){for(;U<M.length;U++)F=g(T,M[U],B),F!==null&&(k=s(F,k,U),P===null?L=F:P.sibling=F,P=F);return zt&&To(T,U),L}for(F=r(T,F);U<M.length;U++)ee=w(F,T,U,M[U],B),ee!==null&&(t&&ee.alternate!==null&&F.delete(ee.key===null?U:ee.key),k=s(ee,k,U),P===null?L=ee:P.sibling=ee,P=ee);return t&&F.forEach(function(Y){return e(T,Y)}),zt&&To(T,U),L}function x(T,k,M,B){var L=ll(M);if(typeof L!="function")throw Error(ne(150));if(M=L.call(M),M==null)throw Error(ne(151));for(var P=L=null,F=k,U=k=0,ee=null,Z=M.next();F!==null&&!Z.done;U++,Z=M.next()){F.index>U?(ee=F,F=null):ee=F.sibling;var Y=S(T,F,Z.value,B);if(Y===null){F===null&&(F=ee);break}t&&F&&Y.alternate===null&&e(T,F),k=s(Y,k,U),P===null?L=Y:P.sibling=Y,P=Y,F=ee}if(Z.done)return n(T,F),zt&&To(T,U),L;if(F===null){for(;!Z.done;U++,Z=M.next())Z=g(T,Z.value,B),Z!==null&&(k=s(Z,k,U),P===null?L=Z:P.sibling=Z,P=Z);return zt&&To(T,U),L}for(F=r(T,F);!Z.done;U++,Z=M.next())Z=w(F,T,U,Z.value,B),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?U:Z.key),k=s(Z,k,U),P===null?L=Z:P.sibling=Z,P=Z);return t&&F.forEach(function(ce){return e(T,ce)}),zt&&To(T,U),L}function N(T,k,M,B){if(typeof M=="object"&&M!==null&&M.type===Oa&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Mf:e:{for(var L=M.key,P=k;P!==null;){if(P.key===L){if(L=M.type,L===Oa){if(P.tag===7){n(T,P.sibling),k=i(P,M.props.children),k.return=T,T=k;break e}}else if(P.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ws&&yE(L)===P.type){n(T,P.sibling),k=i(P,M.props),k.ref=pl(T,P,M),k.return=T,T=k;break e}n(T,P);break}else e(T,P);P=P.sibling}M.type===Oa?(k=Wo(M.props.children,T.mode,B,M.key),k.return=T,T=k):(B=Ch(M.type,M.key,M.props,null,T.mode,B),B.ref=pl(T,k,M),B.return=T,T=B)}return o(T);case Na:e:{for(P=M.key;k!==null;){if(k.key===P)if(k.tag===4&&k.stateNode.containerInfo===M.containerInfo&&k.stateNode.implementation===M.implementation){n(T,k.sibling),k=i(k,M.children||[]),k.return=T,T=k;break e}else{n(T,k);break}else e(T,k);k=k.sibling}k=t0(M,T.mode,B),k.return=T,T=k}return o(T);case ws:return P=M._init,N(T,k,P(M._payload),B)}if(Ml(M))return C(T,k,M,B);if(ll(M))return x(T,k,M,B);Ff(T,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,k!==null&&k.tag===6?(n(T,k.sibling),k=i(k,M),k.return=T,T=k):(n(T,k),k=e0(M,T.mode,B),k.return=T,T=k),o(T)):n(T,k)}return N}var Eu=Q2(!0),Y2=Q2(!1),Yc={},Ni=io(Yc),dc=io(Yc),pc=io(Yc);function Fo(t){if(t===Yc)throw Error(ne(174));return t}function ew(t,e){switch(Rt(pc,e),Rt(dc,t),Rt(Ni,Yc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:km(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=km(e,t)}Pt(Ni),Rt(Ni,e)}function bu(){Pt(Ni),Pt(dc),Pt(pc)}function Z2(t){Fo(pc.current);var e=Fo(Ni.current),n=km(e,t.type);e!==n&&(Rt(dc,t),Rt(Ni,n))}function tw(t){dc.current===t&&(Pt(Ni),Pt(dc))}var Vt=io(0);function fd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gg=[];function nw(){for(var t=0;t<Gg.length;t++)Gg[t]._workInProgressVersionPrimary=null;Gg.length=0}var Eh=fs.ReactCurrentDispatcher,Qg=fs.ReactCurrentBatchConfig,Xo=0,Wt=null,hn=null,gn=null,hd=!1,zl=!1,gc=0,LN=0;function Pn(){throw Error(ne(321))}function rw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hi(t[n],e[n]))return!1;return!0}function iw(t,e,n,r,i,s){if(Xo=s,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eh.current=t===null||t.memoizedState===null?FN:$N,t=n(r,i),zl){s=0;do{if(zl=!1,gc=0,25<=s)throw Error(ne(301));s+=1,gn=hn=null,e.updateQueue=null,Eh.current=UN,t=n(r,i)}while(zl)}if(Eh.current=dd,e=hn!==null&&hn.next!==null,Xo=0,gn=hn=Wt=null,hd=!1,e)throw Error(ne(300));return t}function sw(){var t=gc!==0;return gc=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Wt.memoizedState=gn=t:gn=gn.next=t,gn}function Xr(){if(hn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=gn===null?Wt.memoizedState:gn.next;if(e!==null)gn=e,hn=t;else{if(t===null)throw Error(ne(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},gn===null?Wt.memoizedState=gn=t:gn=gn.next=t}return gn}function mc(t,e){return typeof e=="function"?e(t):e}function Yg(t){var e=Xr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=hn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Xo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=g,o=r):u=u.next=g,Wt.lanes|=d,Jo|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,hi(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Wt.lanes|=s,Jo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zg(t){var e=Xr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hi(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function X2(){}function J2(t,e){var n=Wt,r=Xr(),i=e(),s=!hi(r.memoizedState,i);if(s&&(r.memoizedState=i,dr=!0),r=r.queue,ow(nI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,yc(9,tI.bind(null,n,r,i,e),void 0,null),vn===null)throw Error(ne(349));Xo&30||eI(n,e,i)}return i}function eI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tI(t,e,n,r){e.value=n,e.getSnapshot=r,rI(e)&&iI(t)}function nI(t,e,n){return n(function(){rI(e)&&iI(t)})}function rI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hi(t,n)}catch{return!0}}function iI(t){var e=ns(t,1);e!==null&&li(e,t,1,-1)}function vE(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:t},e.queue=t,t=t.dispatch=BN.bind(null,Wt,t),[e.memoizedState,t]}function yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sI(){return Xr().memoizedState}function bh(t,e,n,r){var i=wi();Wt.flags|=t,i.memoizedState=yc(1|e,n,void 0,r===void 0?null:r)}function pp(t,e,n,r){var i=Xr();r=r===void 0?null:r;var s=void 0;if(hn!==null){var o=hn.memoizedState;if(s=o.destroy,r!==null&&rw(r,o.deps)){i.memoizedState=yc(e,n,s,r);return}}Wt.flags|=t,i.memoizedState=yc(1|e,n,s,r)}function wE(t,e){return bh(8390656,8,t,e)}function ow(t,e){return pp(2048,8,t,e)}function oI(t,e){return pp(4,2,t,e)}function aI(t,e){return pp(4,4,t,e)}function uI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lI(t,e,n){return n=n!=null?n.concat([t]):null,pp(4,4,uI.bind(null,e,t),n)}function aw(){}function cI(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fI(t,e){var n=Xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hI(t,e,n){return Xo&21?(hi(n,e)||(n=g2(),Wt.lanes|=n,Jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function DN(t,e){var n=It;It=n!==0&&4>n?n:4,t(!0);var r=Qg.transition;Qg.transition={};try{t(!1),e()}finally{It=n,Qg.transition=r}}function dI(){return Xr().memoizedState}function PN(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pI(t))gI(e,n);else if(n=q2(t,e,n,r),n!==null){var i=sr();li(n,t,r,i),mI(n,e,r)}}function BN(t,e,n){var r=Fs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pI(t))gI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hi(a,o)){var u=e.interleaved;u===null?(i.next=i,Xv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=q2(t,e,i,r),n!==null&&(i=sr(),li(n,t,r,i),mI(n,e,r))}}function pI(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function gI(t,e){zl=hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fv(t,n)}}var dd={readContext:Zr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},FN={readContext:Zr,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:wE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bh(4194308,4,uI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return bh(4,2,t,e)},useMemo:function(t,e){var n=wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PN.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:vE,useDebugValue:aw,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=vE(!1),e=t[0];return t=DN.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,i=wi();if(zt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),vn===null)throw Error(ne(349));Xo&30||eI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wE(nI.bind(null,r,s,t),[t]),r.flags|=2048,yc(9,tI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=wi(),e=vn.identifierPrefix;if(zt){var n=Gi,r=Ki;n=(r&~(1<<32-ui(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$N={readContext:Zr,useCallback:cI,useContext:Zr,useEffect:ow,useImperativeHandle:lI,useInsertionEffect:oI,useLayoutEffect:aI,useMemo:fI,useReducer:Yg,useRef:sI,useState:function(){return Yg(mc)},useDebugValue:aw,useDeferredValue:function(t){var e=Xr();return hI(e,hn.memoizedState,t)},useTransition:function(){var t=Yg(mc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:X2,useSyncExternalStore:J2,useId:dI,unstable_isNewReconciler:!1},UN={readContext:Zr,useCallback:cI,useContext:Zr,useEffect:ow,useImperativeHandle:lI,useInsertionEffect:oI,useLayoutEffect:aI,useMemo:fI,useReducer:Zg,useRef:sI,useState:function(){return Zg(mc)},useDebugValue:aw,useDeferredValue:function(t){var e=Xr();return hn===null?e.memoizedState=t:hI(e,hn.memoizedState,t)},useTransition:function(){var t=Zg(mc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:X2,useSyncExternalStore:J2,useId:dI,unstable_isNewReconciler:!1};function _u(t,e){try{var n="",r=e;do n+=p4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zN=typeof WeakMap=="function"?WeakMap:Map;function yI(t,e,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gd||(gd=!0,uy=r),Xm(t,e)},n}function vI(t,e,n){n=Zi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xm(t,e),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function SE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=t3.bind(null,t,e,n),e.then(t,t))}function EE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zi(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var jN=fs.ReactCurrentOwner,dr=!1;function tr(t,e,n,r){e.child=t===null?Y2(e,null,n,r):Eu(e,t.child,n,r)}function _E(t,e,n,r,i){n=n.render;var s=e.ref;return eu(e,i),r=iw(t,e,n,r,s,i),n=sw(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rs(t,e,i)):(zt&&n&&Wv(e),e.flags|=1,tr(t,e,r,i),e.child)}function xE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wI(t,e,s,r,i)):(t=Ch(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:lc,n(o,r)&&t.ref===e.ref)return rs(t,e,i)}return e.flags|=1,t=$s(s,r),t.ref=e.ref,t.return=e,e.child=t}function wI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(lc(s,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,rs(t,e,i)}return Jm(t,e,n,r,i)}function SI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Va,Er),Er|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(Va,Er),Er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rt(Va,Er),Er|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rt(Va,Er),Er|=r;return tr(t,e,i,n),e.child}function EI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jm(t,e,n,r,i){var s=gr(n)?Yo:Jn.current;return s=wu(e,s),eu(e,i),n=iw(t,e,n,r,s,i),r=sw(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rs(t,e,i)):(zt&&r&&Wv(e),e.flags|=1,tr(t,e,n,i),e.child)}function IE(t,e,n,r,i){if(gr(n)){var s=!0;sd(e)}else s=!1;if(eu(e,i),e.stateNode===null)_h(t,e),G2(e,n,r),Zm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zr(c):(c=gr(n)?Yo:Jn.current,c=wu(e,c));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&mE(e,o,r,c),Ss=!1;var S=e.memoizedState;o.state=S,cd(e,r,o,i),u=e.memoizedState,a!==r||S!==u||pr.current||Ss?(typeof d=="function"&&(Ym(e,n,d,r),u=e.memoizedState),(a=Ss||gE(e,n,a,r,S,u,c))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,W2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ri(e.type,a),o.props=c,g=e.pendingProps,S=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zr(u):(u=gr(n)?Yo:Jn.current,u=wu(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||S!==u)&&mE(e,o,r,u),Ss=!1,S=e.memoizedState,o.state=S,cd(e,r,o,i);var C=e.memoizedState;a!==g||S!==C||pr.current||Ss?(typeof w=="function"&&(Ym(e,n,w,r),C=e.memoizedState),(c=Ss||gE(e,n,c,r,S,C,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),r=!1)}return ey(t,e,n,r,s,i)}function ey(t,e,n,r,i,s){EI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cE(e,n,!1),rs(t,e,s);r=e.stateNode,jN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eu(e,t.child,null,s),e.child=Eu(e,null,a,s)):tr(t,e,a,s),e.memoizedState=r.state,i&&cE(e,n,!0),e.child}function bI(t){var e=t.stateNode;e.pendingContext?lE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lE(t,e.context,!1),ew(t,e.containerInfo)}function CE(t,e,n,r,i){return Su(),Gv(i),e.flags|=256,tr(t,e,n,r),e.child}var ty={dehydrated:null,treeContext:null,retryLane:0};function ny(t){return{baseLanes:t,cachePool:null,transitions:null}}function _I(t,e,n){var r=e.pendingProps,i=Vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(Vt,i&1),t===null)return Gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yp(o,r,0,null),t=Wo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ny(n),e.memoizedState=ty,t):uw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=$s(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$s(a,s):(s=Wo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ny(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ty,r}return s=t.child,t=s.sibling,r=$s(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uw(t,e){return e=yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $f(t,e,n,r){return r!==null&&Gv(r),Eu(e,t.child,null,n),t=uw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xg(Error(ne(422))),$f(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yp({mode:"visible",children:r.children},i,0,null),s=Wo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Eu(e,t.child,null,o),e.child.memoizedState=ny(o),e.memoizedState=ty,s);if(!(e.mode&1))return $f(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=Xg(s,r,void 0),$f(t,e,o,r)}if(a=(o&t.childLanes)!==0,dr||a){if(r=vn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ns(t,i),li(r,t,i,-1))}return pw(),r=Xg(Error(ne(421))),$f(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=n3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ar=Ds(i.nextSibling),kr=e,zt=!0,si=null,t!==null&&(jr[Vr++]=Ki,jr[Vr++]=Gi,jr[Vr++]=Zo,Ki=t.id,Gi=t.overflow,Zo=e),e=uw(e,r.children),e.flags|=4096,e)}function ME(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qm(t.return,e,n)}function Jg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tr(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ME(t,n,e);else if(t.tag===19)ME(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jg(e,!0,n,null,s);break;case"together":Jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=$s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HN(t,e,n){switch(e.tag){case 3:bI(e),Su();break;case 5:Z2(e);break;case 1:gr(e.type)&&sd(e);break;case 4:ew(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(ud,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?_I(t,e,n):(Rt(Vt,Vt.current&1),t=rs(t,e,n),t!==null?t.sibling:null);Rt(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,SI(t,e,n)}return rs(t,e,n)}var II,ry,CI,MI;II=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ry=function(){};CI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fo(Ni.current);var s=null;switch(n){case"input":i=Im(t,i),r=Im(t,r),s=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),s=[];break;case"textarea":i=Am(t,i),r=Am(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rd)}Tm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nc.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Nt("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};MI=function(t,e,n,r){n!==r&&(e.flags|=4)};function gl(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qN(t,e,n){var r=e.pendingProps;switch(Kv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return gr(e.type)&&id(),Bn(e),null;case 3:return r=e.stateNode,bu(),Pt(pr),Pt(Jn),nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,si!==null&&(fy(si),si=null))),ry(t,e),Bn(e),null;case 5:tw(e);var i=Fo(pc.current);if(n=e.type,t!==null&&e.stateNode!=null)CI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return Bn(e),null}if(t=Fo(Ni.current),Bf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xi]=e,r[hc]=s,t=(e.mode&1)!==0,n){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(i=0;i<kl.length;i++)Nt(kl[i],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":PS(r,s),Nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",r);break;case"textarea":FS(r,s),Nt("invalid",r)}Tm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pf(r.textContent,a,t),i=["children",""+a]):nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nt("scroll",r)}switch(n){case"input":Af(r),BS(r,s,!0);break;case"textarea":Af(r),$S(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xi]=e,t[hc]=r,II(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rm(n,r),n){case"dialog":Nt("cancel",t),Nt("close",t),i=r;break;case"iframe":case"object":case"embed":Nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<kl.length;i++)Nt(kl[i],t);i=r;break;case"source":Nt("error",t),i=r;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),i=r;break;case"details":Nt("toggle",t),i=r;break;case"input":PS(t,r),i=Im(t,r),Nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Nt("invalid",t);break;case"textarea":FS(t,r),i=Am(t,r),Nt("invalid",t);break;default:i=r}Tm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?r2(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&t2(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&rc(t,u):typeof u=="number"&&rc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Nt("scroll",t):u!=null&&Nv(t,s,u,o))}switch(n){case"input":Af(t),BS(t,r,!1);break;case"textarea":Af(t),$S(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ws(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ya(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(t&&e.stateNode!=null)MI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=Fo(pc.current),Fo(Ni.current),Bf(e)){if(r=e.stateNode,n=e.memoizedProps,r[xi]=e,(s=r.nodeValue!==n)&&(t=kr,t!==null))switch(t.tag){case 3:Pf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xi]=e,e.stateNode=r}return Bn(e),null;case 13:if(Pt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&Ar!==null&&e.mode&1&&!(e.flags&128))H2(),Su(),e.flags|=98560,s=!1;else if(s=Bf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[xi]=e}else Su(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),s=!1}else si!==null&&(fy(si),si=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?dn===0&&(dn=3):pw())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return bu(),ry(t,e),t===null&&cc(e.stateNode.containerInfo),Bn(e),null;case 10:return Zv(e.type._context),Bn(e),null;case 17:return gr(e.type)&&id(),Bn(e),null;case 19:if(Pt(Vt),s=e.memoizedState,s===null)return Bn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gl(s,!1);else{if(dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fd(t),o!==null){for(e.flags|=128,gl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Jt()>xu&&(e.flags|=128,r=!0,gl(s,!1),e.lanes=4194304)}else{if(!r)if(t=fd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zt)return Bn(e),null}else 2*Jt()-s.renderingStartTime>xu&&n!==1073741824&&(e.flags|=128,r=!0,gl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Jt(),e.sibling=null,n=Vt.current,Rt(Vt,r?n&1|2:n&1),e):(Bn(e),null);case 22:case 23:return dw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Er&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function WN(t,e){switch(Kv(e),e.tag){case 1:return gr(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bu(),Pt(pr),Pt(Jn),nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tw(e),null;case 13:if(Pt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));Su()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Vt),null;case 4:return bu(),null;case 10:return Zv(e.type._context),null;case 22:case 23:return dw(),null;case 24:return null;default:return null}}var Uf=!1,Wn=!1,KN=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(t,e,r)}else n.current=null}function iy(t,e,n){try{n()}catch(r){Yt(t,e,r)}}var AE=!1;function GN(t,e){if(zm=ed,t=R2(),qv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,g=t,S=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(w=g.firstChild)!==null;)S=g,g=w;for(;;){if(g===t)break t;if(S===n&&++c===i&&(a=o),S===s&&++d===r&&(u=o),(w=g.nextSibling)!==null)break;g=S,S=g.parentNode}g=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jm={focusedElem:t,selectionRange:n},ed=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var x=C.memoizedProps,N=C.memoizedState,T=e.stateNode,k=T.getSnapshotBeforeUpdate(e.elementType===e.type?x:ri(e.type,x),N);T.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(B){Yt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return C=AE,AE=!1,C}function jl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iy(e,n,s)}i=i.next}while(i!==r)}}function gp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AI(t){var e=t.alternate;e!==null&&(t.alternate=null,AI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xi],delete e[hc],delete e[qm],delete e[TN],delete e[RN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kI(t){return t.tag===5||t.tag===3||t.tag===4}function kE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(t=t.child,t!==null))for(oy(t,e,n),t=t.sibling;t!==null;)oy(t,e,n),t=t.sibling}function ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ay(t,e,n),t=t.sibling;t!==null;)ay(t,e,n),t=t.sibling}var In=null,ii=!1;function hs(t,e,n){for(n=n.child;n!==null;)TI(t,e,n),n=n.sibling}function TI(t,e,n){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(ap,n)}catch{}switch(n.tag){case 5:Wn||ja(n,e);case 6:var r=In,i=ii;In=null,hs(t,e,n),In=r,ii=i,In!==null&&(ii?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(ii?(t=In,n=n.stateNode,t.nodeType===8?Wg(t.parentNode,n):t.nodeType===1&&Wg(t,n),ac(t)):Wg(In,n.stateNode));break;case 4:r=In,i=ii,In=n.stateNode.containerInfo,ii=!0,hs(t,e,n),In=r,ii=i;break;case 0:case 11:case 14:case 15:if(!Wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iy(n,e,o),i=i.next}while(i!==r)}hs(t,e,n);break;case 1:if(!Wn&&(ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Yt(n,e,a)}hs(t,e,n);break;case 21:hs(t,e,n);break;case 22:n.mode&1?(Wn=(r=Wn)||n.memoizedState!==null,hs(t,e,n),Wn=r):hs(t,e,n);break;default:hs(t,e,n)}}function TE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KN),e.forEach(function(r){var i=r3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ei(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:In=a.stateNode,ii=!1;break e;case 3:In=a.stateNode.containerInfo,ii=!0;break e;case 4:In=a.stateNode.containerInfo,ii=!0;break e}a=a.return}if(In===null)throw Error(ne(160));TI(s,o,i),In=null,ii=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RI(e,t),e=e.sibling}function RI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ei(e,t),mi(t),r&4){try{jl(3,t,t.return),gp(3,t)}catch(x){Yt(t,t.return,x)}try{jl(5,t,t.return)}catch(x){Yt(t,t.return,x)}}break;case 1:ei(e,t),mi(t),r&512&&n!==null&&ja(n,n.return);break;case 5:if(ei(e,t),mi(t),r&512&&n!==null&&ja(n,n.return),t.flags&32){var i=t.stateNode;try{rc(i,"")}catch(x){Yt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Xx(i,s),Rm(a,o);var c=Rm(a,s);for(o=0;o<u.length;o+=2){var d=u[o],g=u[o+1];d==="style"?r2(i,g):d==="dangerouslySetInnerHTML"?t2(i,g):d==="children"?rc(i,g):Nv(i,d,g,c)}switch(a){case"input":Cm(i,s);break;case"textarea":Jx(i,s);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ya(i,!!s.multiple,w,!1):S!==!!s.multiple&&(s.defaultValue!=null?Ya(i,!!s.multiple,s.defaultValue,!0):Ya(i,!!s.multiple,s.multiple?[]:"",!1))}i[hc]=s}catch(x){Yt(t,t.return,x)}}break;case 6:if(ei(e,t),mi(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Yt(t,t.return,x)}}break;case 3:if(ei(e,t),mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(e.containerInfo)}catch(x){Yt(t,t.return,x)}break;case 4:ei(e,t),mi(t);break;case 13:ei(e,t),mi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fw=Jt())),r&4&&TE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Wn=(c=Wn)||d,ei(e,t),Wn=c):ei(e,t),mi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(g=ge=d;ge!==null;){switch(S=ge,w=S.child,S.tag){case 0:case 11:case 14:case 15:jl(4,S,S.return);break;case 1:ja(S,S.return);var C=S.stateNode;if(typeof C.componentWillUnmount=="function"){r=S,n=S.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(x){Yt(r,n,x)}}break;case 5:ja(S,S.return);break;case 22:if(S.memoizedState!==null){NE(g);continue}}w!==null?(w.return=S,ge=w):NE(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=n2("display",o))}catch(x){Yt(t,t.return,x)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(x){Yt(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ei(e,t),mi(t),r&4&&TE(t);break;case 21:break;default:ei(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kI(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rc(i,""),r.flags&=-33);var s=kE(t);ay(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kE(t);oy(t,a,o);break;default:throw Error(ne(161))}}catch(u){Yt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QN(t,e,n){ge=t,NI(t)}function NI(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Wn;a=Uf;var c=Wn;if(Uf=o,(Wn=u)&&!c)for(ge=i;ge!==null;)o=ge,u=o.child,o.tag===22&&o.memoizedState!==null?OE(i):u!==null?(u.return=o,ge=u):OE(i);for(;s!==null;)ge=s,NI(s),s=s.sibling;ge=i,Uf=a,Wn=c}RE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):RE(t)}}function RE(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wn||gp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ri(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&ac(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Wn||e.flags&512&&sy(e)}catch(S){Yt(e,e.return,S)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function NE(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function OE(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gp(4,e)}catch(u){Yt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Yt(e,i,u)}}var s=e.return;try{sy(e)}catch(u){Yt(e,s,u)}break;case 5:var o=e.return;try{sy(e)}catch(u){Yt(e,o,u)}}}catch(u){Yt(e,e.return,u)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var YN=Math.ceil,pd=fs.ReactCurrentDispatcher,lw=fs.ReactCurrentOwner,Kr=fs.ReactCurrentBatchConfig,mt=0,vn=null,an=null,Nn=0,Er=0,Va=io(0),dn=0,vc=null,Jo=0,mp=0,cw=0,Vl=null,cr=null,fw=0,xu=1/0,Vi=null,gd=!1,uy=null,Bs=null,zf=!1,Cs=null,md=0,Hl=0,ly=null,xh=-1,Ih=0;function sr(){return mt&6?Jt():xh!==-1?xh:xh=Jt()}function Fs(t){return t.mode&1?mt&2&&Nn!==0?Nn&-Nn:ON.transition!==null?(Ih===0&&(Ih=g2()),Ih):(t=It,t!==0||(t=window.event,t=t===void 0?16:b2(t.type)),t):1}function li(t,e,n,r){if(50<Hl)throw Hl=0,ly=null,Error(ne(185));Kc(t,n,r),(!(mt&2)||t!==vn)&&(t===vn&&(!(mt&2)&&(mp|=n),dn===4&&xs(t,Nn)),mr(t,r),n===1&&mt===0&&!(e.mode&1)&&(xu=Jt()+500,hp&&so()))}function mr(t,e){var n=t.callbackNode;O4(t,e);var r=Jh(t,t===vn?Nn:0);if(r===0)n!==null&&jS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jS(n),e===1)t.tag===0?NN(LE.bind(null,t)):z2(LE.bind(null,t)),AN(function(){!(mt&6)&&so()}),n=null;else{switch(m2(r)){case 1:n=Bv;break;case 4:n=d2;break;case 16:n=Xh;break;case 536870912:n=p2;break;default:n=Xh}n=UI(n,OI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OI(t,e){if(xh=-1,Ih=0,mt&6)throw Error(ne(327));var n=t.callbackNode;if(tu()&&t.callbackNode!==n)return null;var r=Jh(t,t===vn?Nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yd(t,r);else{e=r;var i=mt;mt|=2;var s=DI();(vn!==t||Nn!==e)&&(Vi=null,xu=Jt()+500,qo(t,e));do try{JN();break}catch(a){LI(t,a)}while(1);Yv(),pd.current=s,mt=i,an!==null?e=0:(vn=null,Nn=0,e=dn)}if(e!==0){if(e===2&&(i=Pm(t),i!==0&&(r=i,e=cy(t,i))),e===1)throw n=vc,qo(t,0),xs(t,r),mr(t,Jt()),n;if(e===6)xs(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZN(i)&&(e=yd(t,r),e===2&&(s=Pm(t),s!==0&&(r=s,e=cy(t,s))),e===1))throw n=vc,qo(t,0),xs(t,r),mr(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Ro(t,cr,Vi);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=fw+500-Jt(),10<e)){if(Jh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hm(Ro.bind(null,t,cr,Vi),e);break}Ro(t,cr,Vi);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ui(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YN(r/1960))-r,10<r){t.timeoutHandle=Hm(Ro.bind(null,t,cr,Vi),r);break}Ro(t,cr,Vi);break;case 5:Ro(t,cr,Vi);break;default:throw Error(ne(329))}}}return mr(t,Jt()),t.callbackNode===n?OI.bind(null,t):null}function cy(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(qo(t,e).flags|=256),t=yd(t,e),t!==2&&(e=cr,cr=n,e!==null&&fy(e)),t}function fy(t){cr===null?cr=t:cr.push.apply(cr,t)}function ZN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~cw,e&=~mp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ui(e),r=1<<n;t[n]=-1,e&=~r}}function LE(t){if(mt&6)throw Error(ne(327));tu();var e=Jh(t,0);if(!(e&1))return mr(t,Jt()),null;var n=yd(t,e);if(t.tag!==0&&n===2){var r=Pm(t);r!==0&&(e=r,n=cy(t,r))}if(n===1)throw n=vc,qo(t,0),xs(t,e),mr(t,Jt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ro(t,cr,Vi),mr(t,Jt()),null}function hw(t,e){var n=mt;mt|=1;try{return t(e)}finally{mt=n,mt===0&&(xu=Jt()+500,hp&&so())}}function ea(t){Cs!==null&&Cs.tag===0&&!(mt&6)&&tu();var e=mt;mt|=1;var n=Kr.transition,r=It;try{if(Kr.transition=null,It=1,t)return t()}finally{It=r,Kr.transition=n,mt=e,!(mt&6)&&so()}}function dw(){Er=Va.current,Pt(Va)}function qo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MN(n)),an!==null)for(n=an.return;n!==null;){var r=n;switch(Kv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:bu(),Pt(pr),Pt(Jn),nw();break;case 5:tw(r);break;case 4:bu();break;case 13:Pt(Vt);break;case 19:Pt(Vt);break;case 10:Zv(r.type._context);break;case 22:case 23:dw()}n=n.return}if(vn=t,an=t=$s(t.current,null),Nn=Er=e,dn=0,vc=null,cw=mp=Jo=0,cr=Vl=null,Bo!==null){for(e=0;e<Bo.length;e++)if(n=Bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bo=null}return t}function LI(t,e){do{var n=an;try{if(Yv(),Eh.current=dd,hd){for(var r=Wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hd=!1}if(Xo=0,gn=hn=Wt=null,zl=!1,gc=0,lw.current=null,n===null||n.return===null){dn=1,vc=e,an=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Nn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var S=d.alternate;S?(d.updateQueue=S.updateQueue,d.memoizedState=S.memoizedState,d.lanes=S.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=EE(o);if(w!==null){w.flags&=-257,bE(w,o,a,s,e),w.mode&1&&SE(s,c,e),e=w,u=c;var C=e.updateQueue;if(C===null){var x=new Set;x.add(u),e.updateQueue=x}else C.add(u);break e}else{if(!(e&1)){SE(s,c,e),pw();break e}u=Error(ne(426))}}else if(zt&&a.mode&1){var N=EE(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),bE(N,o,a,s,e),Gv(_u(u,a));break e}}s=u=_u(u,a),dn!==4&&(dn=2),Vl===null?Vl=[s]:Vl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=yI(s,u,e);dE(s,T);break e;case 1:a=u;var k=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Bs===null||!Bs.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=vI(s,a,e);dE(s,B);break e}}s=s.return}while(s!==null)}BI(n)}catch(L){e=L,an===n&&n!==null&&(an=n=n.return);continue}break}while(1)}function DI(){var t=pd.current;return pd.current=dd,t===null?dd:t}function pw(){(dn===0||dn===3||dn===2)&&(dn=4),vn===null||!(Jo&268435455)&&!(mp&268435455)||xs(vn,Nn)}function yd(t,e){var n=mt;mt|=2;var r=DI();(vn!==t||Nn!==e)&&(Vi=null,qo(t,e));do try{XN();break}catch(i){LI(t,i)}while(1);if(Yv(),mt=n,pd.current=r,an!==null)throw Error(ne(261));return vn=null,Nn=0,dn}function XN(){for(;an!==null;)PI(an)}function JN(){for(;an!==null&&!x4();)PI(an)}function PI(t){var e=$I(t.alternate,t,Er);t.memoizedProps=t.pendingProps,e===null?BI(t):an=e,lw.current=null}function BI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WN(n,e),n!==null){n.flags&=32767,an=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dn=6,an=null;return}}else if(n=qN(n,e,Er),n!==null){an=n;return}if(e=e.sibling,e!==null){an=e;return}an=e=t}while(e!==null);dn===0&&(dn=5)}function Ro(t,e,n){var r=It,i=Kr.transition;try{Kr.transition=null,It=1,e3(t,e,n,r)}finally{Kr.transition=i,It=r}return null}function e3(t,e,n,r){do tu();while(Cs!==null);if(mt&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(L4(t,s),t===vn&&(an=vn=null,Nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zf||(zf=!0,UI(Xh,function(){return tu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kr.transition,Kr.transition=null;var o=It;It=1;var a=mt;mt|=4,lw.current=null,GN(t,n),RI(n,t),SN(jm),ed=!!zm,jm=zm=null,t.current=n,QN(n),I4(),mt=a,It=o,Kr.transition=s}else t.current=n;if(zf&&(zf=!1,Cs=t,md=i),s=t.pendingLanes,s===0&&(Bs=null),A4(n.stateNode),mr(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gd)throw gd=!1,t=uy,uy=null,t;return md&1&&t.tag!==0&&tu(),s=t.pendingLanes,s&1?t===ly?Hl++:(Hl=0,ly=t):Hl=0,so(),null}function tu(){if(Cs!==null){var t=m2(md),e=Kr.transition,n=It;try{if(Kr.transition=null,It=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,md=0,mt&6)throw Error(ne(331));var i=mt;for(mt|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ge=c;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:jl(8,d,s)}var g=d.child;if(g!==null)g.return=d,ge=g;else for(;ge!==null;){d=ge;var S=d.sibling,w=d.return;if(AI(d),d===c){ge=null;break}if(S!==null){S.return=w,ge=S;break}ge=w}}}var C=s.alternate;if(C!==null){var x=C.child;if(x!==null){C.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jl(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ge=T;break e}ge=s.return}}var k=t.current;for(ge=k;ge!==null;){o=ge;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,ge=M;else e:for(o=k;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gp(9,a)}}catch(L){Yt(a,a.return,L)}if(a===o){ge=null;break e}var B=a.sibling;if(B!==null){B.return=a.return,ge=B;break e}ge=a.return}}if(mt=i,so(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(ap,t)}catch{}r=!0}return r}finally{It=n,Kr.transition=e}}return!1}function DE(t,e,n){e=_u(n,e),e=yI(t,e,1),t=Ps(t,e,1),e=sr(),t!==null&&(Kc(t,1,e),mr(t,e))}function Yt(t,e,n){if(t.tag===3)DE(t,t,n);else for(;e!==null;){if(e.tag===3){DE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){t=_u(n,t),t=vI(e,t,1),e=Ps(e,t,1),t=sr(),e!==null&&(Kc(e,1,t),mr(e,t));break}}e=e.return}}function t3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sr(),t.pingedLanes|=t.suspendedLanes&n,vn===t&&(Nn&n)===n&&(dn===4||dn===3&&(Nn&130023424)===Nn&&500>Jt()-fw?qo(t,0):cw|=n),mr(t,e)}function FI(t,e){e===0&&(t.mode&1?(e=Rf,Rf<<=1,!(Rf&130023424)&&(Rf=4194304)):e=1);var n=sr();t=ns(t,e),t!==null&&(Kc(t,e,n),mr(t,n))}function n3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FI(t,n)}function r3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),FI(t,n)}var $I;$I=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,HN(t,e,n);dr=!!(t.flags&131072)}else dr=!1,zt&&e.flags&1048576&&j2(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_h(t,e),t=e.pendingProps;var i=wu(e,Jn.current);eu(e,n),i=iw(null,e,r,t,i,n);var s=sw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(r)?(s=!0,sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jv(e),i.updater=dp,e.stateNode=i,i._reactInternals=e,Zm(e,r,t,n),e=ey(null,e,r,!0,s,n)):(e.tag=0,zt&&s&&Wv(e),tr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_h(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=s3(r),t=ri(r,t),i){case 0:e=Jm(null,e,r,t,n);break e;case 1:e=IE(null,e,r,t,n);break e;case 11:e=_E(null,e,r,t,n);break e;case 14:e=xE(null,e,r,ri(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),Jm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),IE(t,e,r,i,n);case 3:e:{if(bI(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,W2(t,e),cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_u(Error(ne(423)),e),e=CE(t,e,r,n,i);break e}else if(r!==i){i=_u(Error(ne(424)),e),e=CE(t,e,r,n,i);break e}else for(Ar=Ds(e.stateNode.containerInfo.firstChild),kr=e,zt=!0,si=null,n=Y2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Su(),r===i){e=rs(t,e,n);break e}tr(t,e,r,n)}e=e.child}return e;case 5:return Z2(e),t===null&&Gm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vm(r,i)?o=null:s!==null&&Vm(r,s)&&(e.flags|=32),EI(t,e),tr(t,e,o,n),e.child;case 6:return t===null&&Gm(e),null;case 13:return _I(t,e,n);case 4:return ew(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eu(e,null,r,n):tr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),_E(t,e,r,i,n);case 7:return tr(t,e,e.pendingProps,n),e.child;case 8:return tr(t,e,e.pendingProps.children,n),e.child;case 12:return tr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rt(ud,r._currentValue),r._currentValue=o,s!==null)if(hi(s.value,o)){if(s.children===i.children&&!pr.current){e=rs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Zi(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Qm(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,eu(e,n),i=Zr(i),r=r(i),e.flags|=1,tr(t,e,r,n),e.child;case 14:return r=e.type,i=ri(r,e.pendingProps),i=ri(r.type,i),xE(t,e,r,i,n);case 15:return wI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),_h(t,e),e.tag=1,gr(r)?(t=!0,sd(e)):t=!1,eu(e,n),G2(e,r,i),Zm(e,r,i,n),ey(null,e,r,!0,t,n);case 19:return xI(t,e,n);case 22:return SI(t,e,n)}throw Error(ne(156,e.tag))};function UI(t,e){return h2(t,e)}function i3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,r){return new i3(t,e,n,r)}function gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s3(t){if(typeof t=="function")return gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lv)return 11;if(t===Dv)return 14}return 2}function $s(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ch(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oa:return Wo(n.children,i,s,e);case Ov:o=8,i|=8;break;case Em:return t=Wr(12,n,e,i|2),t.elementType=Em,t.lanes=s,t;case bm:return t=Wr(13,n,e,i),t.elementType=bm,t.lanes=s,t;case _m:return t=Wr(19,n,e,i),t.elementType=_m,t.lanes=s,t;case Qx:return yp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kx:o=10;break e;case Gx:o=9;break e;case Lv:o=11;break e;case Dv:o=14;break e;case ws:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wo(t,e,n,r){return t=Wr(7,t,r,e),t.lanes=n,t}function yp(t,e,n,r){return t=Wr(22,t,r,e),t.elementType=Qx,t.lanes=n,t.stateNode={isHidden:!1},t}function e0(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function t0(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mw(t,e,n,r,i,s,o,a,u){return t=new o3(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jv(s),t}function a3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zI(t){if(!t)return Ks;t=t._reactInternals;e:{if(ca(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(gr(n))return U2(t,n,e)}return e}function jI(t,e,n,r,i,s,o,a,u){return t=mw(n,r,!0,t,i,s,o,a,u),t.context=zI(null),n=t.current,r=sr(),i=Fs(n),s=Zi(r,i),s.callback=e??null,Ps(n,s,i),t.current.lanes=i,Kc(t,i,r),mr(t,r),t}function vp(t,e,n,r){var i=e.current,s=sr(),o=Fs(i);return n=zI(n),e.context===null?e.context=n:e.pendingContext=n,e=Zi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(i,e,o),t!==null&&(li(t,i,o,s),Sh(t,i,o)),o}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yw(t,e){PE(t,e),(t=t.alternate)&&PE(t,e)}function u3(){return null}var VI=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}wp.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));vp(t,e,null,null)};wp.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){vp(null,t,null,null)}),e[ts]=null}};function wp(t){this._internalRoot=t}wp.prototype.unstable_scheduleHydration=function(t){if(t){var e=w2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&E2(t)}};function ww(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BE(){}function l3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=vd(o);s.call(c)}}var o=jI(e,r,t,0,null,!1,!1,"",BE);return t._reactRootContainer=o,t[ts]=o.current,cc(t.nodeType===8?t.parentNode:t),ea(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=vd(u);a.call(c)}}var u=mw(t,0,!1,null,null,!1,!1,"",BE);return t._reactRootContainer=u,t[ts]=u.current,cc(t.nodeType===8?t.parentNode:t),ea(function(){vp(e,u,n,r)}),u}function Ep(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=vd(o);a.call(u)}}vp(e,o,t,i)}else o=l3(n,e,t,i,r);return vd(o)}y2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(Fv(e,n|1),mr(e,Jt()),!(mt&6)&&(xu=Jt()+500,so()))}break;case 13:ea(function(){var r=ns(t,1);if(r!==null){var i=sr();li(r,t,1,i)}}),yw(t,1)}};$v=function(t){if(t.tag===13){var e=ns(t,134217728);if(e!==null){var n=sr();li(e,t,134217728,n)}yw(t,134217728)}};v2=function(t){if(t.tag===13){var e=Fs(t),n=ns(t,e);if(n!==null){var r=sr();li(n,t,e,r)}yw(t,e)}};w2=function(){return It};S2=function(t,e){var n=It;try{return It=t,e()}finally{It=n}};Om=function(t,e,n){switch(e){case"input":if(Cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fp(r);if(!i)throw Error(ne(90));Zx(r),Cm(r,i)}}}break;case"textarea":Jx(t,n);break;case"select":e=n.value,e!=null&&Ya(t,!!n.multiple,e,!1)}};o2=hw;a2=ea;var c3={usingClientEntryPoint:!1,Events:[Qc,Ba,fp,i2,s2,hw]},ml={findFiberByHostInstance:Po,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},f3={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c2(t),t===null?null:t.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||u3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{ap=jf.inject(f3),Ri=jf}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c3;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ww(e))throw Error(ne(200));return a3(t,e,null,n)};Or.createRoot=function(t,e){if(!ww(t))throw Error(ne(299));var n=!1,r="",i=VI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mw(t,1,!1,null,null,n,!1,r,i),t[ts]=e.current,cc(t.nodeType===8?t.parentNode:t),new vw(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=c2(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return ea(t)};Or.hydrate=function(t,e,n){if(!Sp(e))throw Error(ne(200));return Ep(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!ww(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jI(e,null,t,1,n??null,i,!1,s,o),t[ts]=e.current,cc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wp(e)};Or.render=function(t,e,n){if(!Sp(e))throw Error(ne(200));return Ep(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!Sp(t))throw Error(ne(40));return t._reactRootContainer?(ea(function(){Ep(null,null,t,!1,function(){t._reactRootContainer=null,t[ts]=null})}),!0):!1};Or.unstable_batchedUpdates=hw;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sp(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Ep(t,e,n,!1,r)};Or.version="18.2.0-next-9e3b772b8-20220608";function HI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HI)}catch(t){console.error(t)}}HI(),jx.exports=Or;var Zc=jx.exports;const h3=cs(Zc);var FE=Zc;wm.createRoot=FE.createRoot,wm.hydrateRoot=FE.hydrateRoot;function d3(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function p3(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var g3=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(p3(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=d3(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Vn="-ms-",wd="-moz-",wt="-webkit-",qI="comm",Sw="rule",Ew="decl",m3="@import",WI="@keyframes",y3="@layer",v3=Math.abs,bp=String.fromCharCode,w3=Object.assign;function S3(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function KI(t){return t.trim()}function E3(t,e){return(t=e.exec(t))?t[0]:t}function St(t,e,n){return t.replace(e,n)}function hy(t,e){return t.indexOf(e)}function Tn(t,e){return t.charCodeAt(e)|0}function wc(t,e,n){return t.slice(e,n)}function bi(t){return t.length}function bw(t){return t.length}function Vf(t,e){return e.push(t),t}function b3(t,e){return t.map(e).join("")}var _p=1,Iu=1,GI=0,yr=0,on=0,ju="";function xp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:_p,column:Iu,length:o,return:""}}function yl(t,e){return w3(xp("",null,null,"",null,null,0),t,{length:-t.length},e)}function _3(){return on}function x3(){return on=yr>0?Tn(ju,--yr):0,Iu--,on===10&&(Iu=1,_p--),on}function Tr(){return on=yr<GI?Tn(ju,yr++):0,Iu++,on===10&&(Iu=1,_p++),on}function Oi(){return Tn(ju,yr)}function Mh(){return yr}function Xc(t,e){return wc(ju,t,e)}function Sc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QI(t){return _p=Iu=1,GI=bi(ju=t),yr=0,[]}function YI(t){return ju="",t}function Ah(t){return KI(Xc(yr-1,dy(t===91?t+2:t===40?t+1:t)))}function I3(t){for(;(on=Oi())&&on<33;)Tr();return Sc(t)>2||Sc(on)>3?"":" "}function C3(t,e){for(;--e&&Tr()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return Xc(t,Mh()+(e<6&&Oi()==32&&Tr()==32))}function dy(t){for(;Tr();)switch(on){case t:return yr;case 34:case 39:t!==34&&t!==39&&dy(on);break;case 40:t===41&&dy(t);break;case 92:Tr();break}return yr}function M3(t,e){for(;Tr()&&t+on!==47+10;)if(t+on===42+42&&Oi()===47)break;return"/*"+Xc(e,yr-1)+"*"+bp(t===47?t:Tr())}function A3(t){for(;!Sc(Oi());)Tr();return Xc(t,yr)}function k3(t){return YI(kh("",null,null,null,[""],t=QI(t),0,[0],t))}function kh(t,e,n,r,i,s,o,a,u){for(var c=0,d=0,g=o,S=0,w=0,C=0,x=1,N=1,T=1,k=0,M="",B=i,L=s,P=r,F=M;N;)switch(C=k,k=Tr()){case 40:if(C!=108&&Tn(F,g-1)==58){hy(F+=St(Ah(k),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:F+=Ah(k);break;case 9:case 10:case 13:case 32:F+=I3(C);break;case 92:F+=C3(Mh()-1,7);continue;case 47:switch(Oi()){case 42:case 47:Vf(T3(M3(Tr(),Mh()),e,n),u);break;default:F+="/"}break;case 123*x:a[c++]=bi(F)*T;case 125*x:case 59:case 0:switch(k){case 0:case 125:N=0;case 59+d:T==-1&&(F=St(F,/\f/g,"")),w>0&&bi(F)-g&&Vf(w>32?UE(F+";",r,n,g-1):UE(St(F," ","")+";",r,n,g-2),u);break;case 59:F+=";";default:if(Vf(P=$E(F,e,n,c,d,i,a,M,B=[],L=[],g),s),k===123)if(d===0)kh(F,e,P,P,B,s,g,a,L);else switch(S===99&&Tn(F,3)===110?100:S){case 100:case 108:case 109:case 115:kh(t,P,P,r&&Vf($E(t,P,P,0,0,i,a,M,i,B=[],g),L),i,L,g,a,r?B:L);break;default:kh(F,P,P,P,[""],L,0,a,L)}}c=d=w=0,x=T=1,M=F="",g=o;break;case 58:g=1+bi(F),w=C;default:if(x<1){if(k==123)--x;else if(k==125&&x++==0&&x3()==125)continue}switch(F+=bp(k),k*x){case 38:T=d>0?1:(F+="\f",-1);break;case 44:a[c++]=(bi(F)-1)*T,T=1;break;case 64:Oi()===45&&(F+=Ah(Tr())),S=Oi(),d=g=bi(M=F+=A3(Mh())),k++;break;case 45:C===45&&bi(F)==2&&(x=0)}}return s}function $E(t,e,n,r,i,s,o,a,u,c,d){for(var g=i-1,S=i===0?s:[""],w=bw(S),C=0,x=0,N=0;C<r;++C)for(var T=0,k=wc(t,g+1,g=v3(x=o[C])),M=t;T<w;++T)(M=KI(x>0?S[T]+" "+k:St(k,/&\f/g,S[T])))&&(u[N++]=M);return xp(t,e,n,i===0?Sw:a,u,c,d)}function T3(t,e,n){return xp(t,e,n,qI,bp(_3()),wc(t,2,-2),0)}function UE(t,e,n,r){return xp(t,e,n,Ew,wc(t,0,r),wc(t,r+1,-1),r)}function nu(t,e){for(var n="",r=bw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function R3(t,e,n,r){switch(t.type){case y3:if(t.children.length)break;case m3:case Ew:return t.return=t.return||t.value;case qI:return"";case WI:return t.return=t.value+"{"+nu(t.children,r)+"}";case Sw:t.value=t.props.join(",")}return bi(n=nu(t.children,r))?t.return=t.value+"{"+n+"}":""}function N3(t){var e=bw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function O3(t){return function(e){e.root||(e=e.return)&&t(e)}}function L3(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var D3=function(e,n,r){for(var i=0,s=0;i=s,s=Oi(),i===38&&s===12&&(n[r]=1),!Sc(s);)Tr();return Xc(e,yr)},P3=function(e,n){var r=-1,i=44;do switch(Sc(i)){case 0:i===38&&Oi()===12&&(n[r]=1),e[r]+=D3(yr-1,n,r);break;case 2:e[r]+=Ah(i);break;case 4:if(i===44){e[++r]=Oi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=bp(i)}while(i=Tr());return e},B3=function(e,n){return YI(P3(QI(e),n))},zE=new WeakMap,F3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zE.get(r))&&!i){zE.set(e,!0);for(var s=[],o=B3(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[d]):a[d]+" "+o[u]}}},$3=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZI(t,e){switch(S3(t,e)){case 5103:return wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+t+wd+t+Vn+t+t;case 6828:case 4268:return wt+t+Vn+t+t;case 6165:return wt+t+Vn+"flex-"+t+t;case 5187:return wt+t+St(t,/(\w+).+(:[^]+)/,wt+"box-$1$2"+Vn+"flex-$1$2")+t;case 5443:return wt+t+Vn+"flex-item-"+St(t,/flex-|-self/,"")+t;case 4675:return wt+t+Vn+"flex-line-pack"+St(t,/align-content|flex-|-self/,"")+t;case 5548:return wt+t+Vn+St(t,"shrink","negative")+t;case 5292:return wt+t+Vn+St(t,"basis","preferred-size")+t;case 6060:return wt+"box-"+St(t,"-grow","")+wt+t+Vn+St(t,"grow","positive")+t;case 4554:return wt+St(t,/([^-])(transform)/g,"$1"+wt+"$2")+t;case 6187:return St(St(St(t,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),t,"")+t;case 5495:case 3959:return St(t,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return St(St(t,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+Vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+t+t;case 4095:case 3583:case 4068:case 2532:return St(t,/(.+)-inline(.+)/,wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bi(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return St(t,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+wd+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~hy(t,"stretch")?ZI(St(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tn(t,e+1)!==115)break;case 6444:switch(Tn(t,bi(t)-3-(~hy(t,"!important")&&10))){case 107:return St(t,":",":"+wt)+t;case 101:return St(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(Tn(t,14)===45?"inline-":"")+"box$3$1"+wt+"$2$3$1"+Vn+"$2box$3")+t}break;case 5936:switch(Tn(t,e+11)){case 114:return wt+t+Vn+St(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return wt+t+Vn+St(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return wt+t+Vn+St(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return wt+t+Vn+t+t}return t}var U3=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Ew:e.return=ZI(e.value,e.length);break;case WI:return nu([yl(e,{value:St(e.value,"@","@"+wt)})],i);case Sw:if(e.length)return b3(e.props,function(s){switch(E3(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nu([yl(e,{props:[St(s,/:(read-\w+)/,":"+wd+"$1")]})],i);case"::placeholder":return nu([yl(e,{props:[St(s,/:(plac\w+)/,":"+wt+"input-$1")]}),yl(e,{props:[St(s,/:(plac\w+)/,":"+wd+"$1")]}),yl(e,{props:[St(s,/:(plac\w+)/,Vn+"input-$1")]})],i)}return""})}},z3=[U3],j3=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var N=x.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||z3,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var N=x.getAttribute("data-emotion").split(" "),T=1;T<N.length;T++)s[N[T]]=!0;a.push(x)});var u,c=[F3,$3];{var d,g=[R3,O3(function(x){d.insert(x)})],S=N3(c.concat(i,g)),w=function(N){return nu(k3(N),S)};u=function(N,T,k,M){d=k,w(N?N+"{"+T.styles+"}":T.styles),M&&(C.inserted[T.name]=!0)}}var C={key:n,sheet:new g3({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return C.sheet.hydrate(a),C};function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lt.apply(this,arguments)}var XI={exports:{}},At={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn=typeof Symbol=="function"&&Symbol.for,_w=Sn?Symbol.for("react.element"):60103,xw=Sn?Symbol.for("react.portal"):60106,Ip=Sn?Symbol.for("react.fragment"):60107,Cp=Sn?Symbol.for("react.strict_mode"):60108,Mp=Sn?Symbol.for("react.profiler"):60114,Ap=Sn?Symbol.for("react.provider"):60109,kp=Sn?Symbol.for("react.context"):60110,Iw=Sn?Symbol.for("react.async_mode"):60111,Tp=Sn?Symbol.for("react.concurrent_mode"):60111,Rp=Sn?Symbol.for("react.forward_ref"):60112,Np=Sn?Symbol.for("react.suspense"):60113,V3=Sn?Symbol.for("react.suspense_list"):60120,Op=Sn?Symbol.for("react.memo"):60115,Lp=Sn?Symbol.for("react.lazy"):60116,H3=Sn?Symbol.for("react.block"):60121,q3=Sn?Symbol.for("react.fundamental"):60117,W3=Sn?Symbol.for("react.responder"):60118,K3=Sn?Symbol.for("react.scope"):60119;function Dr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _w:switch(t=t.type,t){case Iw:case Tp:case Ip:case Mp:case Cp:case Np:return t;default:switch(t=t&&t.$$typeof,t){case kp:case Rp:case Lp:case Op:case Ap:return t;default:return e}}case xw:return e}}}function JI(t){return Dr(t)===Tp}At.AsyncMode=Iw;At.ConcurrentMode=Tp;At.ContextConsumer=kp;At.ContextProvider=Ap;At.Element=_w;At.ForwardRef=Rp;At.Fragment=Ip;At.Lazy=Lp;At.Memo=Op;At.Portal=xw;At.Profiler=Mp;At.StrictMode=Cp;At.Suspense=Np;At.isAsyncMode=function(t){return JI(t)||Dr(t)===Iw};At.isConcurrentMode=JI;At.isContextConsumer=function(t){return Dr(t)===kp};At.isContextProvider=function(t){return Dr(t)===Ap};At.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_w};At.isForwardRef=function(t){return Dr(t)===Rp};At.isFragment=function(t){return Dr(t)===Ip};At.isLazy=function(t){return Dr(t)===Lp};At.isMemo=function(t){return Dr(t)===Op};At.isPortal=function(t){return Dr(t)===xw};At.isProfiler=function(t){return Dr(t)===Mp};At.isStrictMode=function(t){return Dr(t)===Cp};At.isSuspense=function(t){return Dr(t)===Np};At.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ip||t===Tp||t===Mp||t===Cp||t===Np||t===V3||typeof t=="object"&&t!==null&&(t.$$typeof===Lp||t.$$typeof===Op||t.$$typeof===Ap||t.$$typeof===kp||t.$$typeof===Rp||t.$$typeof===q3||t.$$typeof===W3||t.$$typeof===K3||t.$$typeof===H3)};At.typeOf=Dr;XI.exports=At;var G3=XI.exports,eC=G3,Q3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Y3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tC={};tC[eC.ForwardRef]=Q3;tC[eC.Memo]=Y3;var Z3=!0;function X3(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var nC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Z3===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},J3=function(e,n,r){nC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function eO(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nO=/[A-Z]|^ms/g,rO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rC=function(e){return e.charCodeAt(1)===45},jE=function(e){return e!=null&&typeof e!="boolean"},n0=L3(function(t){return rC(t)?t:t.replace(nO,"-$&").toLowerCase()}),VE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(rO,function(r,i,s){return _i={name:i,styles:s,next:_i},i})}return tO[e]!==1&&!rC(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ec(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return _i={name:n.name,styles:n.styles,next:_i},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)_i={name:r.name,styles:r.styles,next:_i},r=r.next;var i=n.styles+";";return i}return iO(t,e,n)}case"function":{if(t!==void 0){var s=_i,o=n(t);return _i=s,Ec(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function iO(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ec(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":jE(o)&&(r+=n0(s)+":"+VE(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)jE(o[a])&&(r+=n0(s)+":"+VE(s,o[a])+";");else{var u=Ec(t,e,o);switch(s){case"animation":case"animationName":{r+=n0(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var HE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_i,iC=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";_i=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ec(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ec(r,n,e[a]),i&&(s+=o[a]);HE.lastIndex=0;for(var u="",c;(c=HE.exec(s))!==null;)u+="-"+c[1];var d=eO(s)+u;return{name:d,styles:s,next:_i}},sO=function(e){return e()},oO=NS["useInsertionEffect"]?NS["useInsertionEffect"]:!1,aO=oO||sO,Dp={}.hasOwnProperty,sC=$.createContext(typeof HTMLElement<"u"?j3({key:"css"}):null);sC.Provider;var uO=function(e){return $.forwardRef(function(n,r){var i=$.useContext(sC);return e(n,i,r)})},lO=$.createContext({}),py="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",oC=function(e,n){var r={};for(var i in n)Dp.call(n,i)&&(r[i]=n[i]);return r[py]=e,r},cO=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return nC(n,r,i),aO(function(){return J3(n,r,i)}),null},fO=uO(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[py],s=[r],o="";typeof t.className=="string"?o=X3(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=iC(s,void 0,$.useContext(lO));o+=e.key+"-"+a.name;var u={};for(var c in t)Dp.call(t,c)&&c!=="css"&&c!==py&&(u[c]=t[c]);return u.ref=n,u.className=o,$.createElement($.Fragment,null,$.createElement(cO,{cache:e,serialized:a,isStringTag:typeof i=="string"}),$.createElement(i,u))}),aC=fO,hO=J.Fragment;function yi(t,e,n){return Dp.call(e,"css")?J.jsx(aC,oC(t,e),n):J.jsx(t,e,n)}function Hf(t,e,n){return Dp.call(e,"css")?J.jsxs(aC,oC(t,e),n):J.jsxs(t,e,n)}function vl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return iC(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,g=(s&3)<<4|a>>4;let S=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(S=64)),r.push(n[d],n[g],n[S],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||g==null)throw new pO;const S=s<<2|a>>4;if(r.push(S),c!==64){const w=a<<4&240|c>>2;if(r.push(w),g!==64){const C=c<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gO=function(t){const e=uC(t);return lC.encodeByteArray(e,!0)},Sd=function(t){return gO(t).replace(/\./g,"")},cC=function(t){try{return lC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>mO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cC(t[1]);return e&&JSON.parse(e)},Cw=()=>{try{return yO()||vO()||wO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SO=t=>{var e,n;return(n=(e=Cw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EO=t=>{const e=SO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fC=()=>{var t;return(t=Cw())===null||t===void 0?void 0:t.config},bO=t=>{var e;return(e=Cw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Sd(JSON.stringify(n)),Sd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Di())}function CO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AO(){try{return typeof indexedDB=="object"}catch{return!1}}function kO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="FirebaseError";class oo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TO,Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new oo(i,a,r)}}function RO(t,e){return t.replace(NO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NO=/\{\$([^}]+)}/g;function gy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qE(s)&&qE(o)){if(!gy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function OO(t,e){const n=new LO(t,e);return n.subscribe.bind(n)}class LO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=r0),i.error===void 0&&(i.error=r0),i.complete===void 0&&(i.complete=r0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function r0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _O;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FO(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BO(t){return t===No?void 0:t}function FO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const UO={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},zO=yt.INFO,jO={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},VO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mw{constructor(e){this.name=e,this._logLevel=zO,this._logHandler=VO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const HO=(t,e)=>e.some(n=>t instanceof n);let WE,KE;function qO(){return WE||(WE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dC=new WeakMap,my=new WeakMap,pC=new WeakMap,i0=new WeakMap,Aw=new WeakMap;function KO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Us(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dC.set(n,t)}).catch(()=>{}),Aw.set(e,t),e}function GO(t){if(my.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});my.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QO(t){yy=t(yy)}function YO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(s0(this),e,...n);return pC.set(r,e.sort?e.sort():[e]),Us(r)}:WO().includes(t)?function(...e){return t.apply(s0(this),e),Us(dC.get(this))}:function(...e){return Us(t.apply(s0(this),e))}}function ZO(t){return typeof t=="function"?YO(t):(t instanceof IDBTransaction&&GO(t),HO(t,qO())?new Proxy(t,yy):t)}function Us(t){if(t instanceof IDBRequest)return KO(t);if(i0.has(t))return i0.get(t);const e=ZO(t);return e!==t&&(i0.set(t,e),Aw.set(e,t)),e}const s0=t=>Aw.get(t);function XO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Us(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Us(o.result),u.oldVersion,u.newVersion,Us(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JO=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],o0=new Map;function GE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o0.get(e))return o0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JO.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return o0.set(e,s),s}QO(t=>({...t,get:(e,n,r)=>GE(e,n)||t.get(e,n,r),has:(e,n)=>!!GE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vy="@firebase/app",QE="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Mw("@firebase/app"),rL="@firebase/app-compat",iL="@firebase/analytics-compat",sL="@firebase/analytics",oL="@firebase/app-check-compat",aL="@firebase/app-check",uL="@firebase/auth",lL="@firebase/auth-compat",cL="@firebase/database",fL="@firebase/database-compat",hL="@firebase/functions",dL="@firebase/functions-compat",pL="@firebase/installations",gL="@firebase/installations-compat",mL="@firebase/messaging",yL="@firebase/messaging-compat",vL="@firebase/performance",wL="@firebase/performance-compat",SL="@firebase/remote-config",EL="@firebase/remote-config-compat",bL="@firebase/storage",_L="@firebase/storage-compat",xL="@firebase/firestore",IL="@firebase/firestore-compat",CL="firebase",ML="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="[DEFAULT]",AL={[vy]:"fire-core",[rL]:"fire-core-compat",[sL]:"fire-analytics",[iL]:"fire-analytics-compat",[aL]:"fire-app-check",[oL]:"fire-app-check-compat",[uL]:"fire-auth",[lL]:"fire-auth-compat",[cL]:"fire-rtdb",[fL]:"fire-rtdb-compat",[hL]:"fire-fn",[dL]:"fire-fn-compat",[pL]:"fire-iid",[gL]:"fire-iid-compat",[mL]:"fire-fcm",[yL]:"fire-fcm-compat",[vL]:"fire-perf",[wL]:"fire-perf-compat",[SL]:"fire-rc",[EL]:"fire-rc-compat",[bL]:"fire-gcs",[_L]:"fire-gcs-compat",[xL]:"fire-fst",[IL]:"fire-fst-compat","fire-js":"fire-js",[CL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map,Sy=new Map;function kL(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cu(t){const e=t.name;if(Sy.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;Sy.set(e,t);for(const n of Ed.values())kL(n,t);return!0}function TL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zs=new Jc("app","Firebase",RL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=ML;function gC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zs.create("bad-app-name",{appName:String(i)});if(n||(n=fC()),!n)throw zs.create("no-options");const s=Ed.get(i);if(s){if(gy(n,s.options)&&gy(r,s.config))return s;throw zs.create("duplicate-app",{appName:i})}const o=new $O(i);for(const u of Sy.values())o.addComponent(u);const a=new NL(n,r,o);return Ed.set(i,a),a}function OL(t=wy){const e=Ed.get(t);if(!e&&t===wy&&fC())return gC();if(!e)throw zs.create("no-app",{appName:t});return e}function js(t,e,n){var r;let i=(r=AL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(a.join(" "));return}Cu(new ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="firebase-heartbeat-database",DL=1,bc="firebase-heartbeat-store";let a0=null;function mC(){return a0||(a0=XO(LL,DL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bc)}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),a0}async function PL(t){try{return await(await mC()).transaction(bc).objectStore(bc).get(yC(t))}catch(e){if(e instanceof oo)na.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});na.warn(n.message)}}}async function YE(t,e){try{const r=(await mC()).transaction(bc,"readwrite");await r.objectStore(bc).put(e,yC(t)),await r.done}catch(n){if(n instanceof oo)na.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});na.warn(r.message)}}}function yC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=1024,FL=30*24*60*60*1e3;class $L{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ZE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=FL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ZE(),{heartbeatsToSend:n,unsentEntries:r}=UL(this._heartbeatsCache.heartbeats),i=Sd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ZE(){return new Date().toISOString().substring(0,10)}function UL(t,e=BL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AO()?kO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await PL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return YE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XE(t){return Sd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){Cu(new ta("platform-logger",e=>new tL(e),"PRIVATE")),Cu(new ta("heartbeat",e=>new $L(e),"PRIVATE")),js(vy,QE,t),js(vy,QE,"esm2017"),js("fire-js","")}jL("");var VL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue,kw=kw||{},ze=VL||self;function Bp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ef(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function HL(t){return Object.prototype.hasOwnProperty.call(t,u0)&&t[u0]||(t[u0]=++qL)}var u0="closure_uid_"+(1e9*Math.random()>>>0),qL=0;function WL(t,e,n){return t.call.apply(t.bind,arguments)}function KL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Yn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yn=WL:Yn=KL,Yn.apply(null,arguments)}function qf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function En(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ao(){this.s=this.s,this.o=this.o}var GL=0;ao.prototype.s=!1;ao.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),GL!=0)&&HL(this)};ao.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Bp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zn.prototype.h=function(){this.defaultPrevented=!0};var QL=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ze.addEventListener("test",()=>{},e),ze.removeEventListener("test",()=>{},e)}catch{}return t}();function _c(t){return/^[\s\xa0]*$/.test(t)}function Fp(){var t=ze.navigator;return t&&(t=t.userAgent)?t:""}function Ii(t){return Fp().indexOf(t)!=-1}function Rw(t){return Rw[" "](t),t}Rw[" "]=function(){};function YL(t,e){var n=j6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ZL=Ii("Opera"),Mu=Ii("Trident")||Ii("MSIE"),wC=Ii("Edge"),Ey=wC||Mu,SC=Ii("Gecko")&&!(Fp().toLowerCase().indexOf("webkit")!=-1&&!Ii("Edge"))&&!(Ii("Trident")||Ii("MSIE"))&&!Ii("Edge"),XL=Fp().toLowerCase().indexOf("webkit")!=-1&&!Ii("Edge");function EC(){var t=ze.document;return t?t.documentMode:void 0}var by;e:{var l0="",c0=function(){var t=Fp();if(SC)return/rv:([^\);]+)(\)|;)/.exec(t);if(wC)return/Edge\/([\d\.]+)/.exec(t);if(Mu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(XL)return/WebKit\/(\S+)/.exec(t);if(ZL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(c0&&(l0=c0?c0[1]:""),Mu){var f0=EC();if(f0!=null&&f0>parseFloat(l0)){by=String(f0);break e}}by=l0}var _y;if(ze.document&&Mu){var eb=EC();_y=eb||parseInt(by,10)||void 0}else _y=void 0;var JL=_y;function xc(t,e){if(Zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(SC){e:{try{Rw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:e6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xc.$.h.call(this)}}En(xc,Zn);var e6={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tf="closure_listenable_"+(1e6*Math.random()|0),t6=0;function n6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++t6,this.fa=this.ia=!1}function $p(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Nw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function r6(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function bC(t){const e={};for(const n in t)e[n]=t[n];return e}const tb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _C(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<tb.length;s++)n=tb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Up(t){this.src=t,this.g={},this.h=0}Up.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Iy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new n6(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function xy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=vC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($p(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Iy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ow="closure_lm_"+(1e6*Math.random()|0),h0={};function xC(t,e,n,r,i){if(r&&r.once)return CC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xC(t,e[s],n,r,i);return null}return n=Pw(n),t&&t[tf]?t.O(e,n,ef(r)?!!r.capture:!!r,i):IC(t,e,n,!1,r,i)}function IC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ef(i)?!!i.capture:!!i,a=Dw(t);if(a||(t[Ow]=a=new Up(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=i6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)QL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function i6(){function t(n){return e.call(t.src,t.listener,n)}const e=s6;return t}function CC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)CC(t,e[s],n,r,i);return null}return n=Pw(n),t&&t[tf]?t.P(e,n,ef(r)?!!r.capture:!!r,i):IC(t,e,n,!0,r,i)}function MC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)MC(t,e[s],n,r,i);else r=ef(r)?!!r.capture:!!r,n=Pw(n),t&&t[tf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Iy(s,n,r,i),-1<n&&($p(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Dw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Iy(e,n,r,i)),(n=-1<t?e[t]:null)&&Lw(n))}function Lw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[tf])xy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Dw(e))?(xy(n,t),n.h==0&&(n.src=null,e[Ow]=null)):$p(t)}}}function AC(t){return t in h0?h0[t]:h0[t]="on"+t}function s6(t,e){if(t.fa)t=!0;else{e=new xc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Lw(t),t=n.call(r,e)}return t}function Dw(t){return t=t[Ow],t instanceof Up?t:null}var d0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pw(t){return typeof t=="function"?t:(t[d0]||(t[d0]=function(e){return t.handleEvent(e)}),t[d0])}function wn(){ao.call(this),this.i=new Up(this),this.S=this,this.J=null}En(wn,ao);wn.prototype[tf]=!0;wn.prototype.removeEventListener=function(t,e,n,r){MC(this,t,e,n,r)};function On(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Zn(e,t);else if(e instanceof Zn)e.target=e.target||t;else{var i=e;e=new Zn(r,t),_C(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wf(o,r,!0,e)&&i}if(o=e.g=t,i=Wf(o,r,!0,e)&&i,i=Wf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Wf(o,r,!1,e)&&i}wn.prototype.N=function(){if(wn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$p(n[r]);delete t.g[e],t.h--}}this.J=null};wn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&xy(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Bw=ze.JSON.stringify;class o6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function a6(){var t=Fw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class u6{constructor(){this.h=this.g=null}add(e,n){const r=kC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var kC=new o6(()=>new l6,t=>t.reset());class l6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function c6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function f6(t){ze.setTimeout(()=>{throw t},0)}let Ic,Cc=!1,Fw=new u6,TC=()=>{const t=ze.Promise.resolve(void 0);Ic=()=>{t.then(h6)}};var h6=()=>{for(var t;t=a6();){try{t.h.call(t.g)}catch(n){f6(n)}var e=kC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cc=!1};function zp(t,e){wn.call(this),this.h=t||1,this.g=e||ze,this.j=Yn(this.qb,this),this.l=Date.now()}En(zp,wn);ue=zp.prototype;ue.ga=!1;ue.T=null;ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&($w(this),this.start()))}};ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $w(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ue.N=function(){zp.$.N.call(this),$w(this),delete this.g};function Uw(t,e,n){if(typeof t=="function")n&&(t=Yn(t,n));else if(t&&typeof t.handleEvent=="function")t=Yn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ze.setTimeout(t,e||0)}function RC(t){t.g=Uw(()=>{t.g=null,t.i&&(t.i=!1,RC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class d6 extends ao{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RC(this)}N(){super.N(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mc(t){ao.call(this),this.h=t,this.g={}}En(Mc,ao);var nb=[];function NC(t,e,n,r){Array.isArray(n)||(n&&(nb[0]=n.toString()),n=nb);for(var i=0;i<n.length;i++){var s=xC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OC(t){Nw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Lw(e)},t),t.g={}}Mc.prototype.N=function(){Mc.$.N.call(this),OC(this)};Mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jp(){this.g=!0}jp.prototype.Ea=function(){this.g=!1};function p6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var d=c[0];c=c[1];var g=d.split("_");o=2<=g.length&&g[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function g6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ha(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+y6(t,n)+(r?" "+r:"")})}function m6(t,e){t.info(function(){return"TIMEOUT: "+e})}jp.prototype.info=function(){};function y6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Bw(n)}catch{return e}}var fa={},rb=null;function Vp(){return rb=rb||new wn}fa.Ta="serverreachability";function LC(t){Zn.call(this,fa.Ta,t)}En(LC,Zn);function Ac(t){const e=Vp();On(e,new LC(e))}fa.STAT_EVENT="statevent";function DC(t,e){Zn.call(this,fa.STAT_EVENT,t),this.stat=e}En(DC,Zn);function nr(t){const e=Vp();On(e,new DC(e,t))}fa.Ua="timingevent";function PC(t,e){Zn.call(this,fa.Ua,t),this.size=e}En(PC,Zn);function nf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){t()},e)}var Hp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zw(){}zw.prototype.h=null;function ib(t){return t.h||(t.h=t.i())}function FC(){}var rf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jw(){Zn.call(this,"d")}En(jw,Zn);function Vw(){Zn.call(this,"c")}En(Vw,Zn);var Cy;function qp(){}En(qp,zw);qp.prototype.g=function(){return new XMLHttpRequest};qp.prototype.i=function(){return{}};Cy=new qp;function sf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Mc(this),this.P=v6,t=Ey?125:void 0,this.V=new zp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $C}function $C(){this.i=null,this.g="",this.h=!1}var v6=45e3,My={},bd={};ue=sf.prototype;ue.setTimeout=function(t){this.P=t};function Ay(t,e,n){t.L=1,t.v=Kp(is(e)),t.s=n,t.S=!0,UC(t,null)}function UC(t,e){t.G=Date.now(),of(t),t.A=is(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),GC(n.i,"t",r),t.C=0,n=t.l.J,t.h=new $C,t.g=gM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new d6(Yn(t.Pa,t,t.g),t.O)),NC(t.U,t.g,"readystatechange",t.nb),e=t.I?bC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ac(),p6(t.j,t.u,t.A,t.m,t.W,t.s)}ue.nb=function(t){t=t.target;const e=this.M;e&&Ai(t)==3?e.l():this.Pa(t)};ue.Pa=function(t){try{if(t==this.g)e:{const d=Ai(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>d)&&(d!=3||Ey||this.g&&(this.h.h||this.g.ja()||ub(this.g)))){this.J||d!=4||e==7||(e==8||0>=g?Ac(3):Ac(2)),Wp(this);var n=this.g.da();this.ca=n;t:if(zC(this)){var r=ub(this.g);t="";var i=r.length,s=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),ql(this);var o="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,g6(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_c(a)){var c=a;break t}}c=null}if(n=c)Ha(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ky(this,n);else{this.i=!1,this.o=3,nr(12),$o(this),ql(this);break e}}this.S?(jC(this,d,o),Ey&&this.i&&d==3&&(NC(this.U,this.V,"tick",this.mb),this.V.start())):(Ha(this.j,this.m,o,null),ky(this,o)),d==4&&$o(this),this.i&&!this.J&&(d==4?fM(this.l,this):(this.i=!1,of(this)))}else $6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,nr(12)):(this.o=0,nr(13)),$o(this),ql(this)}}}catch{}finally{}};function zC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function jC(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=w6(t,n),i==bd){e==4&&(t.o=4,nr(14),r=!1),Ha(t.j,t.m,null,"[Incomplete Response]");break}else if(i==My){t.o=4,nr(15),Ha(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ha(t.j,t.m,i,null),ky(t,i);zC(t)&&i!=bd&&i!=My&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,nr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qw(e),e.M=!0,nr(11))):(Ha(t.j,t.m,n,"[Invalid Chunked Response]"),$o(t),ql(t))}ue.mb=function(){if(this.g){var t=Ai(this.g),e=this.g.ja();this.C<e.length&&(Wp(this),jC(this,t,e),this.i&&t!=4&&of(this))}};function w6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?bd:(n=Number(e.substring(n,r)),isNaN(n)?My:(r+=1,r+n>e.length?bd:(e=e.slice(r,r+n),t.C=r+n,e)))}ue.cancel=function(){this.J=!0,$o(this)};function of(t){t.Y=Date.now()+t.P,VC(t,t.P)}function VC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=nf(Yn(t.lb,t),e)}function Wp(t){t.B&&(ze.clearTimeout(t.B),t.B=null)}ue.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(m6(this.j,this.A),this.L!=2&&(Ac(),nr(17)),$o(this),this.o=2,ql(this)):VC(this,this.Y-t)};function ql(t){t.l.H==0||t.J||fM(t.l,t)}function $o(t){Wp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,$w(t.V),OC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ky(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ty(n.i,t))){if(!t.K&&Ty(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Id(n),Yp(n);else break e;Gw(n),nr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nf(Yn(n.ib,n),6e3));if(1>=ZC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&Id(n),!_c(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const g=c[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const S=c[5];S!=null&&typeof S=="number"&&0<S&&(r=1.5*S,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const C=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.i;s.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hw(s,s.h),s.h=null))}if(r.F){const x=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,Dt(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=pM(r,r.J?r.pa:null,r.Y),o.K){XC(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Wp(a),of(a)),r.g=o}else lM(r);0<n.j.length&&Zp(n)}else c[0]!="stop"&&c[0]!="close"||Uo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Uo(n,7):Kw(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ac(4)}catch{}}function S6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function E6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function HC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=E6(t),r=S6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var qC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ko){this.h=t.h,_d(this,t.j),this.s=t.s,this.g=t.g,xd(this,t.m),this.l=t.l;var e=t.i,n=new kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),sb(this,n),this.o=t.o}else t&&(e=String(t).match(qC))?(this.h=!1,_d(this,e[1]||"",!0),this.s=Tl(e[2]||""),this.g=Tl(e[3]||"",!0),xd(this,e[4]),this.l=Tl(e[5]||"",!0),sb(this,e[6]||"",!0),this.o=Tl(e[7]||"")):(this.h=!1,this.i=new kc(null,this.h))}Ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Rl(e,ob,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Rl(e,ob,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Rl(n,n.charAt(0)=="/"?I6:x6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Rl(n,M6)),t.join("")};function is(t){return new Ko(t)}function _d(t,e,n){t.j=n?Tl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sb(t,e,n){e instanceof kc?(t.i=e,A6(t.i,t.h)):(n||(e=Rl(e,C6)),t.i=new kc(e,t.h))}function Dt(t,e,n){t.i.set(e,n)}function Kp(t){return Dt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,_6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ob=/[#\/\?@]/g,x6=/[#\?:]/g,I6=/[#\?]/g,C6=/[#\?@]/g,M6=/#/g;function kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function uo(t){t.g||(t.g=new Map,t.h=0,t.i&&b6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ue=kc.prototype;ue.add=function(t,e){uo(this),this.i=null,t=Vu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WC(t,e){uo(t),e=Vu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KC(t,e){return uo(t),e=Vu(t,e),t.g.has(e)}ue.forEach=function(t,e){uo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ue.ta=function(){uo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ue.Z=function(t){uo(this);let e=[];if(typeof t=="string")KC(this,t)&&(e=e.concat(this.g.get(Vu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ue.set=function(t,e){return uo(this),this.i=null,t=Vu(this,t),KC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GC(t,e,n){WC(t,e),0<n.length&&(t.i=null,t.g.set(Vu(t,e),Tw(n)),t.h+=n.length)}ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function A6(t,e){e&&!t.j&&(uo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WC(this,r),GC(this,i,n))},t)),t.j=e}var k6=class{constructor(t,e){this.g=t,this.map=e}};function QC(t){this.l=t||T6,ze.PerformanceNavigationTiming?(t=ze.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ze.g&&ze.g.Ka&&ze.g.Ka()&&ze.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T6=10;function YC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ZC(t){return t.h?1:t.g?t.g.size:0}function Ty(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hw(t,e){t.g?t.g.add(e):t.h=e}function XC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}QC.prototype.cancel=function(){if(this.i=JC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function JC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Tw(t.i)}var R6=class{stringify(t){return ze.JSON.stringify(t,void 0)}parse(t){return ze.JSON.parse(t,void 0)}};function N6(){this.g=new R6}function O6(t,e,n){const r=n||"";try{HC(t,function(i,s){let o=i;ef(i)&&(o=Bw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function L6(t,e){const n=new jp;if(ze.Image){const r=new Image;r.onload=qf(Kf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qf(Kf,n,r,"TestLoadImage: error",!1,e),r.onabort=qf(Kf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qf(Kf,n,r,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Kf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function af(t){this.l=t.fc||null,this.j=t.ob||!1}En(af,zw);af.prototype.g=function(){return new Gp(this.l,this.j)};af.prototype.i=function(t){return function(){return t}}({});function Gp(t,e){wn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(Gp,wn);var qw=0;ue=Gp.prototype;ue.open=function(t,e){if(this.readyState!=qw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tc(this)};ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uf(this)),this.readyState=qw};ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tc(this)),this.g&&(this.readyState=3,Tc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ze.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function eM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uf(this):Tc(this),this.readyState==3&&eM(this)}};ue.Za=function(t){this.g&&(this.response=this.responseText=t,uf(this))};ue.Ya=function(t){this.g&&(this.response=t,uf(this))};ue.ka=function(){this.g&&uf(this)};function uf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tc(t)}ue.setRequestHeader=function(t,e){this.v.append(t,e)};ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var D6=ze.JSON.parse;function Zt(t){wn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tM,this.L=this.M=!1}En(Zt,wn);var tM="",P6=/^https?$/i,B6=["POST","PUT"];ue=Zt.prototype;ue.Oa=function(t){this.M=t};ue.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cy.g(),this.C=this.u?ib(this.u):ib(Cy),this.g.onreadystatechange=Yn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){ab(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ze.FormData&&t instanceof ze.FormData,!(0<=vC(B6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iM(this),0<this.B&&((this.L=F6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yn(this.ua,this)):this.A=Uw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ab(this,s)}};function F6(t){return Mu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ue.ua=function(){typeof kw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))};function ab(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nM(t),Qp(t)}function nM(t){t.F||(t.F=!0,On(t,"complete"),On(t,"error"))}ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,On(this,"complete"),On(this,"abort"),Qp(this))};ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qp(this,!0)),Zt.$.N.call(this)};ue.La=function(){this.s||(this.G||this.v||this.l?rM(this):this.kb())};ue.kb=function(){rM(this)};function rM(t){if(t.h&&typeof kw<"u"&&(!t.C[1]||Ai(t)!=4||t.da()!=2)){if(t.v&&Ai(t)==4)Uw(t.La,0,t);else if(On(t,"readystatechange"),Ai(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(qC)[1]||null;!i&&ze.self&&ze.self.location&&(i=ze.self.location.protocol.slice(0,-1)),r=!P6.test(i?i.toLowerCase():"")}n=r}if(n)On(t,"complete"),On(t,"success");else{t.m=6;try{var s=2<Ai(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",nM(t)}}finally{Qp(t)}}}}function Qp(t,e){if(t.g){iM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||On(t,"ready");try{n.onreadystatechange=r}catch{}}}function iM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ze.clearTimeout(t.A),t.A=null)}ue.isActive=function(){return!!this.g};function Ai(t){return t.g?t.g.readyState:0}ue.da=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}};ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),D6(e)}};function ub(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case tM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $6(t){const e={};t=(t.g&&2<=Ai(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(_c(t[r]))continue;var n=c6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}r6(e,function(r){return r.join(", ")})}ue.Ia=function(){return this.m};ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sM(t){let e="";return Nw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ww(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Dt(t,e,n))}function wl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oM(t){this.Ga=0,this.j=[],this.l=new jp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wl("baseRetryDelayMs",5e3,t),this.hb=wl("retryDelaySeedMs",1e4,t),this.eb=wl("forwardChannelMaxRetries",2,t),this.xa=wl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new QC(t&&t.concurrentRequestLimit),this.Ja=new N6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ue=oM.prototype;ue.ra=8;ue.H=1;function Kw(t){if(aM(t),t.H==3){var e=t.W++,n=is(t.I);if(Dt(n,"SID",t.K),Dt(n,"RID",e),Dt(n,"TYPE","terminate"),lf(t,n),e=new sf(t,t.l,e),e.L=2,e.v=Kp(is(n)),n=!1,ze.navigator&&ze.navigator.sendBeacon)try{n=ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ze.Image&&(new Image().src=e.v,n=!0),n||(e.g=gM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),of(e)}dM(t)}function Yp(t){t.g&&(Qw(t),t.g.cancel(),t.g=null)}function aM(t){Yp(t),t.u&&(ze.clearTimeout(t.u),t.u=null),Id(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ze.clearTimeout(t.m),t.m=null)}function Zp(t){if(!YC(t.i)&&!t.m){t.m=!0;var e=t.Na;Ic||TC(),Cc||(Ic(),Cc=!0),Fw.add(e,t),t.C=0}}function U6(t,e){return ZC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=nf(Yn(t.Na,t,e),hM(t,t.C)),t.C++,!0)}ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=bC(s),_C(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uM(this,i,e),n=is(this.I),Dt(n,"RID",t),Dt(n,"CVER",22),this.F&&Dt(n,"X-HTTP-Session-Id",this.F),lf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(sM(s)))+"&"+e:this.o&&Ww(n,this.o,s)),Hw(this.i,i),this.bb&&Dt(n,"TYPE","init"),this.P?(Dt(n,"$req",e),Dt(n,"SID","null"),i.aa=!0,Ay(i,n,null)):Ay(i,n,e),this.H=2}}else this.H==3&&(t?lb(this,t):this.j.length==0||YC(this.i)||lb(this))};function lb(t,e){var n;e?n=e.m:n=t.W++;const r=is(t.I);Dt(r,"SID",t.K),Dt(r,"RID",n),Dt(r,"AID",t.V),lf(t,r),t.o&&t.s&&Ww(r,t.o,t.s),n=new sf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hw(t.i,n),Ay(n,r,e)}function lf(t,e){t.na&&Nw(t.na,function(n,r){Dt(e,r,n)}),t.h&&HC({},function(n,r){Dt(e,r,n)})}function uM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const d=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{O6(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function lM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ic||TC(),Cc||(Ic(),Cc=!0),Fw.add(e,t),t.A=0}}function Gw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=nf(Yn(t.Ma,t),hM(t,t.A)),t.A++,!0)}ue.Ma=function(){if(this.u=null,cM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nf(Yn(this.jb,this),t)}};ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nr(10),Yp(this),cM(this))};function Qw(t){t.B!=null&&(ze.clearTimeout(t.B),t.B=null)}function cM(t){t.g=new sf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=is(t.wa);Dt(e,"RID","rpc"),Dt(e,"SID",t.K),Dt(e,"AID",t.V),Dt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Dt(e,"TO",t.qa),Dt(e,"TYPE","xmlhttp"),lf(t,e),t.o&&t.s&&Ww(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Kp(is(e)),n.s=null,n.S=!0,UC(n,t)}ue.ib=function(){this.v!=null&&(this.v=null,Yp(this),Gw(this),nr(19))};function Id(t){t.v!=null&&(ze.clearTimeout(t.v),t.v=null)}function fM(t,e){var n=null;if(t.g==e){Id(t),Qw(t),t.g=null;var r=2}else if(Ty(t.i,e))n=e.F,XC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Vp(),On(r,new PC(r,n)),Zp(t)}else lM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&U6(t,e)||r==2&&Gw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function hM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yn(t.pb,t);n||(n=new Ko("//www.google.com/images/cleardot.gif"),ze.location&&ze.location.protocol=="http"||_d(n,"https"),Kp(n)),L6(n.toString(),r)}else nr(2);t.H=0,t.h&&t.h.za(e),dM(t),aM(t)}ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nr(2)):(this.l.info("Failed to ping google.com"),nr(1))};function dM(t){if(t.H=0,t.ma=[],t.h){const e=JC(t.i);(e.length!=0||t.j.length!=0)&&(JE(t.ma,e),JE(t.ma,t.j),t.i.i.length=0,Tw(t.j),t.j.length=0),t.h.ya()}}function pM(t,e,n){var r=n instanceof Ko?is(n):new Ko(n);if(r.g!="")e&&(r.g=e+"."+r.g),xd(r,r.m);else{var i=ze.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ko(null);r&&_d(s,r),e&&(s.g=e),i&&xd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Dt(r,n,e),Dt(r,"VER",t.ra),lf(t,r),r}function gM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Zt(new af({ob:!0})):new Zt(t.va),e.Oa(t.J),e}ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function mM(){}ue=mM.prototype;ue.Ba=function(){};ue.Aa=function(){};ue.za=function(){};ue.ya=function(){};ue.isActive=function(){return!0};ue.Va=function(){};function Cd(){if(Mu&&!(10<=Number(JL)))throw Error("Environmental error: no available transport.")}Cd.prototype.g=function(t,e){return new Nr(t,e)};function Nr(t,e){wn.call(this),this.g=new oM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_c(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_c(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Hu(this)}En(Nr,wn);Nr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pM(t,null,t.Y),Zp(t)};Nr.prototype.close=function(){Kw(this.g)};Nr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bw(t),t=n);e.j.push(new k6(e.fb++,t)),e.H==3&&Zp(e)};Nr.prototype.N=function(){this.g.h=null,delete this.j,Kw(this.g),delete this.g,Nr.$.N.call(this)};function yM(t){jw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}En(yM,jw);function vM(){Vw.call(this),this.status=1}En(vM,Vw);function Hu(t){this.g=t}En(Hu,mM);Hu.prototype.Ba=function(){On(this.g,"a")};Hu.prototype.Aa=function(t){On(this.g,new yM(t))};Hu.prototype.za=function(t){On(this.g,new vM)};Hu.prototype.ya=function(){On(this.g,"b")};function z6(){this.blockSize=-1}function di(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}En(di,z6);di.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function p0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}di.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)p0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){p0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){p0(this,r),i=0;break}}this.h=i,this.i+=e};di.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ct(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var j6={};function Yw(t){return-128<=t&&128>t?YL(t,function(e){return new Ct([e|0],0>e?-1:0)}):new Ct([t|0],0>t?-1:0)}function ki(t){if(isNaN(t)||!isFinite(t))return ru;if(0>t)return Rn(ki(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ry;return new Ct(e,0)}function wM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Rn(wM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ki(Math.pow(e,8)),r=ru,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ki(Math.pow(e,s)),r=r.R(s).add(ki(o))):(r=r.R(n),r=r.add(ki(o)))}return r}var Ry=4294967296,ru=Yw(0),Ny=Yw(1),cb=Yw(16777216);ue=Ct.prototype;ue.ea=function(){if(Hr(this))return-Rn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ry+r)*e,e*=Ry}return t};ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Qi(this))return"0";if(Hr(this))return"-"+Rn(this).toString(t);for(var e=ki(Math.pow(t,6)),n=this,r="";;){var i=Ad(n,e).g;n=Md(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Qi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Qi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Hr(t){return t.h==-1}ue.X=function(t){return t=Md(this,t),Hr(t)?-1:Qi(t)?0:1};function Rn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ct(n,~t.h).add(Ny)}ue.abs=function(){return Hr(this)?Rn(this):this};ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ct(n,n[n.length-1]&-2147483648?-1:0)};function Md(t,e){return t.add(Rn(e))}ue.R=function(t){if(Qi(this)||Qi(t))return ru;if(Hr(this))return Hr(t)?Rn(this).R(Rn(t)):Rn(Rn(this).R(t));if(Hr(t))return Rn(this.R(Rn(t)));if(0>this.X(cb)&&0>t.X(cb))return ki(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Gf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Gf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Gf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Gf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ct(n,0)};function Gf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sl(t,e){this.g=t,this.h=e}function Ad(t,e){if(Qi(e))throw Error("division by zero");if(Qi(t))return new Sl(ru,ru);if(Hr(t))return e=Ad(Rn(t),e),new Sl(Rn(e.g),Rn(e.h));if(Hr(e))return e=Ad(t,Rn(e)),new Sl(Rn(e.g),e.h);if(30<t.g.length){if(Hr(t)||Hr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ny,r=e;0>=r.X(t);)n=fb(n),r=fb(r);var i=ba(n,1),s=ba(r,1);for(r=ba(r,2),n=ba(n,2);!Qi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ba(r,1),n=ba(n,1)}return e=Md(t,i.R(e)),new Sl(i,e)}for(i=ru;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ki(n),o=s.R(e);Hr(o)||0<o.X(t);)n-=r,s=ki(n),o=s.R(e);Qi(s)&&(s=Ny),i=i.add(s),t=Md(t,o)}return new Sl(i,t)}ue.gb=function(t){return Ad(this,t).h};ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ct(n,this.h&t.h)};ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ct(n,this.h|t.h)};ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ct(n,this.h^t.h)};function fb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ct(n,t.h)}function ba(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ct(i,t.h)}Cd.prototype.createWebChannel=Cd.prototype.g;Nr.prototype.send=Nr.prototype.u;Nr.prototype.open=Nr.prototype.m;Nr.prototype.close=Nr.prototype.close;Hp.NO_ERROR=0;Hp.TIMEOUT=8;Hp.HTTP_ERROR=6;BC.COMPLETE="complete";FC.EventType=rf;rf.OPEN="a";rf.CLOSE="b";rf.ERROR="c";rf.MESSAGE="d";wn.prototype.listen=wn.prototype.O;Zt.prototype.listenOnce=Zt.prototype.P;Zt.prototype.getLastError=Zt.prototype.Sa;Zt.prototype.getLastErrorCode=Zt.prototype.Ia;Zt.prototype.getStatus=Zt.prototype.da;Zt.prototype.getResponseJson=Zt.prototype.Wa;Zt.prototype.getResponseText=Zt.prototype.ja;Zt.prototype.send=Zt.prototype.ha;Zt.prototype.setWithCredentials=Zt.prototype.Oa;di.prototype.digest=di.prototype.l;di.prototype.reset=di.prototype.reset;di.prototype.update=di.prototype.j;Ct.prototype.add=Ct.prototype.add;Ct.prototype.multiply=Ct.prototype.R;Ct.prototype.modulo=Ct.prototype.gb;Ct.prototype.compare=Ct.prototype.X;Ct.prototype.toNumber=Ct.prototype.ea;Ct.prototype.toString=Ct.prototype.toString;Ct.prototype.getBits=Ct.prototype.D;Ct.fromNumber=ki;Ct.fromString=wM;var V6=function(){return new Cd},H6=function(){return Vp()},g0=Hp,q6=BC,W6=fa,hb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},K6=af,Qf=FC,G6=Zt,Q6=di,iu=Ct;const db="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Mw("@firebase/firestore");function pb(){return ra.logLevel}function be(t,...e){if(ra.logLevel<=yt.DEBUG){const n=e.map(Zw);ra.debug(`Firestore (${qu}): ${t}`,...n)}}function ss(t,...e){if(ra.logLevel<=yt.ERROR){const n=e.map(Zw);ra.error(`Firestore (${qu}): ${t}`,...n)}}function Au(t,...e){if(ra.logLevel<=yt.WARN){const n=e.map(Zw);ra.warn(`Firestore (${qu}): ${t}`,...n)}}function Zw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: `+t;throw ss(e),new Error(e)}function Bt(t,e){t||Fe()}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends oo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class Z6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X6{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string"),new SM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new Hn(e)}}class J6{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class eD{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new J6(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bt(typeof n.token=="string"),this.T=n.token,new tD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Et(t,e){return t<e?-1:t>e?1:0}function ku(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ln(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.timestamp=e}static fromTimestamp(e){return new He(e)}static min(){return new He(new ln(0,0))}static max(){return new He(new ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}let en=class Th extends Rc{construct(e,n,r){return new Th(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Th(n)}static emptyPath(){return new Th([])}};const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Rc{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return iD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ye(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ye(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ye(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(en.fromString(e))}static fromName(e){return new Ie(en.fromString(e).popFirst(5))}static empty(){return new Ie(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new en(e.slice()))}}function sD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new Gs(i,Ie.empty(),e)}function oD(t){return new Gs(t.readTime,t.key,-1)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(He.min(),Ie.empty(),-1)}static max(){return new Gs(He.max(),Ie.empty(),-1)}}function aD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==uD)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new re((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ff(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Xw.ct=-1;function Xp(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function cD(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yf(this.root,e,this.comparator,!0)}}class Yf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=s??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new An(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new An(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mb(this.data.getIterator())}getIteratorFrom(e){return new mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class mb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new ai([])}unionWith(e){let n=new Xn(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ku(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _M("Invalid base64 string: "+i):i}}(e);return new er(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Bt(!!t),typeof t=="string"){let e=0;const n=fD.exec(t);if(Bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?er.fromBase64String(t):er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function e1(t){const e=t.mapValue.fields.__previous_value__;return Jw(e)?e1(e):e}function Nc(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jw(t)?4:dD(t)?9007199254740991:10:Fe()}function Bi(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Qs(r.timestampValue),o=Qs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ia(r.bytesValue).isEqual(ia(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rn(r.geoPointValue.latitude)===rn(i.geoPointValue.latitude)&&rn(r.geoPointValue.longitude)===rn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rn(r.integerValue)===rn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=rn(r.doubleValue),o=rn(i.doubleValue);return s===o?kd(s)===kd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ku(t.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gb(s)!==gb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Bi(s[a],o[a])))return!1;return!0}(t,e);default:return Fe()}}function Lc(t,e){return(t.values||[]).find(n=>Bi(n,e))!==void 0}function Tu(t,e){if(t===e)return 0;const n=sa(t),r=sa(e);if(n!==r)return Et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=rn(i.integerValue||i.doubleValue),a=rn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return yb(t.timestampValue,e.timestampValue);case 4:return yb(Nc(t),Nc(e));case 5:return Et(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ia(i),a=ia(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Et(o[u],a[u]);if(c!==0)return c}return Et(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Et(rn(i.latitude),rn(s.latitude));return o!==0?o:Et(rn(i.longitude),rn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Tu(o[u],a[u]);if(c)return c}return Et(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Zf.mapValue&&s===Zf.mapValue)return 0;if(i===Zf.mapValue)return 1;if(s===Zf.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const g=Et(a[d],c[d]);if(g!==0)return g;const S=Tu(o[a[d]],u[c[d]]);if(S!==0)return S}return Et(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function yb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Et(t,e);const n=Qs(t),r=Qs(e),i=Et(n.seconds,r.seconds);return i!==0?i:Et(n.nanos,r.nanos)}function Ru(t){return Oy(t)}function Oy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Qs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ia(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ie.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Oy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Oy(r.fields[a])}`;return s+"}"}(t.mapValue):Fe();var e,n}function vb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ly(t){return!!t&&"integerValue"in t}function t1(t){return!!t&&"arrayValue"in t}function wb(t){return!!t&&"nullValue"in t}function Sb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rh(t){return!!t&&"mapValue"in t}function Wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Gn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qr(Wl(this.value))}}function xM(t){const e=[];return Wu(t.fields,(n,r)=>{const i=new Gn([n]);if(Rh(r)){const s=xM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kn(e,0,He.min(),He.min(),He.min(),qr.empty(),0)}static newFoundDocument(e,n,r,i){return new Kn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Kn(e,2,n,He.min(),He.min(),qr.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,He.min(),He.min(),qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.position=e,this.inclusive=n}}function Eb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(o.referenceValue),n.key):r=Tu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function pD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{}class un extends IM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mD(e,n,r):n==="array-contains"?new wD(e,r):n==="in"?new SD(e,r):n==="not-in"?new ED(e,r):n==="array-contains-any"?new bD(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yD(e,r):new vD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tu(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(Tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pi extends IM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new pi(e,n)}matches(e){return CM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function CM(t){return t.op==="and"}function MM(t){return gD(t)&&CM(t)}function gD(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function Dy(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+Ru(t.value);if(MM(t))return t.filters.map(e=>Dy(e)).join(",");{const e=t.filters.map(n=>Dy(n)).join(",");return`${t.op}(${e})`}}function AM(t,e){return t instanceof un?function(n,r){return r instanceof un&&n.op===r.op&&n.field.isEqual(r.field)&&Bi(n.value,r.value)}(t,e):t instanceof pi?function(n,r){return r instanceof pi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&AM(s,r.filters[o]),!0):!1}(t,e):void Fe()}function kM(t){return t instanceof un?function(e){return`${e.field.canonicalString()} ${e.op} ${Ru(e.value)}`}(t):t instanceof pi?function(e){return e.op.toString()+" {"+e.getFilters().map(kM).join(" ,")+"}"}(t):"Filter"}class mD extends un{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}let yD=class extends un{constructor(e,n){super(e,"in",n),this.keys=TM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}};class vD extends un{constructor(e,n){super(e,"not-in",n),this.keys=TM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class wD extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t1(n)&&Lc(n.arrayValue,this.value)}}class SD extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class ED extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Lc(this.value.arrayValue,n)}}class bD extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function _b(t,e=null,n=[],r=[],i=null,s=null,o=null){return new _D(t,e,n,r,i,s,o)}function n1(t){const e=qe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),e.dt=n}return e.dt}function r1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bb(t.startAt,e.startAt)&&bb(t.endAt,e.endAt)}function Py(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function xD(t,e,n,r,i,s,o,a){return new hf(t,e,n,r,i,s,o,a)}function RM(t){return new hf(t)}function xb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NM(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function i1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function OM(t){return t.collectionGroup!==null}function su(t){const e=qe(t);if(e.wt===null){e.wt=[];const n=i1(e),r=NM(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Kl(n)),e.wt.push(new Kl(Gn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Kl(Gn.keyField(),s))}}}return e.wt}function os(t){const e=qe(t);if(!e._t)if(e.limitType==="F")e._t=_b(e.path,e.collectionGroup,su(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of su(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Kl(s.field,o))}const r=e.endAt?new Td(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Td(e.startAt.position,e.startAt.inclusive):null;e._t=_b(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function By(t,e){e.getFirstInequalityField(),i1(t);const n=t.filters.concat([e]);return new hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fy(t,e,n){return new hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jp(t,e){return r1(os(t),os(e))&&t.limitType===e.limitType}function LM(t){return`${n1(os(t))}|lt:${t.limitType}`}function $y(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>kM(r)).join(", ")}]`),Xp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ru(r)).join(",")),`Target(${n})`}(os(t))}; limitType=${t.limitType})`}function eg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ie.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of su(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Eb(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,su(n),r)||n.endAt&&!function(i,s,o){const a=Eb(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,su(n),r))}(t,e)}function ID(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DM(t){return(e,n)=>{let r=!1;for(const i of su(t)){const s=CD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CD(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?Tu(a,u):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Gt(Ie.comparator);function as(){return MD}const PM=new Gt(Ie.comparator);function Nl(...t){let e=PM;for(const n of t)e=e.insert(n.key,n);return e}function BM(t){let e=PM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zo(){return Gl()}function FM(){return Gl()}function Gl(){return new Ku(t=>t.toString(),(t,e)=>t.isEqual(e))}const AD=new Gt(Ie.comparator),kD=new Xn(Ie.comparator);function ht(...t){let e=kD;for(const n of t)e=e.add(n);return e}const TD=new Xn(Et);function RD(){return TD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function UM(t){return{integerValue:""+t}}function ND(t,e){return cD(e)?UM(e):$M(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this._=void 0}}function OD(t,e,n){return t instanceof Rd?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Jw(i)&&(i=e1(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Dc?jM(t,e):t instanceof Pc?VM(t,e):function(r,i){const s=zM(r,i),o=Ib(s)+Ib(r.gt);return Ly(s)&&Ly(r.gt)?UM(o):$M(r.serializer,o)}(t,e)}function LD(t,e,n){return t instanceof Dc?jM(t,e):t instanceof Pc?VM(t,e):n}function zM(t,e){return t instanceof Nd?Ly(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Rd extends tg{}class Dc extends tg{constructor(e){super(),this.elements=e}}function jM(t,e){const n=HM(e);for(const r of t.elements)n.some(i=>Bi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pc extends tg{constructor(e){super(),this.elements=e}}function VM(t,e){let n=HM(e);for(const r of t.elements)n=n.filter(i=>!Bi(i,r));return{arrayValue:{values:n}}}class Nd extends tg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Ib(t){return rn(t.integerValue||t.doubleValue)}function HM(t){return t1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DD(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Dc&&r instanceof Dc||n instanceof Pc&&r instanceof Pc?ku(n.elements,r.elements,Bi):n instanceof Nd&&r instanceof Nd?Bi(n.gt,r.gt):n instanceof Rd&&r instanceof Rd}(t.transform,e.transform)}class PD{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ng{}function qM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KM(t.key,Xi.none()):new df(t.key,t.data,Xi.none());{const n=t.data,r=qr.empty();let i=new Xn(Gn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ha(t.key,r,new ai(i.toArray()),Xi.none())}}function BD(t,e,n){t instanceof df?function(r,i,s){const o=r.value.clone(),a=Mb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ha?function(r,i,s){if(!Nh(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Mb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(WM(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ql(t,e,n,r){return t instanceof df?function(i,s,o,a){if(!Nh(i.precondition,s))return o;const u=i.value.clone(),c=Ab(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ha?function(i,s,o,a){if(!Nh(i.precondition,s))return o;const u=Ab(i.fieldTransforms,a,s),c=s.data;return c.setAll(WM(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,s,o){return Nh(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function FD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zM(r.transform,i||null);s!=null&&(n===null&&(n=qr.empty()),n.set(r.field,s))}return n||null}function Cb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ku(n,r,(i,s)=>DD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class df extends ng{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ha extends ng{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Mb(t,e,n){const r=new Map;Bt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,LD(o,a,n[i]))}return r}function Ab(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,OD(s,o,e))}return r}class KM extends ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&BD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=qM(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&ku(this.mutations,e.mutations,(n,r)=>Cb(n,r))&&ku(this.baseMutations,e.baseMutations,(n,r)=>Cb(n,r))}}class s1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bt(e.mutations.length===r.length);let i=AD;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new s1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,gt;function VD(t){switch(t){default:return Fe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function GM(t){if(t===void 0)return ss("GRPC error has no .code"),X.UNKNOWN;switch(t){case nn.OK:return X.OK;case nn.CANCELLED:return X.CANCELLED;case nn.UNKNOWN:return X.UNKNOWN;case nn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case nn.INTERNAL:return X.INTERNAL;case nn.UNAVAILABLE:return X.UNAVAILABLE;case nn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case nn.NOT_FOUND:return X.NOT_FOUND;case nn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case nn.ABORTED:return X.ABORTED;case nn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case nn.DATA_LOSS:return X.DATA_LOSS;default:return Fe()}}(gt=nn||(nn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xf}static getOrCreateInstance(){return Xf===null&&(Xf=new o1),Xf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xf=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new iu([4294967295,4294967295],0);function kb(t){const e=HD().encode(t),n=new Q6;return n.update(e),new Uint8Array(n.digest())}function Tb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new iu([n,r],0),new iu([i,s],0)]}class a1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=iu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(iu.fromNumber(r)));return i.compare(qD)===1&&(i=new iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=kb(e),[r,i]=Tb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new a1(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=kb(e),[r,i]=Tb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rg(He.min(),i,new Gt(Et),as(),ht())}}class pf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pf(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class QM{constructor(e,n){this.targetId=e,this.Vt=n}}class YM{constructor(e,n,r=er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Rb{constructor(){this.St=0,this.Dt=Ob(),this.Ct=er.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ht(),n=ht(),r=ht();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe()}}),new pf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Ob()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class WD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=as(),this.zt=Nb(),this.Wt=new Gt(Et)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Py(o))if(i===0){const a=new Ie(o.path);this.Yt(r,a,Kn.newNoDocument(a,He.min()))}else Bt(i===1);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);if(u!==0){this.ee(r);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=o1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,g){var S,w,C,x,N,T;const k={localCacheCount:d,existenceFilterCount:g.count},M=g.unchangedNames;return M&&(k.bloomFilter={applied:c===0,hashCount:(S=M==null?void 0:M.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(x=(C=(w=M==null?void 0:M.bits)===null||w===void 0?void 0:w.bitmap)===null||C===void 0?void 0:C.length)!==null&&x!==void 0?x:0,padding:(T=(N=M==null?void 0:M.bits)===null||N===void 0?void 0:N.padding)!==null&&T!==void 0?T:0}),k}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ia(s).toUint8Array()}catch(d){if(d instanceof _M)return Au("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new a1(u,o,a)}catch(d){return Au(d instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Py(a.target)){const u=new Ie(a.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,Kn.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ht();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new rg(e,n,this.Wt,this.jt,r);return this.jt=as(),this.zt=Nb(),this.Wt=new Gt(Et),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Rb,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Xn(Et),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Rb),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Nb(){return new Gt(Ie.comparator)}function Ob(){return new Gt(Ie.comparator)}const KD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),GD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),QD=(()=>({and:"AND",or:"OR"}))();class YD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uy(t,e){return t.useProto3Json||Xp(e)?e:{value:e}}function Od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZD(t,e){return Od(t,e.toTimestamp())}function Li(t){return Bt(!!t),He.fromTimestamp(function(e){const n=Qs(e);return new ln(n.seconds,n.nanos)}(t))}function u1(t,e){return function(n){return new en(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function XM(t){const e=en.fromString(t);return Bt(nA(e)),e}function zy(t,e){return u1(t.databaseId,e.path)}function m0(t,e){const n=XM(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(JM(n))}function jy(t,e){return u1(t.databaseId,e)}function XD(t){const e=XM(t);return e.length===4?en.emptyPath():JM(e)}function Vy(t){return new en(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JM(t){return Bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Lb(t,e,n){return{name:zy(t,e),fields:n.value.mapValue.fields}}function JD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Bt(c===void 0||typeof c=="string"),er.fromBase64String(c||"")):(Bt(c===void 0||c instanceof Uint8Array),er.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?X.UNKNOWN:GM(u.code);return new ye(c,u.message||"")}(o);n=new YM(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=m0(t,r.document.name),s=Li(r.document.updateTime),o=r.document.createTime?Li(r.document.createTime):He.min(),a=new qr({mapValue:{fields:r.document.fields}}),u=Kn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Oh(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=m0(t,r.document),s=r.readTime?Li(r.readTime):He.min(),o=Kn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Oh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=m0(t,r.document),s=r.removedTargetIds||[];n=new Oh([],s,i,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jD(i,s),a=r.targetId;n=new QM(a,o)}}return n}function eP(t,e){let n;if(e instanceof df)n={update:Lb(t,e.key,e.value)};else if(e instanceof KM)n={delete:zy(t,e.key)};else if(e instanceof ha)n={update:Lb(t,e.key,e.data),updateMask:lP(e.fieldMask)};else{if(!(e instanceof $D))return Fe();n={verify:zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Rd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Pc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Nd)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:ZD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Fe()}(t,e.precondition)),n}function tP(t,e){return t&&t.length>0?(Bt(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Li(r.updateTime):Li(i);return s.isEqual(He.min())&&(s=Li(i)),new PD(s,r.transformResults||[])}(n,e))):[]}function nP(t,e){return{documents:[jy(t,e.path)]}}function rP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return tA(pi.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ca(d.field),direction:oP(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Uy(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function iP(t){let e=XD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(d){const g=eA(d);return g instanceof pi&&MM(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(g){return new Kl(Ma(g.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d)));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,Xp(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(d){const g=!!d.before,S=d.values||[];return new Td(S,g)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const g=!d.before,S=d.values||[];return new Td(S,g)}(n.endAt)),xD(e,i,o,s,a,"F",u,c)}function sP(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eA(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ma(e.unaryFilter.field);return un.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ma(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ma(e.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ma(e.unaryFilter.field);return un.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(e){return un.create(Ma(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return pi.create(e.compositeFilter.filters.map(n=>eA(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Fe()}}(e.compositeFilter.op))}(t):Fe()}function oP(t){return KD[t]}function aP(t){return GD[t]}function uP(t){return QD[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function Ma(t){return Gn.fromServerFormat(t.fieldPath)}function tA(t){return t instanceof un?function(e){if(e.op==="=="){if(Sb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NAN"}};if(wb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Sb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NAN"}};if(wb(e.value))return{unaryFilter:{field:Ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(e.field),op:aP(e.op),value:e.value}}}(t):t instanceof pi?function(e){const n=e.getFilters().map(r=>tA(r));return n.length===1?n[0]:{compositeFilter:{op:uP(e.op),filters:n}}}(t):Fe()}function lP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,i,s=He.min(),o=He.min(),a=er.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.fe=e}}function fP(t){const e=iP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.rn=new dP}addToCollectionParentIndex(e,n){return this.rn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Gs.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class dP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(en.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Nu(0)}static Mn(){return new Nu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.changes=new Ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ql(r.mutation,i,ai.empty(),ln.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=zo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=as();const o=Gl(),a=Gl();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ha)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ql(d.mutation,c,d.mutation.getFieldMask(),ln.now())):o.set(c.key,ai.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var g;return a.set(c,new gP(d,(g=o.get(c))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Gl();let i=new Gt((o,a)=>o-a),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||ai.empty();d=a.applyToLocalView(c,d),r.set(u,d);const g=(i.get(a.batchId)||ht()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,g=FM();d.forEach(S=>{if(!s.has(S)){const w=qM(n.get(S),r.get(S));w!==null&&g.set(S,w),s=s.add(S)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):re.resolve(zo());let a=-1,u=s;return o.next(c=>re.forEach(c,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(S=>{u=u.insert(d,S)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ht())).next(d=>({batchId:a,changes:BM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=Nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Nl();return this.indexManager.getCollectionParents(e,i).next(o=>re.forEach(o,a=>{const u=function(c,d){return new hf(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((d,g)=>{s=s.insert(d,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Kn.newInvalidDocument(c)))});let o=Nl();return s.forEach((a,u)=>{const c=i.get(a);c!==void 0&&Ql(c.mutation,u,ai.empty(),ln.now()),eg(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return re.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Li(r.createTime)}),re.resolve()}getNamedQuery(e,n){return re.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:fP(r.bundledQuery),readTime:Li(r.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.overlays=new Gt(Ie.comparator),this.ls=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zo();return re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=zo(),s=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Gt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=zo(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=zo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return re.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zD(n,r));let s=this.ls.get(n);s===void 0&&(s=ht(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.fs=new Xn(pn.ds),this.ws=new Xn(pn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new pn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new pn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ie(new en([])),r=new pn(n,e),i=new pn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ie(new en([])),r=new pn(n,e),i=new pn(n,e+1);let s=ht();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ie.comparator(e.key,n.key)||Et(e.As,n.As)}static _s(e,n){return Et(e.As,n.As)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Xn(pn.ds)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new pn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,n){return re.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),i=new pn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(Et);return n.forEach(i=>{const s=new pn(i,0),o=new pn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const o=new pn(new Ie(s),0);let a=new Xn(Et);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),re.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bt(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return re.forEach(n.mutations,i=>{const s=new pn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new pn(n,0),i=this.Rs.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.Ds=e,this.docs=new Gt(Ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=as();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kn.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=as();const o=n.path,a=new Ie(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||aD(oD(d),r)<=0||(i.has(d.key)||eg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Fe()}Cs(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EP(this)}getSize(e){return re.resolve(this.size)}}class EP extends pP{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.persistence=e,this.xs=new Ku(n=>n1(n),r1),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.Ns=0,this.ks=new l1,this.targetCount=0,this.Ms=Nu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),re.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Nu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Fn(n),re.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(s).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xw(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new bP(this),this.indexManager=new hP,this.remoteDocumentCache=function(r){return new SP(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new cP(n),this.qs=new yP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new wP(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new xP(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class xP extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class c1{constructor(e){this.persistence=e,this.Qs=new l1,this.js=null}static zs(e){return new c1(e)}get Ws(){if(this.js)return this.js;throw Fe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),re.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const i=Ie.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,He.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return re.or([()=>re.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ht(),i=ht();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(xb(n))return re.resolve(null);let r=os(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fy(n,null,"F"),r=os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ht(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Fy(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return xb(n)||i.isEqual(He.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(pb()<=yt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$y(n)),this.Wi(e,o,n,sD(i,-1)))})}ji(e,n){let r=new Xn(DM(e));return n.forEach((i,s)=>{eg(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return pb()<=yt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",$y(n)),this.Ui.getDocumentsMatchingQuery(e,n,Gs.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Gt(Et),this.Yi=new Ku(s=>n1(s),r1),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function MP(t,e,n,r){return new CP(t,e,n,r)}async function rA(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ht();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function AP(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const d=u.batch,g=d.keys();let S=re.resolve();return g.forEach(w=>{S=S.next(()=>c.getEntry(a,w)).next(C=>{const x=u.docVersions.get(w);Bt(x!==null),C.version.compareTo(x)<0&&(d.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),c.addEntry(C)))})}),S.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ht();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iA(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function kP(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((d,g)=>{const S=i.get(g);if(!S)return;a.push(n.Bs.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Bs.addMatchingKeys(s,d.addedDocuments,g)));let w=S.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(er.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(g,w),function(C,x,N){return C.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(S,w,d)&&a.push(n.Bs.updateTargetData(s,w))});let u=as(),c=ht();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(TP(s,o,e.documentUpdates).next(d=>{u=d.nr,c=d.sr})),!r.isEqual(He.min())){const d=n.Bs.getLastRemoteSnapshotVersion(s).next(g=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}function TP(t,e,n){let r=ht(),i=ht();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=as();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(He.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}function RP(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NP(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,re.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Hy(t,e,n){const r=qe(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ff(o))throw o;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Db(t,e,n){const r=qe(t);let i=He.min(),s=ht();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const d=qe(a),g=d.Yi.get(c);return g!==void 0?re.resolve(d.Ji.get(g)):d.Bs.getTargetData(u,c)}(r,o,os(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:He.min(),n?s:ht())).next(a=>(OP(r,ID(e),a),{documents:a,ir:s})))}function OP(t,e,n){let r=t.Xi.get(e)||He.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Pb{constructor(){this.activeTargetIds=RD()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LP{constructor(){this.Hr=new Pb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Pb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf=null;function y0(){return Jf===null?Jf=268435456+Math.round(2147483648*Math.random()):Jf++,"0x"+Jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class FP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=y0(),a=this.To(e,n);be("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(be("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Au("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=PP[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=y0();return new Promise((o,a)=>{const u=new G6;u.setWithCredentials(!0),u.listenOnce(q6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case g0.NO_ERROR:const d=u.getResponseJson();be(Fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case g0.TIMEOUT:be(Fn,`RPC '${e}' ${s} timed out`),a(new ye(X.DEADLINE_EXCEEDED,"Request time out"));break;case g0.HTTP_ERROR:const g=u.getStatus();if(be(Fn,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let S=u.getResponseJson();Array.isArray(S)&&(S=S[0]);const w=S==null?void 0:S.error;if(w&&w.status&&w.message){const C=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(N)>=0?N:X.UNKNOWN}(w.status);a(new ye(C,w.message))}else a(new ye(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ye(X.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{be(Fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);be(Fn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=y0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=V6(),a=H6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new K6({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");be(Fn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const g=o.createWebChannel(d,u);let S=!1,w=!1;const C=new BP({ro:N=>{w?be(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(S||(be(Fn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),S=!0),be(Fn,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},oo:()=>g.close()}),x=(N,T,k)=>{N.listen(T,M=>{try{k(M)}catch(B){setTimeout(()=>{throw B},0)}})};return x(g,Qf.EventType.OPEN,()=>{w||be(Fn,`RPC '${e}' stream ${i} transport opened.`)}),x(g,Qf.EventType.CLOSE,()=>{w||(w=!0,be(Fn,`RPC '${e}' stream ${i} transport closed`),C.wo())}),x(g,Qf.EventType.ERROR,N=>{w||(w=!0,Au(Fn,`RPC '${e}' stream ${i} transport errored:`,N),C.wo(new ye(X.UNAVAILABLE,"The operation could not be completed")))}),x(g,Qf.EventType.MESSAGE,N=>{var T;if(!w){const k=N.data[0];Bt(!!k);const M=k,B=M.error||((T=M[0])===null||T===void 0?void 0:T.error);if(B){be(Fn,`RPC '${e}' stream ${i} received error:`,B);const L=B.status;let P=function(U){const ee=nn[U];if(ee!==void 0)return GM(ee)}(L),F=B.message;P===void 0&&(P=X.INTERNAL,F="Unknown error status: "+L+" with message "+B.message),w=!0,C.wo(new ye(P,F)),g.close()}else be(Fn,`RPC '${e}' stream ${i} received:`,k),C._o(k)}}),x(a,W6.STAT_EVENT,N=>{N.stat===hb.PROXY?be(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===hb.NOPROXY&&be(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}}function v0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){return new YD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sA(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new ye(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $P extends oA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=JD(this.serializer,e),r=function(i){if(!("targetChange"in i))return He.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?Li(s.readTime):He.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Vy(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Py(a)?{documents:nP(i,a)}:{query:rP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=ZM(i,s.resumeToken);const u=Uy(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(He.min())>0){o.readTime=Od(i,s.snapshotVersion.toTimestamp());const u=Uy(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=sP(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Vy(this.serializer),n.removeTarget=e,this.Wo(n)}}class UP extends oA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=tP(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.cu(r,n)}return Bt(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vy(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eP(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ye(X.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(X.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(X.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class jP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ss(n),this.mu=!1):be("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{da(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=qe(a);u.vu.add(4),await gf(u),u.bu.set("Unknown"),u.vu.delete(4),await sg(u)}(this))})}),this.bu=new jP(r,i)}}async function sg(t){if(da(t))for(const e of t.Ru)await e(!0)}async function gf(t){for(const e of t.Ru)await e(!1)}function aA(t,e){const n=qe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),p1(n)?d1(n):Gu(n).Ko()&&h1(n,e))}function uA(t,e){const n=qe(t),r=Gu(n);n.Au.delete(e),r.Ko()&&lA(n,e),n.Au.size===0&&(r.Ko()?r.jo():da(n)&&n.bu.set("Unknown"))}function h1(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gu(t).su(e)}function lA(t,e){t.Vu.qt(e),Gu(t).iu(e)}function d1(t){t.Vu=new WD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Gu(t).start(),t.bu.gu()}function p1(t){return da(t)&&!Gu(t).Uo()&&t.Au.size>0}function da(t){return qe(t).vu.size===0}function cA(t){t.Vu=void 0}async function HP(t){t.Au.forEach((e,n)=>{h1(t,e)})}async function qP(t,e){cA(t),p1(t)?(t.bu.Iu(e),d1(t)):t.bu.set("Unknown")}async function WP(t,e,n){if(t.bu.set("Online"),e instanceof YM&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ld(t,r)}else if(e instanceof Oh?t.Vu.Ht(e):e instanceof QM?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(He.min()))try{const r=await iA(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(er.EMPTY_BYTE_STRING,c.snapshotVersion)),lA(i,a);const d=new Ms(c.target,a,u,c.sequenceNumber);h1(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){be("RemoteStore","Failed to raise snapshot:",r),await Ld(t,r)}}async function Ld(t,e,n){if(!ff(e))throw e;t.vu.add(1),await gf(t),t.bu.set("Offline"),n||(n=()=>iA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await sg(t)})}function fA(t,e){return e().catch(n=>Ld(t,n,e))}async function og(t){const e=qe(t),n=Ys(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;KP(e);)try{const i=await RP(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,GP(e,i)}catch(i){await Ld(e,i)}hA(e)&&dA(e)}function KP(t){return da(t)&&t.Eu.length<10}function GP(t,e){t.Eu.push(e);const n=Ys(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function hA(t){return da(t)&&!Ys(t).Uo()&&t.Eu.length>0}function dA(t){Ys(t).start()}async function QP(t){Ys(t).hu()}async function YP(t){const e=Ys(t);for(const n of t.Eu)e.uu(n.mutations)}async function ZP(t,e,n){const r=t.Eu.shift(),i=s1.from(r,e,n);await fA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await og(t)}async function XP(t,e){e&&Ys(t).ou&&await async function(n,r){if(i=r.code,VD(i)&&i!==X.ABORTED){const s=n.Eu.shift();Ys(n).Qo(),await fA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await og(n)}var i}(t,e),hA(t)&&dA(t)}async function Fb(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=da(n);n.vu.add(3),await gf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await sg(n)}async function JP(t,e){const n=qe(t);e?(n.vu.delete(2),await sg(n)):e||(n.vu.add(2),await gf(n),n.bu.set("Unknown"))}function Gu(t){return t.Su||(t.Su=function(e,n,r){const i=qe(e);return i.fu(),new $P(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:HP.bind(null,t),ao:qP.bind(null,t),nu:WP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),p1(t)?d1(t):t.bu.set("Unknown")):(await t.Su.stop(),cA(t))})),t.Su}function Ys(t){return t.Du||(t.Du=function(e,n,r){const i=qe(e);return i.fu(),new UP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:QP.bind(null,t),ao:XP.bind(null,t),au:YP.bind(null,t),cu:ZP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await og(t)):(await t.Du.stop(),t.Eu.length>0&&(be("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new g1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m1(t,e){if(ss("AsyncQueue",`${e}: ${t}`),ff(t))return new ye(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Nl(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new ou(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.Cu=new Gt(Ie.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Fe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ou{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ou(e,n,ou.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.Nu=void 0,this.listeners=[]}}class tB{constructor(){this.queries=new Ku(e=>LM(e),Jp),this.onlineState="Unknown",this.ku=new Set}}async function nB(t,e){const n=qe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new eB),i)try{s.Nu=await n.onListen(r)}catch(o){const a=m1(o,`Initialization of query '${$y(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&y1(n)}async function rB(t,e){const n=qe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iB(t,e){const n=qe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&y1(n)}function sB(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function y1(t){t.ku.forEach(e=>{e.next()})}class oB{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.key=e}}class gA{constructor(e){this.key=e}}class aB{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ht(),this.mutatedKeys=ht(),this.tc=DM(e),this.ec=new ou(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new $b,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,g)=>{const S=i.get(d),w=eg(this.query,g)?g:null,C=!!S&&this.mutatedKeys.has(S.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;S&&w?S.data.isEqual(w.data)?C!==x&&(r.track({type:3,doc:w}),N=!0):this.rc(S,w)||(r.track({type:2,doc:w}),N=!0,(u&&this.tc(w,u)>0||c&&this.tc(w,c)<0)&&(a=!0)):!S&&w?(r.track({type:0,doc:w}),N=!0):S&&!w&&(r.track({type:1,doc:S}),N=!0,(u||c)&&(a=!0)),N&&(w?(o=o.add(w),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,d)=>function(g,S){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return w(g)-w(S)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,s.length!==0||u?{snapshot:new Ou(this.query,e.ec,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $b,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ht(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new gA(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new pA(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ht();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ou.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class uB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lB{constructor(e){this.key=e,this.fc=!1}}class cB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ku(a=>LM(a),Jp),this._c=new Map,this.mc=new Set,this.gc=new Gt(Ie.comparator),this.yc=new Map,this.Ic=new l1,this.Tc={},this.Ec=new Map,this.Ac=Nu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function fB(t,e){const n=EB(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await NP(n.localStore,os(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await hB(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&aA(n.remoteStore,o)}return i}async function hB(t,e,n,r,i){t.Rc=(g,S,w)=>async function(C,x,N,T){let k=x.view.sc(N);k.zi&&(k=await Db(C.localStore,x.query,!1).then(({documents:L})=>x.view.sc(L,k)));const M=T&&T.targetChanges.get(x.targetId),B=x.view.applyChanges(k,C.isPrimaryClient,M);return zb(C,x.targetId,B.cc),B.snapshot}(t,g,S,w);const s=await Db(t.localStore,e,!0),o=new aB(e,s.ir),a=o.sc(s.documents),u=pf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);zb(t,n,c.cc);const d=new uB(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function dB(t,e){const n=qe(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Jp(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),uA(n.remoteStore,r.targetId),qy(n,r.targetId)}).catch(cf)):(qy(n,r.targetId),await Hy(n.localStore,r.targetId,!0))}async function pB(t,e,n){const r=bB(t);try{const i=await function(s,o){const a=qe(s),u=ln.now(),c=o.reduce((S,w)=>S.add(w.key),ht());let d,g;return a.persistence.runTransaction("Locally write mutations","readwrite",S=>{let w=as(),C=ht();return a.Zi.getEntries(S,c).next(x=>{w=x,w.forEach((N,T)=>{T.isValidDocument()||(C=C.add(N))})}).next(()=>a.localDocuments.getOverlayedDocuments(S,w)).next(x=>{d=x;const N=[];for(const T of o){const k=FD(T,d.get(T.key).overlayedDocument);k!=null&&N.push(new ha(T.key,k,xM(k.value.mapValue),Xi.exists(!0)))}return a.mutationQueue.addMutationBatch(S,u,N,o)}).next(x=>{g=x;const N=x.applyToLocalDocumentSet(d,C);return a.documentOverlayCache.saveOverlays(S,x.batchId,N)})}).then(()=>({batchId:g.batchId,changes:BM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Gt(Et)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),await mf(r,i.changes),await og(r.remoteStore)}catch(i){const s=m1(i,"Failed to persist write");n.reject(s)}}async function mA(t,e){const n=qe(t);try{const r=await kP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Bt(o.fc):i.removedDocuments.size>0&&(Bt(o.fc),o.fc=!1))}),await mf(n,r,e)}catch(r){await cf(r)}}function Ub(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=qe(s);a.onlineState=o;let u=!1;a.queries.forEach((c,d)=>{for(const g of d.listeners)g.Mu(o)&&(u=!0)}),u&&y1(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gB(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Gt(Ie.comparator);o=o.insert(s,Kn.newNoDocument(s,He.min()));const a=ht().add(s),u=new rg(He.min(),new Map,new Gt(Et),o,a);await mA(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),v1(r)}else await Hy(r.localStore,e,!1).then(()=>qy(r,e,n)).catch(cf)}async function mB(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await AP(n.localStore,e);vA(n,r,null),yA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mf(n,i)}catch(i){await cf(i)}}async function yB(t,e,n){const r=qe(t);try{const i=await function(s,o){const a=qe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(d=>(Bt(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(u,d))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);vA(r,e,n),yA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mf(r,i)}catch(i){await cf(i)}}function yA(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function vA(t,e,n){const r=qe(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function qy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||wA(t,r)})}function wA(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(uA(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),v1(t))}function zb(t,e,n){for(const r of n)r instanceof pA?(t.Ic.addReference(r.key,e),vB(t,r)):r instanceof gA?(be("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||wA(t,r.key)):Fe()}function vB(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(be("SyncEngine","New document in limbo: "+n),t.mc.add(r),v1(t))}function v1(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ie(en.fromString(e)),r=t.Ac.next();t.yc.set(r,new lB(n)),t.gc=t.gc.insert(n,r),aA(t.remoteStore,new Ms(os(RM(n.path)),r,"TargetPurposeLimboResolution",Xw.ct))}}async function mf(t,e,n){const r=qe(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=f1.Li(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,u){const c=qe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>re.forEach(u,g=>re.forEach(g.Fi,S=>c.persistence.referenceDelegate.addReference(d,g.targetId,S)).next(()=>re.forEach(g.Bi,S=>c.persistence.referenceDelegate.removeReference(d,g.targetId,S)))))}catch(d){if(!ff(d))throw d;be("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const S=c.Ji.get(g),w=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(w);c.Ji=c.Ji.insert(g,C)}}}(r.localStore,s))}async function wB(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=await rA(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new ye(X.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mf(n,r.er)}}function SB(t,e){const n=qe(t),r=n.yc.get(e);if(r&&r.fc)return ht().add(r.key);{let i=ht();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function EB(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gB.bind(null,e),e.dc.nu=iB.bind(null,e.eventManager),e.dc.Pc=sB.bind(null,e.eventManager),e}function bB(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yB.bind(null,e),e}class jb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ig(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MP(this.persistence,new IP,e.initialUser,this.serializer)}createPersistence(e){return new _P(c1.zs,this.serializer)}createSharedClientState(e){return new LP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _B{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ub(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wB.bind(null,this.syncEngine),await JP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tB}createDatastore(e){const n=ig(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new FP(i));var i;return function(s,o,a,u){return new zP(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Ub(this.syncEngine,a,0),o=Bb.D()?new Bb:new DP,new VP(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const d=new cB(r,i,s,o,a,u);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=qe(e);be("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await gf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=EM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{be("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(be("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function w0(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MB(t);be("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Fb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Fb(e.remoteStore,s)),t._onlineComponents=e}function CB(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function MB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await w0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!CB(n))throw n;Au("Error using user provided cache. Falling back to memory cache: "+n),await w0(t,new jb)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await w0(t,new jb);return t._offlineComponents}async function SA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await Vb(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await Vb(t,new _B))),t._onlineComponents}function AB(t){return SA(t).then(e=>e.syncEngine)}async function kB(t){const e=await SA(t),n=e.eventManager;return n.onListen=fB.bind(null,e.syncEngine),n.onUnlisten=dB.bind(null,e.syncEngine),n}function TB(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const c=new xB({next:g=>{s.enqueueAndForget(()=>rB(i,d)),g.fromCache&&a.source==="server"?u.reject(new ye(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new oB(o,c,{includeMetadataChanges:!0,Ku:!0});return nB(i,d)}(await kB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){if(!n)throw new ye(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RB(t,e,n,r){if(e===!0&&r===!0)throw new ye(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qb(t){if(!Ie.isDocumentKey(t))throw new ye(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wb(t){if(Ie.isDocumentKey(t))throw new ye(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Dd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ag(t);throw new ye(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class ug{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ye(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Y6;switch(n.type){case"firstParty":return new eD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Hb.get(e);n&&(be("ComponentProvider","Removing Datastore"),Hb.delete(e),n.terminate())}(this),Promise.resolve()}}function NB(t,e,n,r={}){var i;const s=(t=Dd(t,ug))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Hn.MOCK_USER;else{a=xO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ye(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Hn(c)}t._authCredentials=new Z6(new SM(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class Qu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qu(this.firestore,e,this._query)}}class Hs extends Qu{constructor(e,n,r){super(e,n,RM(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Ie(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function OB(t,e,...n){if(t=Pi(t),bA("collection","path",e),t instanceof ug){const r=en.fromString(e,...n);return Wb(r),new Hs(t,null,r)}{if(!(t instanceof Gr||t instanceof Hs))throw new ye(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return Wb(r),new Hs(t.firestore,null,r)}}function LB(t,e,...n){if(t=Pi(t),arguments.length===1&&(e=EM.A()),bA("doc","path",e),t instanceof ug){const r=en.fromString(e,...n);return qb(r),new Gr(t,null,new Ie(r))}{if(!(t instanceof Gr||t instanceof Hs))throw new ye(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return qb(r),new Gr(t.firestore,t instanceof Hs?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sA(this,"async_queue_retry"),this.Xc=()=>{const n=v0();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=v0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=v0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Vs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ff(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ss("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=g1.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Fe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class w1 extends ug{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xA(this),this._firestoreClient.terminate()}}function PB(t,e){const n=typeof t=="object"?t:OL(),r=typeof t=="string"?t:e||"(default)",i=TL(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=EO("firestore");s&&NB(i,...s)}return i}function _A(t){return t._firestoreClient||xA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xA(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,u,c){return new hD(o,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,EA(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new IB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lu(er.fromBase64String(e))}catch(n){throw new ye(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lu(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=/^__.*__$/;class FB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new df(e,this.data,n,this.fieldTransforms)}}function CA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class b1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new b1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Pd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(CA(this.ca)&&BB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $B{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ig(e)}ya(e,n,r,i=!1){return new b1({ca:e,methodName:n,ga:r,path:Gn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MA(t){const e=t._freezeSettings(),n=ig(t._databaseId);return new $B(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UB(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);TA("Data must be an object, but it was:",o,r);const a=AA(r,o);let u,c;if(s.merge)u=new ai(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const S=jB(e,g,n);if(!o.contains(S))throw new ye(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);HB(d,S)||d.push(S)}u=new ai(d),c=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=o.fieldTransforms;return new FB(new qr(a),u,c)}function zB(t,e,n,r=!1){return _1(n,t.ya(r?4:3,e))}function _1(t,e){if(kA(t=Pi(t)))return TA("Unsupported field value:",e,t),AA(t,e);if(t instanceof IA)return function(n,r){if(!CA(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=_1(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Pi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ND(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ln.fromDate(n);return{timestampValue:Od(r.serializer,i)}}if(n instanceof ln){const i=new ln(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Od(r.serializer,i)}}if(n instanceof E1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lu)return{bytesValue:ZM(r.serializer,n._byteString)};if(n instanceof Gr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:u1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ag(n)}`)}(t,e)}function AA(t,e){const n={};return bM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wu(t,(r,i)=>{const s=_1(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof E1||t instanceof Lu||t instanceof Gr||t instanceof IA)}function TA(t,e,n){if(!kA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ag(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function jB(t,e,n){if((e=Pi(e))instanceof S1)return e._internalPath;if(typeof e=="string")return RA(t,e);throw Pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const VB=new RegExp("[~\\*/\\[\\]]");function RA(t,e,n){if(e.search(VB)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new S1(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ye(X.INVALID_ARGUMENT,a+t+u)}function HB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qB extends NA{data(){return super.data()}}function x1(t,e){return typeof e=="string"?RA(t,e):e instanceof S1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I1{}class KB extends I1{}function GB(t,e,...n){let r=[];e instanceof I1&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof C1).length,o=i.filter(a=>a instanceof lg).length;if(s>1||s>0&&o>0)throw new ye(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lg extends KB{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lg(e,n,r)}_apply(e){const n=this._parse(e);return OA(e._query,n),new Qu(e.firestore,e.converter,By(e._query,n))}_parse(e){const n=MA(e.firestore);return function(i,s,o,a,u,c,d){let g;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ye(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Qb(d,c);const S=[];for(const w of d)S.push(Gb(a,i,w));g={arrayValue:{values:S}}}else g=Gb(a,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Qb(d,c),g=zB(o,s,d,c==="in"||c==="not-in");return un.create(u,c,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QB(t,e,n){const r=e,i=x1("where",t);return lg._create(i,r,n)}class C1 extends I1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)OA(s,a),s=By(s,a)}(e._query,n),new Qu(e.firestore,e.converter,By(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gb(t,e,n){if(typeof(n=Pi(n))=="string"){if(n==="")throw new ye(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OM(e)&&n.indexOf("/")!==-1)throw new ye(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(en.fromString(n));if(!Ie.isDocumentKey(r))throw new ye(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vb(t,new Ie(r))}if(n instanceof Gr)return vb(t,n._key);throw new ye(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ag(n)}.`)}function Qb(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(t,e){if(e.isInequality()){const r=i1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ye(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=NM(t);s!==null&&YB(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function YB(t,e,n){if(!n.isEqual(e))throw new ye(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ZB{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new E1(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=e1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=en.fromString(e);Bt(nA(r));const i=new Oc(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||ss(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JB extends NA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lh extends JB{data(e={}){return super.data(e)}}class e5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lh(this._firestore,this._userDataWriter,r.key,r,new eh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Lh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Lh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:t5(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class n5 extends ZB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,n)}}function r5(t){t=Dd(t,Qu);const e=Dd(t.firestore,w1),n=_A(e),r=new n5(e);return WB(t._query),TB(n,t._query).then(i=>new e5(e,r,t,i))}function i5(t,e){const n=Dd(t.firestore,w1),r=LB(t),i=XB(t.converter,e);return s5(n,[UB(MA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xi.exists(!1))]).then(()=>r)}function s5(t,e){return function(n,r){const i=new Vs;return n.asyncQueue.enqueueAndForget(async()=>pB(await AB(n),r,i)),i.promise}(_A(t),e)}(function(t,e=!0){(function(n){qu=n})(Pp),Cu(new ta("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new w1(new X6(n.getProvider("auth-internal")),new nD(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ye(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),js(db,"3.12.2",t),js(db,"3.12.2","esm2017")})();var Bd=function(){return Bd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bd.apply(this,arguments)};function M1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LA(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o5=LA,DA=new Jc("auth","Firebase",LA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Mw("@firebase/auth");function a5(t,...e){Fd.logLevel<=yt.WARN&&Fd.warn(`Auth (${Pp}): ${t}`,...e)}function Dh(t,...e){Fd.logLevel<=yt.ERROR&&Fd.error(`Auth (${Pp}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t,...e){throw k1(t,...e)}function A1(t,...e){return k1(t,...e)}function u5(t,e,n){const r=Object.assign(Object.assign({},o5()),{[e]:n});return new Jc("auth","Firebase",r).create(e,{appName:t.name})}function k1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DA.create(t,...e)}function xt(t,e,...n){if(!t)throw k1(e,...n)}function Yl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dh(e),new Error(e)}function $d(t,e){t||Yl(e)}function l5(){return Zb()==="http:"||Zb()==="https:"}function Zb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l5()||CO()||"connection"in navigator)?navigator.onLine:!0}function f5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.shortDelay=e,this.longDelay=n,$d(n>e,"Short delay should be less than long delay!"),this.isMobile=IO()||MO()}get(){return c5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e){$d(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Yl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Yl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Yl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new yf(3e4,6e4);function g5(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function T1(t,e,n,r,i={}){return BA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hC(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),PA.fetch()(FA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function BA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d5),e);try{const i=new m5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw th(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw th(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw th(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw u5(t,d,c);Yb(t,d)}}catch(i){if(i instanceof oo)throw i;Yb(t,"network-request-failed",{message:String(i)})}}function FA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?h5(t.config,i):`${t.config.apiScheme}://${i}`}class m5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(A1(this.auth,"network-request-failed")),p5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=A1(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e){return T1(t,"POST","/v1/accounts:delete",e)}async function v5(t,e){return T1(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w5(t,e=!1){const n=Pi(t),r=await n.getIdToken(e),i=$A(r);xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zl(S0(i.auth_time)),issuedAtTime:Zl(S0(i.iat)),expirationTime:Zl(S0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function S0(t){return Number(t)*1e3}function $A(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const i=cC(n);return i?JSON.parse(i):(Dh("Failed to decode base64 JWT payload"),null)}catch(i){return Dh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S5(t){const e=$A(t);return xt(e,"internal-error"),xt(typeof e.exp<"u","internal-error"),xt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wy(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oo&&E5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wy(t,v5(n,{idToken:r}));xt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?I5(s.providerUserInfo):[],a=x5(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UA(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,g)}async function _5(t){const e=Pi(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function I5(t){return t.map(e=>{var{providerId:n}=e,r=M1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(t,e){const n=await BA(t,{},async()=>{const r=hC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xt(e.idToken,"internal-error"),xt(typeof e.idToken<"u","internal-error"),xt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return xt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await C5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bc;return r&&(xt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(xt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(xt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return Yl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){xt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class au{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=M1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new UA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wy(this,this.stsTokenManager.getToken(this.auth,e));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w5(this,e)}reload(){return _5(this)}_assign(e){this!==e&&(xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new au(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wy(this,y5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,k=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:M,emailVerified:B,isAnonymous:L,providerData:P,stsTokenManager:F}=n;xt(M&&F,e,"internal-error");const U=Bc.fromJSON(this.name,F);xt(typeof M=="string",e,"internal-error"),ds(g,e.name),ds(S,e.name),xt(typeof B=="boolean",e,"internal-error"),xt(typeof L=="boolean",e,"internal-error"),ds(w,e.name),ds(C,e.name),ds(x,e.name),ds(N,e.name),ds(T,e.name),ds(k,e.name);const ee=new au({uid:M,auth:e,email:S,emailVerified:B,displayName:g,isAnonymous:L,photoURL:C,phoneNumber:w,tenantId:x,stsTokenManager:U,createdAt:T,lastLoginAt:k});return P&&Array.isArray(P)&&(ee.providerData=P.map(Z=>Object.assign({},Z))),N&&(ee._redirectEventId=N),ee}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bc;i.updateFromServerResponse(n);const s=new au({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ud(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;function jo(t){$d(t instanceof Function,"Expected a class definition");let e=Xb.get(t);return e?($d(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zA.type="NONE";const Jb=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e,n){return`firebase:${t}:${e}:${n}`}class uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=E0(this.userKey,i.apiKey,s),this.fullPersistenceKey=E0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?au._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uu(jo(Jb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||jo(Jb);const o=E0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const g=au._fromJSON(e,d);c!==s&&(a=g),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new uu(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new uu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N5(e))return"Blackberry";if(O5(e))return"Webos";if(A5(e))return"Safari";if((e.includes("chrome/")||k5(e))&&!e.includes("edge/"))return"Chrome";if(R5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function M5(t=Di()){return/firefox\//i.test(t)}function A5(t=Di()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k5(t=Di()){return/crios\//i.test(t)}function T5(t=Di()){return/iemobile/i.test(t)}function R5(t=Di()){return/android/i.test(t)}function N5(t=Di()){return/blackberry/i.test(t)}function O5(t=Di()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e=[]){let n;switch(t){case"Browser":n=e_(Di());break;case"Worker":n=`${e_(Di())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pp}/${r}`}async function VA(t,e){return T1(t,"GET","/v2/recaptchaConfig",g5(t,e))}function t_(t){return t!==void 0&&t.enterprise!==void 0}class HA{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function D5(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=A1("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",L5().appendChild(r)})}const P5="https://www.google.com/recaptcha/enterprise.js?render=",B5="recaptcha-enterprise",F5="NO_RECAPTCHA";class $5{constructor(e){this.type=B5,this.auth=qA(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{VA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new HA(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;t_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(F5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&t_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}D5(P5+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n_(this),this.idTokenSubscription=new n_(this),this.beforeStateQueue=new U5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pi(e):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(jo(e))})}async initializeRecaptchaConfig(){const e=await VA(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new HA(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new $5(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jo(e)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[jo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xt(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&a5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qA(t){return Pi(t)}class n_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OO(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function j5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}new yf(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new yf(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new yf(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new yf(5e3,15e3);var r_="@firebase/auth",i_="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function q5(t){Cu(new ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jA(t)},c=new z5(r,i,s,u);return j5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cu(new ta("auth-internal",e=>{const n=qA(e.getProvider("auth").getImmediate());return(r=>new V5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(r_,i_,H5(t)),js(r_,i_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=5*60;bO("authIdTokenMaxAge");q5("Browser");var Ve={},cg={};cg.byteLength=Q5;cg.toByteArray=Z5;cg.fromByteArray=eF;var Ci=[],$r=[],K5=typeof Uint8Array<"u"?Uint8Array:Array,b0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var _a=0,G5=b0.length;_a<G5;++_a)Ci[_a]=b0[_a],$r[b0.charCodeAt(_a)]=_a;$r["-".charCodeAt(0)]=62;$r["_".charCodeAt(0)]=63;function WA(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Q5(t){var e=WA(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Y5(t,e,n){return(e+n)*3/4-n}function Z5(t){var e,n=WA(t),r=n[0],i=n[1],s=new K5(Y5(t,r,i)),o=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=$r[t.charCodeAt(u)]<<18|$r[t.charCodeAt(u+1)]<<12|$r[t.charCodeAt(u+2)]<<6|$r[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=$r[t.charCodeAt(u)]<<2|$r[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=$r[t.charCodeAt(u)]<<10|$r[t.charCodeAt(u+1)]<<4|$r[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function X5(t){return Ci[t>>18&63]+Ci[t>>12&63]+Ci[t>>6&63]+Ci[t&63]}function J5(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(X5(r));return i.join("")}function eF(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(J5(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Ci[e>>2]+Ci[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Ci[e>>10]+Ci[e>>4&63]+Ci[e<<2&63]+"=")),i.join("")}var R1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */R1.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,c=u>>1,d=-7,g=n?i-1:0,S=n?-1:1,w=t[e+g];for(g+=S,s=w&(1<<-d)-1,w>>=-d,d+=a;d>0;s=s*256+t[e+g],g+=S,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+t[e+g],g+=S,d-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(w?-1:1)*o*Math.pow(2,s-r)};R1.write=function(t,e,n,r,i,s){var o,a,u,c=s*8-i-1,d=(1<<c)-1,g=d>>1,S=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:s-1,C=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+g>=1?e+=S/u:e+=S*Math.pow(2,1-g),e*u>=2&&(o++,u/=2),o+g>=d?(a=0,o=d):o+g>=1?(a=(e*u-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[n+w]=a&255,w+=C,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+w]=o&255,w+=C,o/=256,c-=8);t[n+w-C]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=cg,n=R1,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=k,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const O=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(O,E),O.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');const E=new Uint8Array(O);return Object.setPrototypeOf(E,a.prototype),E}function a(O,E,_){if(typeof O=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(O)}return u(O,E,_)}a.poolSize=8192;function u(O,E,_){if(typeof O=="string")return S(O,E);if(ArrayBuffer.isView(O))return C(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(fn(O,ArrayBuffer)||O&&fn(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fn(O,SharedArrayBuffer)||O&&fn(O.buffer,SharedArrayBuffer)))return x(O,E,_);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=O.valueOf&&O.valueOf();if(D!=null&&D!==O)return a.from(D,E,_);const z=N(O);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return a.from(O[Symbol.toPrimitive]("string"),E,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}a.from=function(O,E,_){return u(O,E,_)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function d(O,E,_){return c(O),O<=0?o(O):E!==void 0?typeof _=="string"?o(O).fill(E,_):o(O).fill(E):o(O)}a.alloc=function(O,E,_){return d(O,E,_)};function g(O){return c(O),o(O<0?0:T(O)|0)}a.allocUnsafe=function(O){return g(O)},a.allocUnsafeSlow=function(O){return g(O)};function S(O,E){if((typeof E!="string"||E==="")&&(E="utf8"),!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const _=M(O,E)|0;let D=o(_);const z=D.write(O,E);return z!==_&&(D=D.slice(0,z)),D}function w(O){const E=O.length<0?0:T(O.length)|0,_=o(E);for(let D=0;D<E;D+=1)_[D]=O[D]&255;return _}function C(O){if(fn(O,Uint8Array)){const E=new Uint8Array(O);return x(E.buffer,E.byteOffset,E.byteLength)}return w(O)}function x(O,E,_){if(E<0||O.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<E+(_||0))throw new RangeError('"length" is outside of buffer bounds');let D;return E===void 0&&_===void 0?D=new Uint8Array(O):_===void 0?D=new Uint8Array(O,E):D=new Uint8Array(O,E,_),Object.setPrototypeOf(D,a.prototype),D}function N(O){if(a.isBuffer(O)){const E=T(O.length)|0,_=o(E);return _.length===0||O.copy(_,0,0,E),_}if(O.length!==void 0)return typeof O.length!="number"||Re(O.length)?o(0):w(O);if(O.type==="Buffer"&&Array.isArray(O.data))return w(O.data)}function T(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function k(O){return+O!=O&&(O=0),a.alloc(+O)}a.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==a.prototype},a.compare=function(E,_){if(fn(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),fn(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(E)||!a.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===_)return 0;let D=E.length,z=_.length;for(let j=0,V=Math.min(D,z);j<V;++j)if(E[j]!==_[j]){D=E[j],z=_[j];break}return D<z?-1:z<D?1:0},a.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(E,_){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return a.alloc(0);let D;if(_===void 0)for(_=0,D=0;D<E.length;++D)_+=E[D].length;const z=a.allocUnsafe(_);let j=0;for(D=0;D<E.length;++D){let V=E[D];if(fn(V,Uint8Array))j+V.length>z.length?(a.isBuffer(V)||(V=a.from(V)),V.copy(z,j)):Uint8Array.prototype.set.call(z,V,j);else if(a.isBuffer(V))V.copy(z,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=V.length}return z};function M(O,E){if(a.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||fn(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const _=O.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&_===0)return 0;let z=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return ke(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return De(O).length;default:if(z)return D?-1:ke(O).length;E=(""+E).toLowerCase(),z=!0}}a.byteLength=M;function B(O,E,_){let D=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,E>>>=0,_<=E))return"";for(O||(O="utf8");;)switch(O){case"hex":return b(this,E,_);case"utf8":case"utf-8":return l(this,E,_);case"ascii":return y(this,E,_);case"latin1":case"binary":return m(this,E,_);case"base64":return A(this,E,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,E,_);default:if(D)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function L(O,E,_){const D=O[E];O[E]=O[_],O[_]=D}a.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<E;_+=2)L(this,_,_+1);return this},a.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<E;_+=4)L(this,_,_+3),L(this,_+1,_+2);return this},a.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<E;_+=8)L(this,_,_+7),L(this,_+1,_+6),L(this,_+2,_+5),L(this,_+3,_+4);return this},a.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?l(this,0,E):B.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(E){if(!a.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:a.compare(this,E)===0},a.prototype.inspect=function(){let E="";const _=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(E+=" ... "),"<Buffer "+E+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(E,_,D,z,j){if(fn(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(_===void 0&&(_=0),D===void 0&&(D=E?E.length:0),z===void 0&&(z=0),j===void 0&&(j=this.length),_<0||D>E.length||z<0||j>this.length)throw new RangeError("out of range index");if(z>=j&&_>=D)return 0;if(z>=j)return-1;if(_>=D)return 1;if(_>>>=0,D>>>=0,z>>>=0,j>>>=0,this===E)return 0;let V=j-z,je=D-_;const me=Math.min(V,je),pe=this.slice(z,j),kt=E.slice(_,D);for(let de=0;de<me;++de)if(pe[de]!==kt[de]){V=pe[de],je=kt[de];break}return V<je?-1:je<V?1:0};function P(O,E,_,D,z){if(O.length===0)return-1;if(typeof _=="string"?(D=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Re(_)&&(_=z?0:O.length-1),_<0&&(_=O.length+_),_>=O.length){if(z)return-1;_=O.length-1}else if(_<0)if(z)_=0;else return-1;if(typeof E=="string"&&(E=a.from(E,D)),a.isBuffer(E))return E.length===0?-1:F(O,E,_,D,z);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(O,E,_):Uint8Array.prototype.lastIndexOf.call(O,E,_):F(O,[E],_,D,z);throw new TypeError("val must be string, number or Buffer")}function F(O,E,_,D,z){let j=1,V=O.length,je=E.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(O.length<2||E.length<2)return-1;j=2,V/=2,je/=2,_/=2}function me(kt,de){return j===1?kt[de]:kt.readUInt16BE(de*j)}let pe;if(z){let kt=-1;for(pe=_;pe<V;pe++)if(me(O,pe)===me(E,kt===-1?0:pe-kt)){if(kt===-1&&(kt=pe),pe-kt+1===je)return kt*j}else kt!==-1&&(pe-=pe-kt),kt=-1}else for(_+je>V&&(_=V-je),pe=_;pe>=0;pe--){let kt=!0;for(let de=0;de<je;de++)if(me(O,pe+de)!==me(E,de)){kt=!1;break}if(kt)return pe}return-1}a.prototype.includes=function(E,_,D){return this.indexOf(E,_,D)!==-1},a.prototype.indexOf=function(E,_,D){return P(this,E,_,D,!0)},a.prototype.lastIndexOf=function(E,_,D){return P(this,E,_,D,!1)};function U(O,E,_,D){_=Number(_)||0;const z=O.length-_;D?(D=Number(D),D>z&&(D=z)):D=z;const j=E.length;D>j/2&&(D=j/2);let V;for(V=0;V<D;++V){const je=parseInt(E.substr(V*2,2),16);if(Re(je))return V;O[_+V]=je}return V}function ee(O,E,_,D){return Te(ke(E,O.length-_),O,_,D)}function Z(O,E,_,D){return Te($e(E),O,_,D)}function Y(O,E,_,D){return Te(De(E),O,_,D)}function ce(O,E,_,D){return Te(zi(E,O.length-_),O,_,D)}a.prototype.write=function(E,_,D,z){if(_===void 0)z="utf8",D=this.length,_=0;else if(D===void 0&&typeof _=="string")z=_,D=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(D)?(D=D>>>0,z===void 0&&(z="utf8")):(z=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-_;if((D===void 0||D>j)&&(D=j),E.length>0&&(D<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let V=!1;for(;;)switch(z){case"hex":return U(this,E,_,D);case"utf8":case"utf-8":return ee(this,E,_,D);case"ascii":case"latin1":case"binary":return Z(this,E,_,D);case"base64":return Y(this,E,_,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,E,_,D);default:if(V)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),V=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(O,E,_){return E===0&&_===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(E,_))}function l(O,E,_){_=Math.min(O.length,_);const D=[];let z=E;for(;z<_;){const j=O[z];let V=null,je=j>239?4:j>223?3:j>191?2:1;if(z+je<=_){let me,pe,kt,de;switch(je){case 1:j<128&&(V=j);break;case 2:me=O[z+1],(me&192)===128&&(de=(j&31)<<6|me&63,de>127&&(V=de));break;case 3:me=O[z+1],pe=O[z+2],(me&192)===128&&(pe&192)===128&&(de=(j&15)<<12|(me&63)<<6|pe&63,de>2047&&(de<55296||de>57343)&&(V=de));break;case 4:me=O[z+1],pe=O[z+2],kt=O[z+3],(me&192)===128&&(pe&192)===128&&(kt&192)===128&&(de=(j&15)<<18|(me&63)<<12|(pe&63)<<6|kt&63,de>65535&&de<1114112&&(V=de))}}V===null?(V=65533,je=1):V>65535&&(V-=65536,D.push(V>>>10&1023|55296),V=56320|V&1023),D.push(V),z+=je}return p(D)}const h=4096;function p(O){const E=O.length;if(E<=h)return String.fromCharCode.apply(String,O);let _="",D=0;for(;D<E;)_+=String.fromCharCode.apply(String,O.slice(D,D+=h));return _}function y(O,E,_){let D="";_=Math.min(O.length,_);for(let z=E;z<_;++z)D+=String.fromCharCode(O[z]&127);return D}function m(O,E,_){let D="";_=Math.min(O.length,_);for(let z=E;z<_;++z)D+=String.fromCharCode(O[z]);return D}function b(O,E,_){const D=O.length;(!E||E<0)&&(E=0),(!_||_<0||_>D)&&(_=D);let z="";for(let j=E;j<_;++j)z+=Ne[O[j]];return z}function R(O,E,_){const D=O.slice(E,_);let z="";for(let j=0;j<D.length-1;j+=2)z+=String.fromCharCode(D[j]+D[j+1]*256);return z}a.prototype.slice=function(E,_){const D=this.length;E=~~E,_=_===void 0?D:~~_,E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),_<0?(_+=D,_<0&&(_=0)):_>D&&(_=D),_<E&&(_=E);const z=this.subarray(E,_);return Object.setPrototypeOf(z,a.prototype),z};function v(O,E,_){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+E>_)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=this[E],j=1,V=0;for(;++V<_&&(j*=256);)z+=this[E+V]*j;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=this[E+--_],j=1;for(;_>0&&(j*=256);)z+=this[E+--_]*j;return z},a.prototype.readUint8=a.prototype.readUInt8=function(E,_){return E=E>>>0,_||v(E,1,this.length),this[E]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(E,_){return E=E>>>0,_||v(E,2,this.length),this[E]|this[E+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(E,_){return E=E>>>0,_||v(E,2,this.length),this[E]<<8|this[E+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(E,_){return E=E>>>0,_||v(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(E,_){return E=E>>>0,_||v(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},a.prototype.readBigUInt64LE=bn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=_+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,j=this[++E]+this[++E]*2**8+this[++E]*2**16+D*2**24;return BigInt(z)+(BigInt(j)<<BigInt(32))}),a.prototype.readBigUInt64BE=bn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=_*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],j=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+D;return(BigInt(z)<<BigInt(32))+BigInt(j)}),a.prototype.readIntLE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=this[E],j=1,V=0;for(;++V<_&&(j*=256);)z+=this[E+V]*j;return j*=128,z>=j&&(z-=Math.pow(2,8*_)),z},a.prototype.readIntBE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=_,j=1,V=this[E+--z];for(;z>0&&(j*=256);)V+=this[E+--z]*j;return j*=128,V>=j&&(V-=Math.pow(2,8*_)),V},a.prototype.readInt8=function(E,_){return E=E>>>0,_||v(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},a.prototype.readInt16LE=function(E,_){E=E>>>0,_||v(E,2,this.length);const D=this[E]|this[E+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(E,_){E=E>>>0,_||v(E,2,this.length);const D=this[E+1]|this[E]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(E,_){return E=E>>>0,_||v(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},a.prototype.readInt32BE=function(E,_){return E=E>>>0,_||v(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},a.prototype.readBigInt64LE=bn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(D<<24);return(BigInt(z)<<BigInt(32))+BigInt(_+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),a.prototype.readBigInt64BE=bn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=(_<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(z)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+D)}),a.prototype.readFloatLE=function(E,_){return E=E>>>0,_||v(E,4,this.length),n.read(this,E,!0,23,4)},a.prototype.readFloatBE=function(E,_){return E=E>>>0,_||v(E,4,this.length),n.read(this,E,!1,23,4)},a.prototype.readDoubleLE=function(E,_){return E=E>>>0,_||v(E,8,this.length),n.read(this,E,!0,52,8)},a.prototype.readDoubleBE=function(E,_){return E=E>>>0,_||v(E,8,this.length),n.read(this,E,!1,52,8)};function f(O,E,_,D,z,j){if(!a.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>z||E<j)throw new RangeError('"value" argument is out of bounds');if(_+D>O.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(E,_,D,z){if(E=+E,_=_>>>0,D=D>>>0,!z){const je=Math.pow(2,8*D)-1;f(this,E,_,D,je,0)}let j=1,V=0;for(this[_]=E&255;++V<D&&(j*=256);)this[_+V]=E/j&255;return _+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(E,_,D,z){if(E=+E,_=_>>>0,D=D>>>0,!z){const je=Math.pow(2,8*D)-1;f(this,E,_,D,je,0)}let j=D-1,V=1;for(this[_+j]=E&255;--j>=0&&(V*=256);)this[_+j]=E/V&255;return _+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,1,255,0),this[_]=E&255,_+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,65535,0),this[_]=E&255,this[_+1]=E>>>8,_+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,65535,0),this[_]=E>>>8,this[_+1]=E&255,_+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,4294967295,0),this[_+3]=E>>>24,this[_+2]=E>>>16,this[_+1]=E>>>8,this[_]=E&255,_+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,4294967295,0),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=E&255,_+4};function I(O,E,_,D,z){we(E,D,z,O,_,7);let j=Number(E&BigInt(4294967295));O[_++]=j,j=j>>8,O[_++]=j,j=j>>8,O[_++]=j,j=j>>8,O[_++]=j;let V=Number(E>>BigInt(32)&BigInt(4294967295));return O[_++]=V,V=V>>8,O[_++]=V,V=V>>8,O[_++]=V,V=V>>8,O[_++]=V,_}function K(O,E,_,D,z){we(E,D,z,O,_,7);let j=Number(E&BigInt(4294967295));O[_+7]=j,j=j>>8,O[_+6]=j,j=j>>8,O[_+5]=j,j=j>>8,O[_+4]=j;let V=Number(E>>BigInt(32)&BigInt(4294967295));return O[_+3]=V,V=V>>8,O[_+2]=V,V=V>>8,O[_+1]=V,V=V>>8,O[_]=V,_+8}a.prototype.writeBigUInt64LE=bn(function(E,_=0){return I(this,E,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=bn(function(E,_=0){return K(this,E,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(E,_,D,z){if(E=+E,_=_>>>0,!z){const me=Math.pow(2,8*D-1);f(this,E,_,D,me-1,-me)}let j=0,V=1,je=0;for(this[_]=E&255;++j<D&&(V*=256);)E<0&&je===0&&this[_+j-1]!==0&&(je=1),this[_+j]=(E/V>>0)-je&255;return _+D},a.prototype.writeIntBE=function(E,_,D,z){if(E=+E,_=_>>>0,!z){const me=Math.pow(2,8*D-1);f(this,E,_,D,me-1,-me)}let j=D-1,V=1,je=0;for(this[_+j]=E&255;--j>=0&&(V*=256);)E<0&&je===0&&this[_+j+1]!==0&&(je=1),this[_+j]=(E/V>>0)-je&255;return _+D},a.prototype.writeInt8=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,1,127,-128),E<0&&(E=255+E+1),this[_]=E&255,_+1},a.prototype.writeInt16LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,32767,-32768),this[_]=E&255,this[_+1]=E>>>8,_+2},a.prototype.writeInt16BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,32767,-32768),this[_]=E>>>8,this[_+1]=E&255,_+2},a.prototype.writeInt32LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,2147483647,-2147483648),this[_]=E&255,this[_+1]=E>>>8,this[_+2]=E>>>16,this[_+3]=E>>>24,_+4},a.prototype.writeInt32BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=E&255,_+4},a.prototype.writeBigInt64LE=bn(function(E,_=0){return I(this,E,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=bn(function(E,_=0){return K(this,E,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(O,E,_,D,z,j){if(_+D>O.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function G(O,E,_,D,z){return E=+E,_=_>>>0,z||q(O,E,_,4),n.write(O,E,_,D,23,4),_+4}a.prototype.writeFloatLE=function(E,_,D){return G(this,E,_,!0,D)},a.prototype.writeFloatBE=function(E,_,D){return G(this,E,_,!1,D)};function ae(O,E,_,D,z){return E=+E,_=_>>>0,z||q(O,E,_,8),n.write(O,E,_,D,52,8),_+8}a.prototype.writeDoubleLE=function(E,_,D){return ae(this,E,_,!0,D)},a.prototype.writeDoubleBE=function(E,_,D){return ae(this,E,_,!1,D)},a.prototype.copy=function(E,_,D,z){if(!a.isBuffer(E))throw new TypeError("argument should be a Buffer");if(D||(D=0),!z&&z!==0&&(z=this.length),_>=E.length&&(_=E.length),_||(_=0),z>0&&z<D&&(z=D),z===D||E.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),E.length-_<z-D&&(z=E.length-_+D);const j=z-D;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,D,z):Uint8Array.prototype.set.call(E,this.subarray(D,z),_),j},a.prototype.fill=function(E,_,D,z){if(typeof E=="string"){if(typeof _=="string"?(z=_,_=0,D=this.length):typeof D=="string"&&(z=D,D=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(E.length===1){const V=E.charCodeAt(0);(z==="utf8"&&V<128||z==="latin1")&&(E=V)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(_<0||this.length<_||this.length<D)throw new RangeError("Out of range index");if(D<=_)return this;_=_>>>0,D=D===void 0?this.length:D>>>0,E||(E=0);let j;if(typeof E=="number")for(j=_;j<D;++j)this[j]=E;else{const V=a.isBuffer(E)?E:a.from(E,z),je=V.length;if(je===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(j=0;j<D-_;++j)this[j+_]=V[j%je]}return this};const se={};function le(O,E,_){se[O]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(O,E){return`The "${O}" argument must be of type number. Received type ${typeof E}`},TypeError),le("ERR_OUT_OF_RANGE",function(O,E,_){let D=`The value of "${O}" is out of range.`,z=_;return Number.isInteger(_)&&Math.abs(_)>2**32?z=Tt(String(_)):typeof _=="bigint"&&(z=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(z=Tt(z)),z+="n"),D+=` It must be ${E}. Received ${z}`,D},RangeError);function Tt(O){let E="",_=O.length;const D=O[0]==="-"?1:0;for(;_>=D+4;_-=3)E=`_${O.slice(_-3,_)}${E}`;return`${O.slice(0,_)}${E}`}function ve(O,E,_){pt(E,"offset"),(O[E]===void 0||O[E+_]===void 0)&&Ee(E,O.length-(_+1))}function we(O,E,_,D,z,j){if(O>_||O<E){const V=typeof E=="bigint"?"n":"";let je;throw j>3?E===0||E===BigInt(0)?je=`>= 0${V} and < 2${V} ** ${(j+1)*8}${V}`:je=`>= -(2${V} ** ${(j+1)*8-1}${V}) and < 2 ** ${(j+1)*8-1}${V}`:je=`>= ${E}${V} and <= ${_}${V}`,new se.ERR_OUT_OF_RANGE("value",je,O)}ve(D,z,j)}function pt(O,E){if(typeof O!="number")throw new se.ERR_INVALID_ARG_TYPE(E,"number",O)}function Ee(O,E,_){throw Math.floor(O)!==O?(pt(O,_),new se.ERR_OUT_OF_RANGE(_||"offset","an integer",O)):E<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE(_||"offset",`>= ${_?1:0} and <= ${E}`,O)}const Me=/[^+/0-9A-Za-z-_]/g;function wr(O){if(O=O.split("=")[0],O=O.trim().replace(Me,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function ke(O,E){E=E||1/0;let _;const D=O.length;let z=null;const j=[];for(let V=0;V<D;++V){if(_=O.charCodeAt(V),_>55295&&_<57344){if(!z){if(_>56319){(E-=3)>-1&&j.push(239,191,189);continue}else if(V+1===D){(E-=3)>-1&&j.push(239,191,189);continue}z=_;continue}if(_<56320){(E-=3)>-1&&j.push(239,191,189),z=_;continue}_=(z-55296<<10|_-56320)+65536}else z&&(E-=3)>-1&&j.push(239,191,189);if(z=null,_<128){if((E-=1)<0)break;j.push(_)}else if(_<2048){if((E-=2)<0)break;j.push(_>>6|192,_&63|128)}else if(_<65536){if((E-=3)<0)break;j.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((E-=4)<0)break;j.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return j}function $e(O){const E=[];for(let _=0;_<O.length;++_)E.push(O.charCodeAt(_)&255);return E}function zi(O,E){let _,D,z;const j=[];for(let V=0;V<O.length&&!((E-=2)<0);++V)_=O.charCodeAt(V),D=_>>8,z=_%256,j.push(z),j.push(D);return j}function De(O){return e.toByteArray(wr(O))}function Te(O,E,_,D){let z;for(z=0;z<D&&!(z+_>=E.length||z>=O.length);++z)E[z+_]=O[z];return z}function fn(O,E){return O instanceof E||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===E.name}function Re(O){return O!==O}const Ne=function(){const O="0123456789abcdef",E=new Array(256);for(let _=0;_<16;++_){const D=_*16;for(let z=0;z<16;++z)E[D+z]=O[_]+O[z]}return E}();function bn(O){return typeof BigInt>"u"?Pe:O}function Pe(){throw new Error("BigInt not supported")}})(Ve);function Ky(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function tF(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function KA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function nF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ky(t.outputLen),Ky(t.blockLen)}function rF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function iF(t,e){KA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Cr={number:Ky,bool:tF,bytes:KA,hash:nF,exists:rF,output:iF},_0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GA=t=>t instanceof Uint8Array,sF=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),x0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),vi=(t,e)=>t<<32-e|t>>>e,oF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!oF)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function QA(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function vf(t){if(typeof t=="string"&&(t=QA(t)),!GA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function YA(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!GA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class N1{clone(){return this._cloneInto()}}function pa(t){const e=r=>t().update(vf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function aF(t){const e=(r,i)=>t(i).update(vf(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function ZA(t=32){if(_0&&typeof _0.getRandomValues=="function")return _0.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function uF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),u=r?4:0,c=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+c,a,r)}class XA extends N1{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=x0(this.buffer)}update(e){Cr.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=vf(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=x0(e);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cr.exists(this),Cr.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let g=o;g<i;g++)n[g]=0;uF(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=x0(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,d[g],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const nh=BigInt(2**32-1),Gy=BigInt(32);function JA(t,e=!1){return e?{h:Number(t&nh),l:Number(t>>Gy&nh)}:{h:Number(t>>Gy&nh)|0,l:Number(t&nh)|0}}function lF(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=JA(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const cF=(t,e)=>BigInt(t>>>0)<<Gy|BigInt(e>>>0),fF=(t,e,n)=>t>>>n,hF=(t,e,n)=>t<<32-n|e>>>n,dF=(t,e,n)=>t>>>n|e<<32-n,pF=(t,e,n)=>t<<32-n|e>>>n,gF=(t,e,n)=>t<<64-n|e>>>n-32,mF=(t,e,n)=>t>>>n-32|e<<64-n,yF=(t,e)=>e,vF=(t,e)=>t,wF=(t,e,n)=>t<<n|e>>>32-n,SF=(t,e,n)=>e<<n|t>>>32-n,EF=(t,e,n)=>e<<n-32|t>>>64-n,bF=(t,e,n)=>t<<n-32|e>>>64-n;function _F(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const xF=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),IF=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,CF=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),MF=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,AF=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),kF=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Ue={fromBig:JA,split:lF,toBig:cF,shrSH:fF,shrSL:hF,rotrSH:dF,rotrSL:pF,rotrBH:gF,rotrBL:mF,rotr32H:yF,rotr32L:vF,rotlSH:wF,rotlSL:SF,rotlBH:EF,rotlBL:bF,add:_F,add3L:xF,add3H:IF,add4L:CF,add4H:MF,add5H:kF,add5L:AF},[TF,RF]=Ue.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ps=new Uint32Array(80),gs=new Uint32Array(80);class fg extends XA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:d,Fh:g,Fl:S,Gh:w,Gl:C,Hh:x,Hl:N}=this;return[e,n,r,i,s,o,a,u,c,d,g,S,w,C,x,N]}set(e,n,r,i,s,o,a,u,c,d,g,S,w,C,x,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=d|0,this.Fh=g|0,this.Fl=S|0,this.Gh=w|0,this.Gl=C|0,this.Hh=x|0,this.Hl=N|0}process(e,n){for(let M=0;M<16;M++,n+=4)ps[M]=e.getUint32(n),gs[M]=e.getUint32(n+=4);for(let M=16;M<80;M++){const B=ps[M-15]|0,L=gs[M-15]|0,P=Ue.rotrSH(B,L,1)^Ue.rotrSH(B,L,8)^Ue.shrSH(B,L,7),F=Ue.rotrSL(B,L,1)^Ue.rotrSL(B,L,8)^Ue.shrSL(B,L,7),U=ps[M-2]|0,ee=gs[M-2]|0,Z=Ue.rotrSH(U,ee,19)^Ue.rotrBH(U,ee,61)^Ue.shrSH(U,ee,6),Y=Ue.rotrSL(U,ee,19)^Ue.rotrBL(U,ee,61)^Ue.shrSL(U,ee,6),ce=Ue.add4L(F,Y,gs[M-7],gs[M-16]),A=Ue.add4H(ce,P,Z,ps[M-7],ps[M-16]);ps[M]=A|0,gs[M]=ce|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:d,Eh:g,El:S,Fh:w,Fl:C,Gh:x,Gl:N,Hh:T,Hl:k}=this;for(let M=0;M<80;M++){const B=Ue.rotrSH(g,S,14)^Ue.rotrSH(g,S,18)^Ue.rotrBH(g,S,41),L=Ue.rotrSL(g,S,14)^Ue.rotrSL(g,S,18)^Ue.rotrBL(g,S,41),P=g&w^~g&x,F=S&C^~S&N,U=Ue.add5L(k,L,F,RF[M],gs[M]),ee=Ue.add5H(U,T,B,P,TF[M],ps[M]),Z=U|0,Y=Ue.rotrSH(r,i,28)^Ue.rotrBH(r,i,34)^Ue.rotrBH(r,i,39),ce=Ue.rotrSL(r,i,28)^Ue.rotrBL(r,i,34)^Ue.rotrBL(r,i,39),A=r&s^r&a^s&a,l=i&o^i&u^o&u;T=x|0,k=N|0,x=w|0,N=C|0,w=g|0,C=S|0,{h:g,l:S}=Ue.add(c|0,d|0,ee|0,Z|0),c=a|0,d=u|0,a=s|0,u=o|0,s=r|0,o=i|0;const h=Ue.add3L(Z,ce,l);r=Ue.add3H(h,ee,Y,A),i=h|0}({h:r,l:i}=Ue.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Ue.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=Ue.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:d}=Ue.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:g,l:S}=Ue.add(this.Eh|0,this.El|0,g|0,S|0),{h:w,l:C}=Ue.add(this.Fh|0,this.Fl|0,w|0,C|0),{h:x,l:N}=Ue.add(this.Gh|0,this.Gl|0,x|0,N|0),{h:T,l:k}=Ue.add(this.Hh|0,this.Hl|0,T|0,k|0),this.set(r,i,s,o,a,u,c,d,g,S,w,C,x,N,T,k)}roundClean(){ps.fill(0),gs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class NF extends fg{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class OF extends fg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class LF extends fg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const ek=pa(()=>new fg);pa(()=>new NF);pa(()=>new OF);pa(()=>new LF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tk=BigInt(0),hg=BigInt(1),DF=BigInt(2),dg=t=>t instanceof Uint8Array,PF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function oa(t){if(!dg(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=PF[t[n]];return e}function nk(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function O1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Du(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Go(t){return O1(oa(t))}function lu(t){if(!dg(t))throw new Error("Uint8Array expected");return O1(oa(Uint8Array.from(t).reverse()))}function cu(t,e){return Du(t.toString(16).padStart(e*2,"0"))}function zd(t,e){return cu(t,e).reverse()}function BF(t){return Du(nk(t))}function sn(t,e,n){let r;if(typeof e=="string")try{r=Du(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(dg(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function aa(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!dg(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function FF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function $F(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function UF(t){let e;for(e=0;t>tk;t>>=hg,e+=1);return e}function zF(t,e){return t>>BigInt(e)&hg}const jF=(t,e,n)=>t|(n?hg:tk)<<BigInt(e),L1=t=>(DF<<BigInt(t-1))-hg,I0=t=>new Uint8Array(t),s_=t=>Uint8Array.from(t);function rk(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=I0(t),i=I0(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...g)=>n(i,r,...g),u=(g=I0())=>{i=a(s_([0]),g),r=a(),g.length!==0&&(i=a(s_([1]),g),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const S=[];for(;g<e;){r=a();const w=r.slice();S.push(w),g+=r.length}return aa(...S)};return(g,S)=>{o(),u(g);let w;for(;!(w=S(c()));)u();return o(),w}}const VF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Yu(t,e,n={}){const r=(i,s,o)=>{const a=VF[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const HF=Object.freeze(Object.defineProperty({__proto__:null,bitGet:zF,bitLen:UF,bitMask:L1,bitSet:jF,bytesToHex:oa,bytesToNumberBE:Go,bytesToNumberLE:lu,concatBytes:aa,createHmacDrbg:rk,ensureBytes:sn,equalBytes:FF,hexToBytes:Du,hexToNumber:O1,numberToBytesBE:cu,numberToBytesLE:zd,numberToHexUnpadded:nk,numberToVarBytesBE:BF,utf8ToBytes:$F,validateObject:Yu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yn=BigInt(0),qt=BigInt(1),Oo=BigInt(2),qF=BigInt(3),Qy=BigInt(4),o_=BigInt(5),a_=BigInt(8);BigInt(9);BigInt(16);function $t(t,e){const n=t%e;return n>=yn?n:e+n}function WF(t,e,n){if(n<=yn||e<yn)throw new Error("Expected power/modulo > 0");if(n===qt)return yn;let r=qt;for(;e>yn;)e&qt&&(r=r*t%n),t=t*t%n,e>>=qt;return r}function Qt(t,e,n){let r=t;for(;e-- >yn;)r*=r,r%=n;return r}function Yy(t,e){if(t===yn||e<=yn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=$t(t,e),r=e,i=yn,s=qt;for(;n!==yn;){const a=r/n,u=r%n,c=i-s*a;r=n,n=u,i=s,s=c}if(r!==qt)throw new Error("invert: does not exist");return $t(i,e)}function KF(t){const e=(t-qt)/Oo;let n,r,i;for(n=t-qt,r=0;n%Oo===yn;n/=Oo,r++);for(i=Oo;i<t&&WF(i,e,t)!==t-qt;i++);if(r===1){const o=(t+qt)/Qy;return function(u,c){const d=u.pow(c,o);if(!u.eql(u.sqr(d),c))throw new Error("Cannot find square root");return d}}const s=(n+qt)/Oo;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),g=a.pow(u,s),S=a.pow(u,n);for(;!a.eql(S,a.ONE);){if(a.eql(S,a.ZERO))return a.ZERO;let w=1;for(let x=a.sqr(S);w<c&&!a.eql(x,a.ONE);w++)x=a.sqr(x);const C=a.pow(d,qt<<BigInt(c-w-1));d=a.sqr(C),g=a.mul(g,C),S=a.mul(S,d),c=w}return g}}function GF(t){if(t%Qy===qF){const e=(t+qt)/Qy;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%a_===o_){const e=(t-o_)/a_;return function(r,i){const s=r.mul(i,Oo),o=r.pow(s,e),a=r.mul(i,o),u=r.mul(r.mul(a,Oo),o),c=r.mul(a,r.sub(u,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return KF(t)}const QF=(t,e)=>($t(t,e)&qt)===qt,YF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ZF(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=YF.reduce((r,i)=>(r[i]="function",r),e);return Yu(t,n)}function XF(t,e,n){if(n<yn)throw new Error("Expected power > 0");if(n===yn)return t.ONE;if(n===qt)return e;let r=t.ONE,i=e;for(;n>yn;)n&qt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=qt;return r}function JF(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function D1(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ik(t,e,n=!1,r={}){if(t<=yn)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=D1(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=GF(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:L1(i),ZERO:yn,ONE:qt,create:u=>$t(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return yn<=u&&u<t},is0:u=>u===yn,isOdd:u=>(u&qt)===qt,neg:u=>$t(-u,t),eql:(u,c)=>u===c,sqr:u=>$t(u*u,t),add:(u,c)=>$t(u+c,t),sub:(u,c)=>$t(u-c,t),mul:(u,c)=>$t(u*c,t),pow:(u,c)=>XF(a,u,c),div:(u,c)=>$t(u*Yy(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>Yy(u,t),sqrt:r.sqrt||(u=>o(a,u)),invertBatch:u=>JF(a,u),cmov:(u,c,d)=>d?c:u,toBytes:u=>n?zd(u,s):cu(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return n?lu(u):Go(u)}});return Object.freeze(a)}function e$(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function t$(t,e,n=!1){t=sn("privateHash",t);const r=t.length,i=D1(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const s=n?lu(t):Go(t);return $t(s,e-qt)+qt}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n$=BigInt(0),C0=BigInt(1);function sk(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>n$;)s&C0&&(o=o.add(a)),a=a.double(),s>>=C0;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),u=[];let c=i,d=c;for(let g=0;g<o;g++){d=c,u.push(d);for(let S=1;S<a;S++)d=d.add(c),u.push(d);c=d.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=r(i);let c=t.ZERO,d=t.BASE;const g=BigInt(2**i-1),S=2**i,w=BigInt(i);for(let C=0;C<a;C++){const x=C*u;let N=Number(o&g);o>>=w,N>u&&(N-=S,o+=C0);const T=x,k=x+Math.abs(N)-1,M=C%2!==0,B=N<0;N===0?d=d.add(n(M,s[T])):c=c.add(n(B,s[k]))}return{p:c,f:d}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function P1(t){return ZF(t.Fp),Yu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...D1(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ti=BigInt(0),Sr=BigInt(1),rh=BigInt(2),r$=BigInt(8),i$={zip215:!0};function s$(t){const e=P1(t);return Yu(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function B1(t){const e=s$(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,c=rh<<BigInt(a*8)-Sr,d=n.create,g=e.uvRatio||((m,b)=>{try{return{isValid:!0,value:n.sqrt(m*n.inv(b))}}catch{return{isValid:!1,value:ti}}}),S=e.adjustScalarBytes||(m=>m),w=e.domain||((m,b,R)=>{if(b.length||R)throw new Error("Contexts/pre-hash are not supported");return m}),C=m=>typeof m=="bigint"&&ti<m,x=(m,b)=>C(m)&&C(b)&&m<b,N=m=>m===ti||x(m,c);function T(m,b){if(x(m,b))return m;throw new Error(`Expected valid scalar < ${b}, got ${typeof m} ${m}`)}function k(m){return m===ti?m:T(m,r)}const M=new Map;function B(m){if(!(m instanceof L))throw new Error("ExtendedPoint expected")}class L{constructor(b,R,v,f){if(this.ex=b,this.ey=R,this.ez=v,this.et=f,!N(b))throw new Error("x required");if(!N(R))throw new Error("y required");if(!N(v))throw new Error("z required");if(!N(f))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(b){if(b instanceof L)throw new Error("extended point not allowed");const{x:R,y:v}=b||{};if(!N(R)||!N(v))throw new Error("invalid affine point");return new L(R,v,Sr,d(R*v))}static normalizeZ(b){const R=n.invertBatch(b.map(v=>v.ez));return b.map((v,f)=>v.toAffine(R[f])).map(L.fromAffine)}_setWindowSize(b){this._WINDOW_SIZE=b,M.delete(this)}assertValidity(){const{a:b,d:R}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:v,ey:f,ez:I,et:K}=this,q=d(v*v),G=d(f*f),ae=d(I*I),se=d(ae*ae),le=d(q*b),Tt=d(ae*d(le+G)),ve=d(se+d(R*d(q*G)));if(Tt!==ve)throw new Error("bad point: equation left != right (1)");const we=d(v*f),pt=d(I*K);if(we!==pt)throw new Error("bad point: equation left != right (2)")}equals(b){B(b);const{ex:R,ey:v,ez:f}=this,{ex:I,ey:K,ez:q}=b,G=d(R*q),ae=d(I*f),se=d(v*q),le=d(K*f);return G===ae&&se===le}is0(){return this.equals(L.ZERO)}negate(){return new L(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:b}=e,{ex:R,ey:v,ez:f}=this,I=d(R*R),K=d(v*v),q=d(rh*d(f*f)),G=d(b*I),ae=R+v,se=d(d(ae*ae)-I-K),le=G+K,Tt=le-q,ve=G-K,we=d(se*Tt),pt=d(le*ve),Ee=d(se*ve),Me=d(Tt*le);return new L(we,pt,Me,Ee)}add(b){B(b);const{a:R,d:v}=e,{ex:f,ey:I,ez:K,et:q}=this,{ex:G,ey:ae,ez:se,et:le}=b;if(R===BigInt(-1)){const fn=d((I-f)*(ae+G)),Re=d((I+f)*(ae-G)),Ne=d(Re-fn);if(Ne===ti)return this.double();const bn=d(K*rh*le),Pe=d(q*rh*se),O=Pe+bn,E=Re+fn,_=Pe-bn,D=d(O*Ne),z=d(E*_),j=d(O*_),V=d(Ne*E);return new L(D,z,V,j)}const Tt=d(f*G),ve=d(I*ae),we=d(q*v*le),pt=d(K*se),Ee=d((f+I)*(G+ae)-Tt-ve),Me=pt-we,wr=pt+we,ke=d(ve-R*Tt),$e=d(Ee*Me),zi=d(wr*ke),De=d(Ee*ke),Te=d(Me*wr);return new L($e,zi,Te,De)}subtract(b){return this.add(b.negate())}wNAF(b){return U.wNAFCached(this,M,b,L.normalizeZ)}multiply(b){const{p:R,f:v}=this.wNAF(T(b,r));return L.normalizeZ([R,v])[0]}multiplyUnsafe(b){let R=k(b);return R===ti?F:this.equals(F)||R===Sr?this:this.equals(P)?this.wNAF(R).p:U.unsafeLadder(this,R)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return U.unsafeLadder(this,r).is0()}toAffine(b){const{ex:R,ey:v,ez:f}=this,I=this.is0();b==null&&(b=I?r$:n.inv(f));const K=d(R*b),q=d(v*b),G=d(f*b);if(I)return{x:ti,y:Sr};if(G!==Sr)throw new Error("invZ was invalid");return{x:K,y:q}}clearCofactor(){const{h:b}=e;return b===Sr?this:this.multiplyUnsafe(b)}static fromHex(b,R=!1){const{d:v,a:f}=e,I=n.BYTES;b=sn("pointHex",b,I);const K=b.slice(),q=b[I-1];K[I-1]=q&-129;const G=lu(K);G===ti||(R?T(G,c):T(G,n.ORDER));const ae=d(G*G),se=d(ae-Sr),le=d(v*ae-f);let{isValid:Tt,value:ve}=g(se,le);if(!Tt)throw new Error("Point.fromHex: invalid y coordinate");const we=(ve&Sr)===Sr,pt=(q&128)!==0;if(!R&&ve===ti&&pt)throw new Error("Point.fromHex: x=0 and x_0=1");return pt!==we&&(ve=d(-ve)),L.fromAffine({x:ve,y:G})}static fromPrivateKey(b){return Y(b).point}toRawBytes(){const{x:b,y:R}=this.toAffine(),v=zd(R,n.BYTES);return v[v.length-1]|=b&Sr?128:0,v}toHex(){return oa(this.toRawBytes())}}L.BASE=new L(e.Gx,e.Gy,Sr,d(e.Gx*e.Gy)),L.ZERO=new L(ti,Sr,Sr,ti);const{BASE:P,ZERO:F}=L,U=sk(L,a*8);function ee(m){return $t(m,r)}function Z(m){return ee(lu(m))}function Y(m){const b=a;m=sn("private key",m,b);const R=sn("hashed private key",s(m),2*b),v=S(R.slice(0,b)),f=R.slice(b,2*b),I=Z(v),K=P.multiply(I),q=K.toRawBytes();return{head:v,prefix:f,scalar:I,point:K,pointBytes:q}}function ce(m){return Y(m).pointBytes}function A(m=new Uint8Array,...b){const R=aa(...b);return Z(s(w(R,sn("context",m),!!i)))}function l(m,b,R={}){m=sn("message",m),i&&(m=i(m));const{prefix:v,scalar:f,pointBytes:I}=Y(b),K=A(R.context,v,m),q=P.multiply(K).toRawBytes(),G=A(R.context,q,I,m),ae=ee(K+G*f);k(ae);const se=aa(q,zd(ae,n.BYTES));return sn("result",se,a*2)}const h=i$;function p(m,b,R,v=h){const{context:f,zip215:I}=v,K=n.BYTES;m=sn("signature",m,2*K),b=sn("message",b),i&&(b=i(b));const q=lu(m.slice(K,2*K));let G,ae,se;try{G=L.fromHex(R,I),ae=L.fromHex(m.slice(0,K),I),se=P.multiplyUnsafe(q)}catch{return!1}if(!I&&G.isSmallOrder())return!1;const le=A(f,ae.toRawBytes(),G.toRawBytes(),b);return ae.add(G.multiplyUnsafe(le)).subtract(se).clearCofactor().equals(L.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:ce,sign:l,verify:p,ExtendedPoint:L,utils:{getExtendedPublicKey:Y,randomPrivateKey:()=>o(n.BYTES),precompute(m=8,b=L.BASE){return b._setWindowSize(m),b.multiply(BigInt(3)),b}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const o$=BigInt(1),Zy=BigInt(2),a$=BigInt(5),l_=BigInt(10),u$=BigInt(20),l$=BigInt(40),c_=BigInt(80);function c$(t){const e=F1,r=t*t%e*t%e,i=Qt(r,Zy,e)*r%e,s=Qt(i,o$,e)*t%e,o=Qt(s,a$,e)*s%e,a=Qt(o,l_,e)*o%e,u=Qt(a,u$,e)*a%e,c=Qt(u,l$,e)*u%e,d=Qt(c,c_,e)*c%e,g=Qt(d,c_,e)*c%e,S=Qt(g,l_,e)*o%e;return{pow_p_5_8:Qt(S,Zy,e)*t%e,b2:r}}function f$(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function h$(t,e){const n=F1,r=$t(e*e*e,n),i=$t(r*r*e,n),s=c$(t*i).pow_p_5_8;let o=$t(t*r*s,n);const a=$t(e*o*o,n),u=o,c=$t(o*u_,n),d=a===t,g=a===$t(-t,n),S=a===$t(-t*u_,n);return d&&(o=u),(g||S)&&(o=c),QF(o,n)&&(o=$t(-o,n)),{isValid:d||g,value:o}}const Ji=ik(F1,void 0,!0),$1={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ji,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ek,randomBytes:ZA,adjustScalarBytes:f$,uvRatio:h$},pg=B1($1);function ok(t,e,n){if(e.length>255)throw new Error("Context is too big");return YA(QA("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}B1({...$1,domain:ok});B1({...$1,domain:ok,prehash:ek});const d$=(Ji.ORDER+BigInt(3))/BigInt(8);Ji.pow(Zy,d$);Ji.sqrt(Ji.neg(Ji.ONE));(Ji.ORDER-BigInt(5))/BigInt(8);BigInt(486662);e$(Ji,Ji.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var U1={exports:{}};const p$={},g$=Object.freeze(Object.defineProperty({__proto__:null,default:p$},Symbol.toStringTag,{value:"Module"})),ak=Iv(g$);U1.exports;(function(t){(function(e,n){function r(A,l){if(!A)throw new Error(l||"Assertion failed")}function i(A,l){A.super_=l;var h=function(){};h.prototype=l.prototype,A.prototype=new h,A.prototype.constructor=A}function s(A,l,h){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((l==="le"||l==="be")&&(h=l,l=10),this._init(A||0,l||10,h||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ak.Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,h){return l.cmp(h)>0?l:h},s.min=function(l,h){return l.cmp(h)<0?l:h},s.prototype._init=function(l,h,p){if(typeof l=="number")return this._initNumber(l,h,p);if(typeof l=="object")return this._initArray(l,h,p);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),l=l.toString().replace(/\s+/g,"");var y=0;l[0]==="-"&&(y++,this.negative=1),y<l.length&&(h===16?this._parseHex(l,y,p):(this._parseBase(l,h,y),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(l,h,p){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(l,h,p){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m,b,R=0;if(p==="be")for(y=l.length-1,m=0;y>=0;y-=3)b=l[y]|l[y-1]<<8|l[y-2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);else if(p==="le")for(y=0,m=0;y<l.length;y+=3)b=l[y]|l[y+1]<<8|l[y+2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);return this._strip()};function a(A,l){var h=A.charCodeAt(l);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+A)}function u(A,l,h){var p=a(A,h);return h-1>=l&&(p|=a(A,h-1)<<4),p}s.prototype._parseHex=function(l,h,p){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m=0,b=0,R;if(p==="be")for(y=l.length-1;y>=h;y-=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8;else{var v=l.length-h;for(y=v%2===0?h+1:h;y<l.length;y+=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8}this._strip()};function c(A,l,h,p){for(var y=0,m=0,b=Math.min(A.length,h),R=l;R<b;R++){var v=A.charCodeAt(R)-48;y*=p,v>=49?m=v-49+10:v>=17?m=v-17+10:m=v,r(v>=0&&m<p,"Invalid character"),y+=m}return y}s.prototype._parseBase=function(l,h,p){this.words=[0],this.length=1;for(var y=0,m=1;m<=67108863;m*=h)y++;y--,m=m/h|0;for(var b=l.length-p,R=b%y,v=Math.min(b,b-R)+p,f=0,I=p;I<v;I+=y)f=c(l,I,I+y,h),this.imuln(m),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=c(l,I,l.length,h),I=0;I<R;I++)K*=h;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red};function d(A,l){A.words=l.words,A.length=l.length,A.negative=l.negative,A.red=l.red}if(s.prototype._move=function(l){d(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,h){l=l||10,h=h|0||1;var p;if(l===16||l==="hex"){p="";for(var y=0,m=0,b=0;b<this.length;b++){var R=this.words[b],v=((R<<y|m)&16777215).toString(16);m=R>>>24-y&16777215,y+=2,y>=26&&(y-=26,b--),m!==0||b!==this.length-1?p=S[6-v.length]+v+p:p=v+p}for(m!==0&&(p=m.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(l===(l|0)&&l>=2&&l<=36){var f=w[l],I=C[l];p="";var K=this.clone();for(K.negative=0;!K.isZero();){var q=K.modrn(I).toString(l);K=K.idivn(I),K.isZero()?p=q+p:p=S[f-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,h){return this.toArrayLike(o,l,h)}),s.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)};var x=function(l,h){return l.allocUnsafe?l.allocUnsafe(h):new l(h)};s.prototype.toArrayLike=function(l,h,p){this._strip();var y=this.byteLength(),m=p||Math.max(1,y);r(y<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0");var b=x(l,m),R=h==="le"?"LE":"BE";return this["_toArrayLike"+R](b,y),b},s.prototype._toArrayLikeLE=function(l,h){for(var p=0,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p++]=R&255,p<l.length&&(l[p++]=R>>8&255),p<l.length&&(l[p++]=R>>16&255),b===6?(p<l.length&&(l[p++]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p<l.length)for(l[p++]=y;p<l.length;)l[p++]=0},s.prototype._toArrayLikeBE=function(l,h){for(var p=l.length-1,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p--]=R&255,p>=0&&(l[p--]=R>>8&255),p>=0&&(l[p--]=R>>16&255),b===6?(p>=0&&(l[p--]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p>=0)for(l[p--]=y;p>=0;)l[p--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var h=l,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(l){if(l===0)return 26;var h=l,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var l=this.words[this.length-1],h=this._countBits(l);return(this.length-1)*26+h};function N(A){for(var l=new Array(A.bitLength()),h=0;h<l.length;h++){var p=h/26|0,y=h%26;l[h]=A.words[p]>>>y&1}return l}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(l+=p,p!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this._strip()},s.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var h;this.length>l.length?h=l:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&l.words[p];return this.length=h.length,this._strip()},s.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var h,p;this.length>l.length?(h=this,p=l):(h=l,p=this);for(var y=0;y<p.length;y++)this.words[y]=h.words[y]^p.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},s.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var h=Math.ceil(l/26)|0,p=l%26;this._expand(h),p>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,h){r(typeof l=="number"&&l>=0);var p=l/26|0,y=l%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this._strip()},s.prototype.iadd=function(l){var h;if(this.negative!==0&&l.negative===0)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();var p,y;this.length>l.length?(p=this,y=l):(p=l,y=this);for(var m=0,b=0;b<y.length;b++)h=(p.words[b]|0)+(y.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;for(;m!==0&&b<p.length;b++)h=(p.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;if(this.length=p.length,m!==0)this.words[this.length]=m,this.length++;else if(p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this},s.prototype.add=function(l){var h;return l.negative!==0&&this.negative===0?(l.negative=0,h=this.sub(l),l.negative^=1,h):l.negative===0&&this.negative!==0?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p=this.cmp(l);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,m;p>0?(y=this,m=l):(y=l,m=this);for(var b=0,R=0;R<m.length;R++)h=(y.words[R]|0)-(m.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;for(;b!==0&&R<y.length;R++)h=(y.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;if(b===0&&R<y.length&&y!==this)for(;R<y.length;R++)this.words[R]=y.words[R];return this.length=Math.max(this.length,R),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function T(A,l,h){h.negative=l.negative^A.negative;var p=A.length+l.length|0;h.length=p,p=p-1|0;var y=A.words[0]|0,m=l.words[0]|0,b=y*m,R=b&67108863,v=b/67108864|0;h.words[0]=R;for(var f=1;f<p;f++){for(var I=v>>>26,K=v&67108863,q=Math.min(f,l.length-1),G=Math.max(0,f-A.length+1);G<=q;G++){var ae=f-G|0;y=A.words[ae]|0,m=l.words[G]|0,b=y*m+K,I+=b/67108864|0,K=b&67108863}h.words[f]=K|0,v=I|0}return v!==0?h.words[f]=v|0:h.length--,h._strip()}var k=function(l,h,p){var y=l.words,m=h.words,b=p.words,R=0,v,f,I,K=y[0]|0,q=K&8191,G=K>>>13,ae=y[1]|0,se=ae&8191,le=ae>>>13,Tt=y[2]|0,ve=Tt&8191,we=Tt>>>13,pt=y[3]|0,Ee=pt&8191,Me=pt>>>13,wr=y[4]|0,ke=wr&8191,$e=wr>>>13,zi=y[5]|0,De=zi&8191,Te=zi>>>13,fn=y[6]|0,Re=fn&8191,Ne=fn>>>13,bn=y[7]|0,Pe=bn&8191,O=bn>>>13,E=y[8]|0,_=E&8191,D=E>>>13,z=y[9]|0,j=z&8191,V=z>>>13,je=m[0]|0,me=je&8191,pe=je>>>13,kt=m[1]|0,de=kt&8191,We=kt>>>13,tl=m[2]|0,Ke=tl&8191,Ge=tl>>>13,nl=m[3]|0,Qe=nl&8191,Ye=nl>>>13,rl=m[4]|0,Ze=rl&8191,Xe=rl>>>13,il=m[5]|0,Je=il&8191,et=il>>>13,sl=m[6]|0,tt=sl&8191,nt=sl>>>13,ol=m[7]|0,rt=ol&8191,it=ol>>>13,al=m[8]|0,st=al&8191,ot=al>>>13,ul=m[9]|0,at=ul&8191,ut=ul>>>13;p.negative=l.negative^h.negative,p.length=19,v=Math.imul(q,me),f=Math.imul(q,pe),f=f+Math.imul(G,me)|0,I=Math.imul(G,pe);var co=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(co>>>26)|0,co&=67108863,v=Math.imul(se,me),f=Math.imul(se,pe),f=f+Math.imul(le,me)|0,I=Math.imul(le,pe),v=v+Math.imul(q,de)|0,f=f+Math.imul(q,We)|0,f=f+Math.imul(G,de)|0,I=I+Math.imul(G,We)|0;var fo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(fo>>>26)|0,fo&=67108863,v=Math.imul(ve,me),f=Math.imul(ve,pe),f=f+Math.imul(we,me)|0,I=Math.imul(we,pe),v=v+Math.imul(se,de)|0,f=f+Math.imul(se,We)|0,f=f+Math.imul(le,de)|0,I=I+Math.imul(le,We)|0,v=v+Math.imul(q,Ke)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(G,Ke)|0,I=I+Math.imul(G,Ge)|0;var ho=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(ho>>>26)|0,ho&=67108863,v=Math.imul(Ee,me),f=Math.imul(Ee,pe),f=f+Math.imul(Me,me)|0,I=Math.imul(Me,pe),v=v+Math.imul(ve,de)|0,f=f+Math.imul(ve,We)|0,f=f+Math.imul(we,de)|0,I=I+Math.imul(we,We)|0,v=v+Math.imul(se,Ke)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(le,Ke)|0,I=I+Math.imul(le,Ge)|0,v=v+Math.imul(q,Qe)|0,f=f+Math.imul(q,Ye)|0,f=f+Math.imul(G,Qe)|0,I=I+Math.imul(G,Ye)|0;var po=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(po>>>26)|0,po&=67108863,v=Math.imul(ke,me),f=Math.imul(ke,pe),f=f+Math.imul($e,me)|0,I=Math.imul($e,pe),v=v+Math.imul(Ee,de)|0,f=f+Math.imul(Ee,We)|0,f=f+Math.imul(Me,de)|0,I=I+Math.imul(Me,We)|0,v=v+Math.imul(ve,Ke)|0,f=f+Math.imul(ve,Ge)|0,f=f+Math.imul(we,Ke)|0,I=I+Math.imul(we,Ge)|0,v=v+Math.imul(se,Qe)|0,f=f+Math.imul(se,Ye)|0,f=f+Math.imul(le,Qe)|0,I=I+Math.imul(le,Ye)|0,v=v+Math.imul(q,Ze)|0,f=f+Math.imul(q,Xe)|0,f=f+Math.imul(G,Ze)|0,I=I+Math.imul(G,Xe)|0;var go=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(go>>>26)|0,go&=67108863,v=Math.imul(De,me),f=Math.imul(De,pe),f=f+Math.imul(Te,me)|0,I=Math.imul(Te,pe),v=v+Math.imul(ke,de)|0,f=f+Math.imul(ke,We)|0,f=f+Math.imul($e,de)|0,I=I+Math.imul($e,We)|0,v=v+Math.imul(Ee,Ke)|0,f=f+Math.imul(Ee,Ge)|0,f=f+Math.imul(Me,Ke)|0,I=I+Math.imul(Me,Ge)|0,v=v+Math.imul(ve,Qe)|0,f=f+Math.imul(ve,Ye)|0,f=f+Math.imul(we,Qe)|0,I=I+Math.imul(we,Ye)|0,v=v+Math.imul(se,Ze)|0,f=f+Math.imul(se,Xe)|0,f=f+Math.imul(le,Ze)|0,I=I+Math.imul(le,Xe)|0,v=v+Math.imul(q,Je)|0,f=f+Math.imul(q,et)|0,f=f+Math.imul(G,Je)|0,I=I+Math.imul(G,et)|0;var mo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(mo>>>26)|0,mo&=67108863,v=Math.imul(Re,me),f=Math.imul(Re,pe),f=f+Math.imul(Ne,me)|0,I=Math.imul(Ne,pe),v=v+Math.imul(De,de)|0,f=f+Math.imul(De,We)|0,f=f+Math.imul(Te,de)|0,I=I+Math.imul(Te,We)|0,v=v+Math.imul(ke,Ke)|0,f=f+Math.imul(ke,Ge)|0,f=f+Math.imul($e,Ke)|0,I=I+Math.imul($e,Ge)|0,v=v+Math.imul(Ee,Qe)|0,f=f+Math.imul(Ee,Ye)|0,f=f+Math.imul(Me,Qe)|0,I=I+Math.imul(Me,Ye)|0,v=v+Math.imul(ve,Ze)|0,f=f+Math.imul(ve,Xe)|0,f=f+Math.imul(we,Ze)|0,I=I+Math.imul(we,Xe)|0,v=v+Math.imul(se,Je)|0,f=f+Math.imul(se,et)|0,f=f+Math.imul(le,Je)|0,I=I+Math.imul(le,et)|0,v=v+Math.imul(q,tt)|0,f=f+Math.imul(q,nt)|0,f=f+Math.imul(G,tt)|0,I=I+Math.imul(G,nt)|0;var yo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(yo>>>26)|0,yo&=67108863,v=Math.imul(Pe,me),f=Math.imul(Pe,pe),f=f+Math.imul(O,me)|0,I=Math.imul(O,pe),v=v+Math.imul(Re,de)|0,f=f+Math.imul(Re,We)|0,f=f+Math.imul(Ne,de)|0,I=I+Math.imul(Ne,We)|0,v=v+Math.imul(De,Ke)|0,f=f+Math.imul(De,Ge)|0,f=f+Math.imul(Te,Ke)|0,I=I+Math.imul(Te,Ge)|0,v=v+Math.imul(ke,Qe)|0,f=f+Math.imul(ke,Ye)|0,f=f+Math.imul($e,Qe)|0,I=I+Math.imul($e,Ye)|0,v=v+Math.imul(Ee,Ze)|0,f=f+Math.imul(Ee,Xe)|0,f=f+Math.imul(Me,Ze)|0,I=I+Math.imul(Me,Xe)|0,v=v+Math.imul(ve,Je)|0,f=f+Math.imul(ve,et)|0,f=f+Math.imul(we,Je)|0,I=I+Math.imul(we,et)|0,v=v+Math.imul(se,tt)|0,f=f+Math.imul(se,nt)|0,f=f+Math.imul(le,tt)|0,I=I+Math.imul(le,nt)|0,v=v+Math.imul(q,rt)|0,f=f+Math.imul(q,it)|0,f=f+Math.imul(G,rt)|0,I=I+Math.imul(G,it)|0;var vo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(vo>>>26)|0,vo&=67108863,v=Math.imul(_,me),f=Math.imul(_,pe),f=f+Math.imul(D,me)|0,I=Math.imul(D,pe),v=v+Math.imul(Pe,de)|0,f=f+Math.imul(Pe,We)|0,f=f+Math.imul(O,de)|0,I=I+Math.imul(O,We)|0,v=v+Math.imul(Re,Ke)|0,f=f+Math.imul(Re,Ge)|0,f=f+Math.imul(Ne,Ke)|0,I=I+Math.imul(Ne,Ge)|0,v=v+Math.imul(De,Qe)|0,f=f+Math.imul(De,Ye)|0,f=f+Math.imul(Te,Qe)|0,I=I+Math.imul(Te,Ye)|0,v=v+Math.imul(ke,Ze)|0,f=f+Math.imul(ke,Xe)|0,f=f+Math.imul($e,Ze)|0,I=I+Math.imul($e,Xe)|0,v=v+Math.imul(Ee,Je)|0,f=f+Math.imul(Ee,et)|0,f=f+Math.imul(Me,Je)|0,I=I+Math.imul(Me,et)|0,v=v+Math.imul(ve,tt)|0,f=f+Math.imul(ve,nt)|0,f=f+Math.imul(we,tt)|0,I=I+Math.imul(we,nt)|0,v=v+Math.imul(se,rt)|0,f=f+Math.imul(se,it)|0,f=f+Math.imul(le,rt)|0,I=I+Math.imul(le,it)|0,v=v+Math.imul(q,st)|0,f=f+Math.imul(q,ot)|0,f=f+Math.imul(G,st)|0,I=I+Math.imul(G,ot)|0;var wo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(wo>>>26)|0,wo&=67108863,v=Math.imul(j,me),f=Math.imul(j,pe),f=f+Math.imul(V,me)|0,I=Math.imul(V,pe),v=v+Math.imul(_,de)|0,f=f+Math.imul(_,We)|0,f=f+Math.imul(D,de)|0,I=I+Math.imul(D,We)|0,v=v+Math.imul(Pe,Ke)|0,f=f+Math.imul(Pe,Ge)|0,f=f+Math.imul(O,Ke)|0,I=I+Math.imul(O,Ge)|0,v=v+Math.imul(Re,Qe)|0,f=f+Math.imul(Re,Ye)|0,f=f+Math.imul(Ne,Qe)|0,I=I+Math.imul(Ne,Ye)|0,v=v+Math.imul(De,Ze)|0,f=f+Math.imul(De,Xe)|0,f=f+Math.imul(Te,Ze)|0,I=I+Math.imul(Te,Xe)|0,v=v+Math.imul(ke,Je)|0,f=f+Math.imul(ke,et)|0,f=f+Math.imul($e,Je)|0,I=I+Math.imul($e,et)|0,v=v+Math.imul(Ee,tt)|0,f=f+Math.imul(Ee,nt)|0,f=f+Math.imul(Me,tt)|0,I=I+Math.imul(Me,nt)|0,v=v+Math.imul(ve,rt)|0,f=f+Math.imul(ve,it)|0,f=f+Math.imul(we,rt)|0,I=I+Math.imul(we,it)|0,v=v+Math.imul(se,st)|0,f=f+Math.imul(se,ot)|0,f=f+Math.imul(le,st)|0,I=I+Math.imul(le,ot)|0,v=v+Math.imul(q,at)|0,f=f+Math.imul(q,ut)|0,f=f+Math.imul(G,at)|0,I=I+Math.imul(G,ut)|0;var So=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(So>>>26)|0,So&=67108863,v=Math.imul(j,de),f=Math.imul(j,We),f=f+Math.imul(V,de)|0,I=Math.imul(V,We),v=v+Math.imul(_,Ke)|0,f=f+Math.imul(_,Ge)|0,f=f+Math.imul(D,Ke)|0,I=I+Math.imul(D,Ge)|0,v=v+Math.imul(Pe,Qe)|0,f=f+Math.imul(Pe,Ye)|0,f=f+Math.imul(O,Qe)|0,I=I+Math.imul(O,Ye)|0,v=v+Math.imul(Re,Ze)|0,f=f+Math.imul(Re,Xe)|0,f=f+Math.imul(Ne,Ze)|0,I=I+Math.imul(Ne,Xe)|0,v=v+Math.imul(De,Je)|0,f=f+Math.imul(De,et)|0,f=f+Math.imul(Te,Je)|0,I=I+Math.imul(Te,et)|0,v=v+Math.imul(ke,tt)|0,f=f+Math.imul(ke,nt)|0,f=f+Math.imul($e,tt)|0,I=I+Math.imul($e,nt)|0,v=v+Math.imul(Ee,rt)|0,f=f+Math.imul(Ee,it)|0,f=f+Math.imul(Me,rt)|0,I=I+Math.imul(Me,it)|0,v=v+Math.imul(ve,st)|0,f=f+Math.imul(ve,ot)|0,f=f+Math.imul(we,st)|0,I=I+Math.imul(we,ot)|0,v=v+Math.imul(se,at)|0,f=f+Math.imul(se,ut)|0,f=f+Math.imul(le,at)|0,I=I+Math.imul(le,ut)|0;var Eo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,v=Math.imul(j,Ke),f=Math.imul(j,Ge),f=f+Math.imul(V,Ke)|0,I=Math.imul(V,Ge),v=v+Math.imul(_,Qe)|0,f=f+Math.imul(_,Ye)|0,f=f+Math.imul(D,Qe)|0,I=I+Math.imul(D,Ye)|0,v=v+Math.imul(Pe,Ze)|0,f=f+Math.imul(Pe,Xe)|0,f=f+Math.imul(O,Ze)|0,I=I+Math.imul(O,Xe)|0,v=v+Math.imul(Re,Je)|0,f=f+Math.imul(Re,et)|0,f=f+Math.imul(Ne,Je)|0,I=I+Math.imul(Ne,et)|0,v=v+Math.imul(De,tt)|0,f=f+Math.imul(De,nt)|0,f=f+Math.imul(Te,tt)|0,I=I+Math.imul(Te,nt)|0,v=v+Math.imul(ke,rt)|0,f=f+Math.imul(ke,it)|0,f=f+Math.imul($e,rt)|0,I=I+Math.imul($e,it)|0,v=v+Math.imul(Ee,st)|0,f=f+Math.imul(Ee,ot)|0,f=f+Math.imul(Me,st)|0,I=I+Math.imul(Me,ot)|0,v=v+Math.imul(ve,at)|0,f=f+Math.imul(ve,ut)|0,f=f+Math.imul(we,at)|0,I=I+Math.imul(we,ut)|0;var bo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(bo>>>26)|0,bo&=67108863,v=Math.imul(j,Qe),f=Math.imul(j,Ye),f=f+Math.imul(V,Qe)|0,I=Math.imul(V,Ye),v=v+Math.imul(_,Ze)|0,f=f+Math.imul(_,Xe)|0,f=f+Math.imul(D,Ze)|0,I=I+Math.imul(D,Xe)|0,v=v+Math.imul(Pe,Je)|0,f=f+Math.imul(Pe,et)|0,f=f+Math.imul(O,Je)|0,I=I+Math.imul(O,et)|0,v=v+Math.imul(Re,tt)|0,f=f+Math.imul(Re,nt)|0,f=f+Math.imul(Ne,tt)|0,I=I+Math.imul(Ne,nt)|0,v=v+Math.imul(De,rt)|0,f=f+Math.imul(De,it)|0,f=f+Math.imul(Te,rt)|0,I=I+Math.imul(Te,it)|0,v=v+Math.imul(ke,st)|0,f=f+Math.imul(ke,ot)|0,f=f+Math.imul($e,st)|0,I=I+Math.imul($e,ot)|0,v=v+Math.imul(Ee,at)|0,f=f+Math.imul(Ee,ut)|0,f=f+Math.imul(Me,at)|0,I=I+Math.imul(Me,ut)|0;var _o=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(_o>>>26)|0,_o&=67108863,v=Math.imul(j,Ze),f=Math.imul(j,Xe),f=f+Math.imul(V,Ze)|0,I=Math.imul(V,Xe),v=v+Math.imul(_,Je)|0,f=f+Math.imul(_,et)|0,f=f+Math.imul(D,Je)|0,I=I+Math.imul(D,et)|0,v=v+Math.imul(Pe,tt)|0,f=f+Math.imul(Pe,nt)|0,f=f+Math.imul(O,tt)|0,I=I+Math.imul(O,nt)|0,v=v+Math.imul(Re,rt)|0,f=f+Math.imul(Re,it)|0,f=f+Math.imul(Ne,rt)|0,I=I+Math.imul(Ne,it)|0,v=v+Math.imul(De,st)|0,f=f+Math.imul(De,ot)|0,f=f+Math.imul(Te,st)|0,I=I+Math.imul(Te,ot)|0,v=v+Math.imul(ke,at)|0,f=f+Math.imul(ke,ut)|0,f=f+Math.imul($e,at)|0,I=I+Math.imul($e,ut)|0;var xo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(xo>>>26)|0,xo&=67108863,v=Math.imul(j,Je),f=Math.imul(j,et),f=f+Math.imul(V,Je)|0,I=Math.imul(V,et),v=v+Math.imul(_,tt)|0,f=f+Math.imul(_,nt)|0,f=f+Math.imul(D,tt)|0,I=I+Math.imul(D,nt)|0,v=v+Math.imul(Pe,rt)|0,f=f+Math.imul(Pe,it)|0,f=f+Math.imul(O,rt)|0,I=I+Math.imul(O,it)|0,v=v+Math.imul(Re,st)|0,f=f+Math.imul(Re,ot)|0,f=f+Math.imul(Ne,st)|0,I=I+Math.imul(Ne,ot)|0,v=v+Math.imul(De,at)|0,f=f+Math.imul(De,ut)|0,f=f+Math.imul(Te,at)|0,I=I+Math.imul(Te,ut)|0;var Io=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Io>>>26)|0,Io&=67108863,v=Math.imul(j,tt),f=Math.imul(j,nt),f=f+Math.imul(V,tt)|0,I=Math.imul(V,nt),v=v+Math.imul(_,rt)|0,f=f+Math.imul(_,it)|0,f=f+Math.imul(D,rt)|0,I=I+Math.imul(D,it)|0,v=v+Math.imul(Pe,st)|0,f=f+Math.imul(Pe,ot)|0,f=f+Math.imul(O,st)|0,I=I+Math.imul(O,ot)|0,v=v+Math.imul(Re,at)|0,f=f+Math.imul(Re,ut)|0,f=f+Math.imul(Ne,at)|0,I=I+Math.imul(Ne,ut)|0;var Co=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Co>>>26)|0,Co&=67108863,v=Math.imul(j,rt),f=Math.imul(j,it),f=f+Math.imul(V,rt)|0,I=Math.imul(V,it),v=v+Math.imul(_,st)|0,f=f+Math.imul(_,ot)|0,f=f+Math.imul(D,st)|0,I=I+Math.imul(D,ot)|0,v=v+Math.imul(Pe,at)|0,f=f+Math.imul(Pe,ut)|0,f=f+Math.imul(O,at)|0,I=I+Math.imul(O,ut)|0;var Mo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,v=Math.imul(j,st),f=Math.imul(j,ot),f=f+Math.imul(V,st)|0,I=Math.imul(V,ot),v=v+Math.imul(_,at)|0,f=f+Math.imul(_,ut)|0,f=f+Math.imul(D,at)|0,I=I+Math.imul(D,ut)|0;var Ao=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,v=Math.imul(j,at),f=Math.imul(j,ut),f=f+Math.imul(V,at)|0,I=Math.imul(V,ut);var ko=(R+v|0)+((f&8191)<<13)|0;return R=(I+(f>>>13)|0)+(ko>>>26)|0,ko&=67108863,b[0]=co,b[1]=fo,b[2]=ho,b[3]=po,b[4]=go,b[5]=mo,b[6]=yo,b[7]=vo,b[8]=wo,b[9]=So,b[10]=Eo,b[11]=bo,b[12]=_o,b[13]=xo,b[14]=Io,b[15]=Co,b[16]=Mo,b[17]=Ao,b[18]=ko,R!==0&&(b[19]=R,p.length++),p};Math.imul||(k=T);function M(A,l,h){h.negative=l.negative^A.negative,h.length=A.length+l.length;for(var p=0,y=0,m=0;m<h.length-1;m++){var b=y;y=0;for(var R=p&67108863,v=Math.min(m,l.length-1),f=Math.max(0,m-A.length+1);f<=v;f++){var I=m-f,K=A.words[I]|0,q=l.words[f]|0,G=K*q,ae=G&67108863;b=b+(G/67108864|0)|0,ae=ae+R|0,R=ae&67108863,b=b+(ae>>>26)|0,y+=b>>>26,b&=67108863}h.words[m]=R,p=b,b=y}return p!==0?h.words[m]=p:h.length--,h._strip()}function B(A,l,h){return M(A,l,h)}s.prototype.mulTo=function(l,h){var p,y=this.length+l.length;return this.length===10&&l.length===10?p=k(this,l,h):y<63?p=T(this,l,h):y<1024?p=M(this,l,h):p=B(this,l,h),p},s.prototype.mul=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},s.prototype.mulf=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),B(this,l,h)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var h=l<0;h&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var p=0,y=0;y<this.length;y++){var m=(this.words[y]|0)*l,b=(m&67108863)+(p&67108863);p>>=26,p+=m/67108864|0,p+=b>>>26,this.words[y]=b&67108863}return p!==0&&(this.words[y]=p,this.length++),h?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var h=N(l);if(h.length===0)return new s(1);for(var p=this,y=0;y<h.length&&h[y]===0;y++,p=p.sqr());if(++y<h.length)for(var m=p.sqr();y<h.length;y++,m=m.sqr())h[y]!==0&&(p=p.mul(m));return p},s.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=67108863>>>26-h<<26-h,m;if(h!==0){var b=0;for(m=0;m<this.length;m++){var R=this.words[m]&y,v=(this.words[m]|0)-R<<h;this.words[m]=v|b,b=R>>>26-h}b&&(this.words[m]=b,this.length++)}if(p!==0){for(m=this.length-1;m>=0;m--)this.words[m+p]=this.words[m];for(m=0;m<p;m++)this.words[m]=0;this.length+=p}return this._strip()},s.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,h,p){r(typeof l=="number"&&l>=0);var y;h?y=(h-h%26)/26:y=0;var m=l%26,b=Math.min((l-m)/26,this.length),R=67108863^67108863>>>m<<m,v=p;if(y-=b,y=Math.max(0,y),v){for(var f=0;f<b;f++)v.words[f]=this.words[f];v.length=b}if(b!==0)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var I=0;for(f=this.length-1;f>=0&&(I!==0||f>=y);f--){var K=this.words[f]|0;this.words[f]=I<<26-m|K>>>m,I=K&R}return v&&I!==0&&(v.words[v.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,h,p){return r(this.negative===0),this.iushrn(l,h,p)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return!1;var m=this.words[p];return!!(m&y)},s.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,h,p){var y=l.length+p,m;this._expand(y);var b,R=0;for(m=0;m<l.length;m++){b=(this.words[m+p]|0)+R;var v=(l.words[m]|0)*h;b-=v&67108863,R=(b>>26)-(v/67108864|0),this.words[m+p]=b&67108863}for(;m<this.length-p;m++)b=(this.words[m+p]|0)+R,R=b>>26,this.words[m+p]=b&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,m=0;m<this.length;m++)b=-(this.words[m]|0)+R,R=b>>26,this.words[m]=b&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,h){var p=this.length-l.length,y=this.clone(),m=l,b=m.words[m.length-1]|0,R=this._countBits(b);p=26-R,p!==0&&(m=m.ushln(p),y.iushln(p),b=m.words[m.length-1]|0);var v=y.length-m.length,f;if(h!=="mod"){f=new s(null),f.length=v+1,f.words=new Array(f.length);for(var I=0;I<f.length;I++)f.words[I]=0}var K=y.clone()._ishlnsubmul(m,1,v);K.negative===0&&(y=K,f&&(f.words[v]=1));for(var q=v-1;q>=0;q--){var G=(y.words[m.length+q]|0)*67108864+(y.words[m.length+q-1]|0);for(G=Math.min(G/b|0,67108863),y._ishlnsubmul(m,G,q);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(m,1,q),y.isZero()||(y.negative^=1);f&&(f.words[q]=G)}return f&&f._strip(),y._strip(),h!=="div"&&p!==0&&y.iushrn(p),{div:f||null,mod:y}},s.prototype.divmod=function(l,h,p){if(r(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,m,b;return this.negative!==0&&l.negative===0?(b=this.neg().divmod(l,h),h!=="mod"&&(y=b.div.neg()),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.iadd(l)),{div:y,mod:m}):this.negative===0&&l.negative!==0?(b=this.divmod(l.neg(),h),h!=="mod"&&(y=b.div.neg()),{div:y,mod:b.mod}):this.negative&l.negative?(b=this.neg().divmod(l.neg(),h),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.isub(l)),{div:b.div,mod:m}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?h==="div"?{div:this.divn(l.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,h)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(l):h.mod,y=l.ushrn(1),m=l.andln(1),b=p.cmp(y);return b<0||m===1&&b===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=(1<<26)%l,y=0,m=this.length-1;m>=0;m--)y=(p*y+(this.words[m]|0))%l;return h?-y:y},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=0,y=this.length-1;y>=0;y--){var m=(this.words[y]|0)+p*67108864;this.words[y]=m/l|0,p=m%l}return this._strip(),h?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=new s(0),R=new s(1),v=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++v;for(var f=p.clone(),I=h.clone();!h.isZero();){for(var K=0,q=1;!(h.words[0]&q)&&K<26;++K,q<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(y.isOdd()||m.isOdd())&&(y.iadd(f),m.isub(I)),y.iushrn(1),m.iushrn(1);for(var G=0,ae=1;!(p.words[0]&ae)&&G<26;++G,ae<<=1);if(G>0)for(p.iushrn(G);G-- >0;)(b.isOdd()||R.isOdd())&&(b.iadd(f),R.isub(I)),b.iushrn(1),R.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(b),m.isub(R)):(p.isub(h),b.isub(y),R.isub(m))}return{a:b,b:R,gcd:p.iushln(v)}},s.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var R=0,v=1;!(h.words[0]&v)&&R<26;++R,v<<=1);if(R>0)for(h.iushrn(R);R-- >0;)y.isOdd()&&y.iadd(b),y.iushrn(1);for(var f=0,I=1;!(p.words[0]&I)&&f<26;++f,I<<=1);if(f>0)for(p.iushrn(f);f-- >0;)m.isOdd()&&m.iadd(b),m.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(m)):(p.isub(h),m.isub(y))}var K;return h.cmpn(1)===0?K=y:K=m,K.cmpn(0)<0&&K.iadd(l),K},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),p=l.clone();h.negative=0,p.negative=0;for(var y=0;h.isEven()&&p.isEven();y++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var m=h.cmp(p);if(m<0){var b=h;h=p,p=b}else if(m===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(y)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){r(typeof l=="number");var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var m=y,b=p;m!==0&&b<this.length;b++){var R=this.words[b]|0;R+=m,m=R>>>26,R&=67108863,this.words[b]=R}return m!==0&&(this.words[b]=m,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var h=l<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var p;if(this.length>1)p=1;else{h&&(l=-l),r(l<=67108863,"Number is too big");var y=this.words[0]|0;p=y===l?0:y<l?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var h=this.ucmp(l);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,m=l.words[p]|0;if(y!==m){y<m?h=-1:y>m&&(h=1);break}}return h},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new Y(l)},s.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function P(A,l){this.name=A,this.p=new s(l,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},P.prototype.ireduce=function(l){var h=l,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var y=p<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(l,h){l.iushrn(this.n,0,h)},P.prototype.imulK=function(l){return l.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,P),F.prototype.split=function(l,h){for(var p=4194303,y=Math.min(l.length,9),m=0;m<y;m++)h.words[m]=l.words[m];if(h.length=y,l.length<=9){l.words[0]=0,l.length=1;return}var b=l.words[9];for(h.words[h.length++]=b&p,m=10;m<l.length;m++){var R=l.words[m]|0;l.words[m-10]=(R&p)<<4|b>>>22,b=R}b>>>=22,l.words[m-10]=b,b===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,p=0;p<l.length;p++){var y=l.words[p]|0;h+=y*977,l.words[p]=h&67108863,h=y*64+(h/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,P);function ee(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,P);function Z(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,P),Z.prototype.imulK=function(l){for(var h=0,p=0;p<l.length;p++){var y=(l.words[p]|0)*19+h,m=y&67108863;y>>>=26,l.words[p]=m,h=y}return h!==0&&(l.words[l.length++]=h),l},s._prime=function(l){if(L[l])return L[l];var h;if(l==="k256")h=new F;else if(l==="p224")h=new U;else if(l==="p192")h=new ee;else if(l==="p25519")h=new Z;else throw new Error("Unknown prime "+l);return L[l]=h,h};function Y(A){if(typeof A=="string"){var l=s._prime(A);this.m=l.p,this.prime=l}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}Y.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},Y.prototype._verify2=function(l,h){r((l.negative|h.negative)===0,"red works only with positives"),r(l.red&&l.red===h.red,"red works only with red numbers")},Y.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(d(l,l.umod(this.m)._forceRed(this)),l)},Y.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Y.prototype.add=function(l,h){this._verify2(l,h);var p=l.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Y.prototype.iadd=function(l,h){this._verify2(l,h);var p=l.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Y.prototype.sub=function(l,h){this._verify2(l,h);var p=l.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Y.prototype.isub=function(l,h){this._verify2(l,h);var p=l.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Y.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},Y.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},Y.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},Y.prototype.isqr=function(l){return this.imul(l,l.clone())},Y.prototype.sqr=function(l){return this.mul(l,l)},Y.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(l,p)}for(var y=this.m.subn(1),m=0;!y.isZero()&&y.andln(1)===0;)m++,y.iushrn(1);r(!y.isZero());var b=new s(1).toRed(this),R=b.redNeg(),v=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,v).cmp(R)!==0;)f.redIAdd(R);for(var I=this.pow(f,y),K=this.pow(l,y.addn(1).iushrn(1)),q=this.pow(l,y),G=m;q.cmp(b)!==0;){for(var ae=q,se=0;ae.cmp(b)!==0;se++)ae=ae.redSqr();r(se<G);var le=this.pow(I,new s(1).iushln(G-se-1));K=K.redMul(le),I=le.redSqr(),q=q.redMul(I),G=se}return K},Y.prototype.invm=function(l){var h=l._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Y.prototype.pow=function(l,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return l.clone();var p=4,y=new Array(1<<p);y[0]=new s(1).toRed(this),y[1]=l;for(var m=2;m<y.length;m++)y[m]=this.mul(y[m-1],l);var b=y[0],R=0,v=0,f=h.bitLength()%26;for(f===0&&(f=26),m=h.length-1;m>=0;m--){for(var I=h.words[m],K=f-1;K>=0;K--){var q=I>>K&1;if(b!==y[0]&&(b=this.sqr(b)),q===0&&R===0){v=0;continue}R<<=1,R|=q,v++,!(v!==p&&(m!==0||K!==0))&&(b=this.mul(b,y[R]),v=0,R=0)}f=26}return b},Y.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},Y.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},s.mont=function(l){return new ce(l)};function ce(A){Y.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,Y),ce.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},ce.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},ce.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var p=l.imul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},ce.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new s(0)._forceRed(this);var p=l.mul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},ce.prototype.invm=function(l){var h=this.imod(l._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Yr)})(U1);var m$=U1.exports;const f_=cs(m$);var Xy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Ve,r=n.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,u){return r(o,a,u)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof u=="string"?c.fill(a,u):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Xy,Xy.exports);var y$=Xy.exports,ih=y$.Buffer;function v$(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=ih.from(w)),!ih.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var C=0,x=0,N=0,T=w.length;N!==T&&w[N]===0;)N++,C++;for(var k=(T-N)*c+1>>>0,M=new Uint8Array(k);N!==T;){for(var B=w[N],L=0,P=k-1;(B!==0||L<x)&&P!==-1;P--,L++)B+=256*M[P]>>>0,M[P]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");x=L,N++}for(var F=k-x;F!==k&&M[F]===0;)F++;for(var U=a.repeat(C);F<k;++F)U+=t.charAt(M[F]);return U}function g(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return ih.alloc(0);for(var C=0,x=0,N=0;w[C]===a;)x++,C++;for(var T=(w.length-C)*u+1>>>0,k=new Uint8Array(T);w[C];){var M=e[w.charCodeAt(C)];if(M===255)return;for(var B=0,L=T-1;(M!==0||B<N)&&L!==-1;L--,B++)M+=o*k[L]>>>0,k[L]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");N=B,C++}for(var P=T-N;P!==T&&k[P]===0;)P++;var F=ih.allocUnsafe(x+(T-P));F.fill(0,0,x);for(var U=x;P!==T;)F[U++]=k[P++];return F}function S(w){var C=g(w);if(C)return C;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:S}}var w$=v$,S$=w$,E$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",uk=S$(E$);const mn=cs(uk),b$=(t,e,n)=>t&e^~t&n,_$=(t,e,n)=>t&e^t&n^e&n,x$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ms=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ys=new Uint32Array(64);class lk extends XA{constructor(){super(64,32,8,!1),this.A=ms[0]|0,this.B=ms[1]|0,this.C=ms[2]|0,this.D=ms[3]|0,this.E=ms[4]|0,this.F=ms[5]|0,this.G=ms[6]|0,this.H=ms[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:u}=this;return[e,n,r,i,s,o,a,u]}set(e,n,r,i,s,o,a,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,n){for(let g=0;g<16;g++,n+=4)ys[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const S=ys[g-15],w=ys[g-2],C=vi(S,7)^vi(S,18)^S>>>3,x=vi(w,17)^vi(w,19)^w>>>10;ys[g]=x+ys[g-7]+C+ys[g-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let g=0;g<64;g++){const S=vi(a,6)^vi(a,11)^vi(a,25),w=d+S+b$(a,u,c)+x$[g]+ys[g]|0,x=(vi(r,2)^vi(r,13)^vi(r,22))+_$(r,i,s)|0;d=c,c=u,u=a,a=o+w|0,o=s,s=i,i=r,r=w+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,u,c,d)}roundClean(){ys.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class I$ extends lk{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Jy=pa(()=>new lk);pa(()=>new I$);var kn={},z1={exports:{}};z1.exports;(function(t){(function(e,n){function r(A,l){if(!A)throw new Error(l||"Assertion failed")}function i(A,l){A.super_=l;var h=function(){};h.prototype=l.prototype,A.prototype=new h,A.prototype.constructor=A}function s(A,l,h){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((l==="le"||l==="be")&&(h=l,l=10),this._init(A||0,l||10,h||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ak.Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,h){return l.cmp(h)>0?l:h},s.min=function(l,h){return l.cmp(h)<0?l:h},s.prototype._init=function(l,h,p){if(typeof l=="number")return this._initNumber(l,h,p);if(typeof l=="object")return this._initArray(l,h,p);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),l=l.toString().replace(/\s+/g,"");var y=0;l[0]==="-"&&(y++,this.negative=1),y<l.length&&(h===16?this._parseHex(l,y,p):(this._parseBase(l,h,y),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(l,h,p){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(l,h,p){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m,b,R=0;if(p==="be")for(y=l.length-1,m=0;y>=0;y-=3)b=l[y]|l[y-1]<<8|l[y-2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);else if(p==="le")for(y=0,m=0;y<l.length;y+=3)b=l[y]|l[y+1]<<8|l[y+2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);return this._strip()};function a(A,l){var h=A.charCodeAt(l);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+A)}function u(A,l,h){var p=a(A,h);return h-1>=l&&(p|=a(A,h-1)<<4),p}s.prototype._parseHex=function(l,h,p){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m=0,b=0,R;if(p==="be")for(y=l.length-1;y>=h;y-=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8;else{var v=l.length-h;for(y=v%2===0?h+1:h;y<l.length;y+=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8}this._strip()};function c(A,l,h,p){for(var y=0,m=0,b=Math.min(A.length,h),R=l;R<b;R++){var v=A.charCodeAt(R)-48;y*=p,v>=49?m=v-49+10:v>=17?m=v-17+10:m=v,r(v>=0&&m<p,"Invalid character"),y+=m}return y}s.prototype._parseBase=function(l,h,p){this.words=[0],this.length=1;for(var y=0,m=1;m<=67108863;m*=h)y++;y--,m=m/h|0;for(var b=l.length-p,R=b%y,v=Math.min(b,b-R)+p,f=0,I=p;I<v;I+=y)f=c(l,I,I+y,h),this.imuln(m),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=c(l,I,l.length,h),I=0;I<R;I++)K*=h;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red};function d(A,l){A.words=l.words,A.length=l.length,A.negative=l.negative,A.red=l.red}if(s.prototype._move=function(l){d(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,h){l=l||10,h=h|0||1;var p;if(l===16||l==="hex"){p="";for(var y=0,m=0,b=0;b<this.length;b++){var R=this.words[b],v=((R<<y|m)&16777215).toString(16);m=R>>>24-y&16777215,y+=2,y>=26&&(y-=26,b--),m!==0||b!==this.length-1?p=S[6-v.length]+v+p:p=v+p}for(m!==0&&(p=m.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(l===(l|0)&&l>=2&&l<=36){var f=w[l],I=C[l];p="";var K=this.clone();for(K.negative=0;!K.isZero();){var q=K.modrn(I).toString(l);K=K.idivn(I),K.isZero()?p=q+p:p=S[f-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,h){return this.toArrayLike(o,l,h)}),s.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)};var x=function(l,h){return l.allocUnsafe?l.allocUnsafe(h):new l(h)};s.prototype.toArrayLike=function(l,h,p){this._strip();var y=this.byteLength(),m=p||Math.max(1,y);r(y<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0");var b=x(l,m),R=h==="le"?"LE":"BE";return this["_toArrayLike"+R](b,y),b},s.prototype._toArrayLikeLE=function(l,h){for(var p=0,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p++]=R&255,p<l.length&&(l[p++]=R>>8&255),p<l.length&&(l[p++]=R>>16&255),b===6?(p<l.length&&(l[p++]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p<l.length)for(l[p++]=y;p<l.length;)l[p++]=0},s.prototype._toArrayLikeBE=function(l,h){for(var p=l.length-1,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p--]=R&255,p>=0&&(l[p--]=R>>8&255),p>=0&&(l[p--]=R>>16&255),b===6?(p>=0&&(l[p--]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p>=0)for(l[p--]=y;p>=0;)l[p--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var h=l,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(l){if(l===0)return 26;var h=l,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var l=this.words[this.length-1],h=this._countBits(l);return(this.length-1)*26+h};function N(A){for(var l=new Array(A.bitLength()),h=0;h<l.length;h++){var p=h/26|0,y=h%26;l[h]=A.words[p]>>>y&1}return l}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(l+=p,p!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this._strip()},s.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var h;this.length>l.length?h=l:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&l.words[p];return this.length=h.length,this._strip()},s.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var h,p;this.length>l.length?(h=this,p=l):(h=l,p=this);for(var y=0;y<p.length;y++)this.words[y]=h.words[y]^p.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},s.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var h=Math.ceil(l/26)|0,p=l%26;this._expand(h),p>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,h){r(typeof l=="number"&&l>=0);var p=l/26|0,y=l%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this._strip()},s.prototype.iadd=function(l){var h;if(this.negative!==0&&l.negative===0)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();var p,y;this.length>l.length?(p=this,y=l):(p=l,y=this);for(var m=0,b=0;b<y.length;b++)h=(p.words[b]|0)+(y.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;for(;m!==0&&b<p.length;b++)h=(p.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;if(this.length=p.length,m!==0)this.words[this.length]=m,this.length++;else if(p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this},s.prototype.add=function(l){var h;return l.negative!==0&&this.negative===0?(l.negative=0,h=this.sub(l),l.negative^=1,h):l.negative===0&&this.negative!==0?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p=this.cmp(l);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,m;p>0?(y=this,m=l):(y=l,m=this);for(var b=0,R=0;R<m.length;R++)h=(y.words[R]|0)-(m.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;for(;b!==0&&R<y.length;R++)h=(y.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;if(b===0&&R<y.length&&y!==this)for(;R<y.length;R++)this.words[R]=y.words[R];return this.length=Math.max(this.length,R),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function T(A,l,h){h.negative=l.negative^A.negative;var p=A.length+l.length|0;h.length=p,p=p-1|0;var y=A.words[0]|0,m=l.words[0]|0,b=y*m,R=b&67108863,v=b/67108864|0;h.words[0]=R;for(var f=1;f<p;f++){for(var I=v>>>26,K=v&67108863,q=Math.min(f,l.length-1),G=Math.max(0,f-A.length+1);G<=q;G++){var ae=f-G|0;y=A.words[ae]|0,m=l.words[G]|0,b=y*m+K,I+=b/67108864|0,K=b&67108863}h.words[f]=K|0,v=I|0}return v!==0?h.words[f]=v|0:h.length--,h._strip()}var k=function(l,h,p){var y=l.words,m=h.words,b=p.words,R=0,v,f,I,K=y[0]|0,q=K&8191,G=K>>>13,ae=y[1]|0,se=ae&8191,le=ae>>>13,Tt=y[2]|0,ve=Tt&8191,we=Tt>>>13,pt=y[3]|0,Ee=pt&8191,Me=pt>>>13,wr=y[4]|0,ke=wr&8191,$e=wr>>>13,zi=y[5]|0,De=zi&8191,Te=zi>>>13,fn=y[6]|0,Re=fn&8191,Ne=fn>>>13,bn=y[7]|0,Pe=bn&8191,O=bn>>>13,E=y[8]|0,_=E&8191,D=E>>>13,z=y[9]|0,j=z&8191,V=z>>>13,je=m[0]|0,me=je&8191,pe=je>>>13,kt=m[1]|0,de=kt&8191,We=kt>>>13,tl=m[2]|0,Ke=tl&8191,Ge=tl>>>13,nl=m[3]|0,Qe=nl&8191,Ye=nl>>>13,rl=m[4]|0,Ze=rl&8191,Xe=rl>>>13,il=m[5]|0,Je=il&8191,et=il>>>13,sl=m[6]|0,tt=sl&8191,nt=sl>>>13,ol=m[7]|0,rt=ol&8191,it=ol>>>13,al=m[8]|0,st=al&8191,ot=al>>>13,ul=m[9]|0,at=ul&8191,ut=ul>>>13;p.negative=l.negative^h.negative,p.length=19,v=Math.imul(q,me),f=Math.imul(q,pe),f=f+Math.imul(G,me)|0,I=Math.imul(G,pe);var co=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(co>>>26)|0,co&=67108863,v=Math.imul(se,me),f=Math.imul(se,pe),f=f+Math.imul(le,me)|0,I=Math.imul(le,pe),v=v+Math.imul(q,de)|0,f=f+Math.imul(q,We)|0,f=f+Math.imul(G,de)|0,I=I+Math.imul(G,We)|0;var fo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(fo>>>26)|0,fo&=67108863,v=Math.imul(ve,me),f=Math.imul(ve,pe),f=f+Math.imul(we,me)|0,I=Math.imul(we,pe),v=v+Math.imul(se,de)|0,f=f+Math.imul(se,We)|0,f=f+Math.imul(le,de)|0,I=I+Math.imul(le,We)|0,v=v+Math.imul(q,Ke)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(G,Ke)|0,I=I+Math.imul(G,Ge)|0;var ho=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(ho>>>26)|0,ho&=67108863,v=Math.imul(Ee,me),f=Math.imul(Ee,pe),f=f+Math.imul(Me,me)|0,I=Math.imul(Me,pe),v=v+Math.imul(ve,de)|0,f=f+Math.imul(ve,We)|0,f=f+Math.imul(we,de)|0,I=I+Math.imul(we,We)|0,v=v+Math.imul(se,Ke)|0,f=f+Math.imul(se,Ge)|0,f=f+Math.imul(le,Ke)|0,I=I+Math.imul(le,Ge)|0,v=v+Math.imul(q,Qe)|0,f=f+Math.imul(q,Ye)|0,f=f+Math.imul(G,Qe)|0,I=I+Math.imul(G,Ye)|0;var po=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(po>>>26)|0,po&=67108863,v=Math.imul(ke,me),f=Math.imul(ke,pe),f=f+Math.imul($e,me)|0,I=Math.imul($e,pe),v=v+Math.imul(Ee,de)|0,f=f+Math.imul(Ee,We)|0,f=f+Math.imul(Me,de)|0,I=I+Math.imul(Me,We)|0,v=v+Math.imul(ve,Ke)|0,f=f+Math.imul(ve,Ge)|0,f=f+Math.imul(we,Ke)|0,I=I+Math.imul(we,Ge)|0,v=v+Math.imul(se,Qe)|0,f=f+Math.imul(se,Ye)|0,f=f+Math.imul(le,Qe)|0,I=I+Math.imul(le,Ye)|0,v=v+Math.imul(q,Ze)|0,f=f+Math.imul(q,Xe)|0,f=f+Math.imul(G,Ze)|0,I=I+Math.imul(G,Xe)|0;var go=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(go>>>26)|0,go&=67108863,v=Math.imul(De,me),f=Math.imul(De,pe),f=f+Math.imul(Te,me)|0,I=Math.imul(Te,pe),v=v+Math.imul(ke,de)|0,f=f+Math.imul(ke,We)|0,f=f+Math.imul($e,de)|0,I=I+Math.imul($e,We)|0,v=v+Math.imul(Ee,Ke)|0,f=f+Math.imul(Ee,Ge)|0,f=f+Math.imul(Me,Ke)|0,I=I+Math.imul(Me,Ge)|0,v=v+Math.imul(ve,Qe)|0,f=f+Math.imul(ve,Ye)|0,f=f+Math.imul(we,Qe)|0,I=I+Math.imul(we,Ye)|0,v=v+Math.imul(se,Ze)|0,f=f+Math.imul(se,Xe)|0,f=f+Math.imul(le,Ze)|0,I=I+Math.imul(le,Xe)|0,v=v+Math.imul(q,Je)|0,f=f+Math.imul(q,et)|0,f=f+Math.imul(G,Je)|0,I=I+Math.imul(G,et)|0;var mo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(mo>>>26)|0,mo&=67108863,v=Math.imul(Re,me),f=Math.imul(Re,pe),f=f+Math.imul(Ne,me)|0,I=Math.imul(Ne,pe),v=v+Math.imul(De,de)|0,f=f+Math.imul(De,We)|0,f=f+Math.imul(Te,de)|0,I=I+Math.imul(Te,We)|0,v=v+Math.imul(ke,Ke)|0,f=f+Math.imul(ke,Ge)|0,f=f+Math.imul($e,Ke)|0,I=I+Math.imul($e,Ge)|0,v=v+Math.imul(Ee,Qe)|0,f=f+Math.imul(Ee,Ye)|0,f=f+Math.imul(Me,Qe)|0,I=I+Math.imul(Me,Ye)|0,v=v+Math.imul(ve,Ze)|0,f=f+Math.imul(ve,Xe)|0,f=f+Math.imul(we,Ze)|0,I=I+Math.imul(we,Xe)|0,v=v+Math.imul(se,Je)|0,f=f+Math.imul(se,et)|0,f=f+Math.imul(le,Je)|0,I=I+Math.imul(le,et)|0,v=v+Math.imul(q,tt)|0,f=f+Math.imul(q,nt)|0,f=f+Math.imul(G,tt)|0,I=I+Math.imul(G,nt)|0;var yo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(yo>>>26)|0,yo&=67108863,v=Math.imul(Pe,me),f=Math.imul(Pe,pe),f=f+Math.imul(O,me)|0,I=Math.imul(O,pe),v=v+Math.imul(Re,de)|0,f=f+Math.imul(Re,We)|0,f=f+Math.imul(Ne,de)|0,I=I+Math.imul(Ne,We)|0,v=v+Math.imul(De,Ke)|0,f=f+Math.imul(De,Ge)|0,f=f+Math.imul(Te,Ke)|0,I=I+Math.imul(Te,Ge)|0,v=v+Math.imul(ke,Qe)|0,f=f+Math.imul(ke,Ye)|0,f=f+Math.imul($e,Qe)|0,I=I+Math.imul($e,Ye)|0,v=v+Math.imul(Ee,Ze)|0,f=f+Math.imul(Ee,Xe)|0,f=f+Math.imul(Me,Ze)|0,I=I+Math.imul(Me,Xe)|0,v=v+Math.imul(ve,Je)|0,f=f+Math.imul(ve,et)|0,f=f+Math.imul(we,Je)|0,I=I+Math.imul(we,et)|0,v=v+Math.imul(se,tt)|0,f=f+Math.imul(se,nt)|0,f=f+Math.imul(le,tt)|0,I=I+Math.imul(le,nt)|0,v=v+Math.imul(q,rt)|0,f=f+Math.imul(q,it)|0,f=f+Math.imul(G,rt)|0,I=I+Math.imul(G,it)|0;var vo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(vo>>>26)|0,vo&=67108863,v=Math.imul(_,me),f=Math.imul(_,pe),f=f+Math.imul(D,me)|0,I=Math.imul(D,pe),v=v+Math.imul(Pe,de)|0,f=f+Math.imul(Pe,We)|0,f=f+Math.imul(O,de)|0,I=I+Math.imul(O,We)|0,v=v+Math.imul(Re,Ke)|0,f=f+Math.imul(Re,Ge)|0,f=f+Math.imul(Ne,Ke)|0,I=I+Math.imul(Ne,Ge)|0,v=v+Math.imul(De,Qe)|0,f=f+Math.imul(De,Ye)|0,f=f+Math.imul(Te,Qe)|0,I=I+Math.imul(Te,Ye)|0,v=v+Math.imul(ke,Ze)|0,f=f+Math.imul(ke,Xe)|0,f=f+Math.imul($e,Ze)|0,I=I+Math.imul($e,Xe)|0,v=v+Math.imul(Ee,Je)|0,f=f+Math.imul(Ee,et)|0,f=f+Math.imul(Me,Je)|0,I=I+Math.imul(Me,et)|0,v=v+Math.imul(ve,tt)|0,f=f+Math.imul(ve,nt)|0,f=f+Math.imul(we,tt)|0,I=I+Math.imul(we,nt)|0,v=v+Math.imul(se,rt)|0,f=f+Math.imul(se,it)|0,f=f+Math.imul(le,rt)|0,I=I+Math.imul(le,it)|0,v=v+Math.imul(q,st)|0,f=f+Math.imul(q,ot)|0,f=f+Math.imul(G,st)|0,I=I+Math.imul(G,ot)|0;var wo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(wo>>>26)|0,wo&=67108863,v=Math.imul(j,me),f=Math.imul(j,pe),f=f+Math.imul(V,me)|0,I=Math.imul(V,pe),v=v+Math.imul(_,de)|0,f=f+Math.imul(_,We)|0,f=f+Math.imul(D,de)|0,I=I+Math.imul(D,We)|0,v=v+Math.imul(Pe,Ke)|0,f=f+Math.imul(Pe,Ge)|0,f=f+Math.imul(O,Ke)|0,I=I+Math.imul(O,Ge)|0,v=v+Math.imul(Re,Qe)|0,f=f+Math.imul(Re,Ye)|0,f=f+Math.imul(Ne,Qe)|0,I=I+Math.imul(Ne,Ye)|0,v=v+Math.imul(De,Ze)|0,f=f+Math.imul(De,Xe)|0,f=f+Math.imul(Te,Ze)|0,I=I+Math.imul(Te,Xe)|0,v=v+Math.imul(ke,Je)|0,f=f+Math.imul(ke,et)|0,f=f+Math.imul($e,Je)|0,I=I+Math.imul($e,et)|0,v=v+Math.imul(Ee,tt)|0,f=f+Math.imul(Ee,nt)|0,f=f+Math.imul(Me,tt)|0,I=I+Math.imul(Me,nt)|0,v=v+Math.imul(ve,rt)|0,f=f+Math.imul(ve,it)|0,f=f+Math.imul(we,rt)|0,I=I+Math.imul(we,it)|0,v=v+Math.imul(se,st)|0,f=f+Math.imul(se,ot)|0,f=f+Math.imul(le,st)|0,I=I+Math.imul(le,ot)|0,v=v+Math.imul(q,at)|0,f=f+Math.imul(q,ut)|0,f=f+Math.imul(G,at)|0,I=I+Math.imul(G,ut)|0;var So=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(So>>>26)|0,So&=67108863,v=Math.imul(j,de),f=Math.imul(j,We),f=f+Math.imul(V,de)|0,I=Math.imul(V,We),v=v+Math.imul(_,Ke)|0,f=f+Math.imul(_,Ge)|0,f=f+Math.imul(D,Ke)|0,I=I+Math.imul(D,Ge)|0,v=v+Math.imul(Pe,Qe)|0,f=f+Math.imul(Pe,Ye)|0,f=f+Math.imul(O,Qe)|0,I=I+Math.imul(O,Ye)|0,v=v+Math.imul(Re,Ze)|0,f=f+Math.imul(Re,Xe)|0,f=f+Math.imul(Ne,Ze)|0,I=I+Math.imul(Ne,Xe)|0,v=v+Math.imul(De,Je)|0,f=f+Math.imul(De,et)|0,f=f+Math.imul(Te,Je)|0,I=I+Math.imul(Te,et)|0,v=v+Math.imul(ke,tt)|0,f=f+Math.imul(ke,nt)|0,f=f+Math.imul($e,tt)|0,I=I+Math.imul($e,nt)|0,v=v+Math.imul(Ee,rt)|0,f=f+Math.imul(Ee,it)|0,f=f+Math.imul(Me,rt)|0,I=I+Math.imul(Me,it)|0,v=v+Math.imul(ve,st)|0,f=f+Math.imul(ve,ot)|0,f=f+Math.imul(we,st)|0,I=I+Math.imul(we,ot)|0,v=v+Math.imul(se,at)|0,f=f+Math.imul(se,ut)|0,f=f+Math.imul(le,at)|0,I=I+Math.imul(le,ut)|0;var Eo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,v=Math.imul(j,Ke),f=Math.imul(j,Ge),f=f+Math.imul(V,Ke)|0,I=Math.imul(V,Ge),v=v+Math.imul(_,Qe)|0,f=f+Math.imul(_,Ye)|0,f=f+Math.imul(D,Qe)|0,I=I+Math.imul(D,Ye)|0,v=v+Math.imul(Pe,Ze)|0,f=f+Math.imul(Pe,Xe)|0,f=f+Math.imul(O,Ze)|0,I=I+Math.imul(O,Xe)|0,v=v+Math.imul(Re,Je)|0,f=f+Math.imul(Re,et)|0,f=f+Math.imul(Ne,Je)|0,I=I+Math.imul(Ne,et)|0,v=v+Math.imul(De,tt)|0,f=f+Math.imul(De,nt)|0,f=f+Math.imul(Te,tt)|0,I=I+Math.imul(Te,nt)|0,v=v+Math.imul(ke,rt)|0,f=f+Math.imul(ke,it)|0,f=f+Math.imul($e,rt)|0,I=I+Math.imul($e,it)|0,v=v+Math.imul(Ee,st)|0,f=f+Math.imul(Ee,ot)|0,f=f+Math.imul(Me,st)|0,I=I+Math.imul(Me,ot)|0,v=v+Math.imul(ve,at)|0,f=f+Math.imul(ve,ut)|0,f=f+Math.imul(we,at)|0,I=I+Math.imul(we,ut)|0;var bo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(bo>>>26)|0,bo&=67108863,v=Math.imul(j,Qe),f=Math.imul(j,Ye),f=f+Math.imul(V,Qe)|0,I=Math.imul(V,Ye),v=v+Math.imul(_,Ze)|0,f=f+Math.imul(_,Xe)|0,f=f+Math.imul(D,Ze)|0,I=I+Math.imul(D,Xe)|0,v=v+Math.imul(Pe,Je)|0,f=f+Math.imul(Pe,et)|0,f=f+Math.imul(O,Je)|0,I=I+Math.imul(O,et)|0,v=v+Math.imul(Re,tt)|0,f=f+Math.imul(Re,nt)|0,f=f+Math.imul(Ne,tt)|0,I=I+Math.imul(Ne,nt)|0,v=v+Math.imul(De,rt)|0,f=f+Math.imul(De,it)|0,f=f+Math.imul(Te,rt)|0,I=I+Math.imul(Te,it)|0,v=v+Math.imul(ke,st)|0,f=f+Math.imul(ke,ot)|0,f=f+Math.imul($e,st)|0,I=I+Math.imul($e,ot)|0,v=v+Math.imul(Ee,at)|0,f=f+Math.imul(Ee,ut)|0,f=f+Math.imul(Me,at)|0,I=I+Math.imul(Me,ut)|0;var _o=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(_o>>>26)|0,_o&=67108863,v=Math.imul(j,Ze),f=Math.imul(j,Xe),f=f+Math.imul(V,Ze)|0,I=Math.imul(V,Xe),v=v+Math.imul(_,Je)|0,f=f+Math.imul(_,et)|0,f=f+Math.imul(D,Je)|0,I=I+Math.imul(D,et)|0,v=v+Math.imul(Pe,tt)|0,f=f+Math.imul(Pe,nt)|0,f=f+Math.imul(O,tt)|0,I=I+Math.imul(O,nt)|0,v=v+Math.imul(Re,rt)|0,f=f+Math.imul(Re,it)|0,f=f+Math.imul(Ne,rt)|0,I=I+Math.imul(Ne,it)|0,v=v+Math.imul(De,st)|0,f=f+Math.imul(De,ot)|0,f=f+Math.imul(Te,st)|0,I=I+Math.imul(Te,ot)|0,v=v+Math.imul(ke,at)|0,f=f+Math.imul(ke,ut)|0,f=f+Math.imul($e,at)|0,I=I+Math.imul($e,ut)|0;var xo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(xo>>>26)|0,xo&=67108863,v=Math.imul(j,Je),f=Math.imul(j,et),f=f+Math.imul(V,Je)|0,I=Math.imul(V,et),v=v+Math.imul(_,tt)|0,f=f+Math.imul(_,nt)|0,f=f+Math.imul(D,tt)|0,I=I+Math.imul(D,nt)|0,v=v+Math.imul(Pe,rt)|0,f=f+Math.imul(Pe,it)|0,f=f+Math.imul(O,rt)|0,I=I+Math.imul(O,it)|0,v=v+Math.imul(Re,st)|0,f=f+Math.imul(Re,ot)|0,f=f+Math.imul(Ne,st)|0,I=I+Math.imul(Ne,ot)|0,v=v+Math.imul(De,at)|0,f=f+Math.imul(De,ut)|0,f=f+Math.imul(Te,at)|0,I=I+Math.imul(Te,ut)|0;var Io=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Io>>>26)|0,Io&=67108863,v=Math.imul(j,tt),f=Math.imul(j,nt),f=f+Math.imul(V,tt)|0,I=Math.imul(V,nt),v=v+Math.imul(_,rt)|0,f=f+Math.imul(_,it)|0,f=f+Math.imul(D,rt)|0,I=I+Math.imul(D,it)|0,v=v+Math.imul(Pe,st)|0,f=f+Math.imul(Pe,ot)|0,f=f+Math.imul(O,st)|0,I=I+Math.imul(O,ot)|0,v=v+Math.imul(Re,at)|0,f=f+Math.imul(Re,ut)|0,f=f+Math.imul(Ne,at)|0,I=I+Math.imul(Ne,ut)|0;var Co=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Co>>>26)|0,Co&=67108863,v=Math.imul(j,rt),f=Math.imul(j,it),f=f+Math.imul(V,rt)|0,I=Math.imul(V,it),v=v+Math.imul(_,st)|0,f=f+Math.imul(_,ot)|0,f=f+Math.imul(D,st)|0,I=I+Math.imul(D,ot)|0,v=v+Math.imul(Pe,at)|0,f=f+Math.imul(Pe,ut)|0,f=f+Math.imul(O,at)|0,I=I+Math.imul(O,ut)|0;var Mo=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,v=Math.imul(j,st),f=Math.imul(j,ot),f=f+Math.imul(V,st)|0,I=Math.imul(V,ot),v=v+Math.imul(_,at)|0,f=f+Math.imul(_,ut)|0,f=f+Math.imul(D,at)|0,I=I+Math.imul(D,ut)|0;var Ao=(R+v|0)+((f&8191)<<13)|0;R=(I+(f>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,v=Math.imul(j,at),f=Math.imul(j,ut),f=f+Math.imul(V,at)|0,I=Math.imul(V,ut);var ko=(R+v|0)+((f&8191)<<13)|0;return R=(I+(f>>>13)|0)+(ko>>>26)|0,ko&=67108863,b[0]=co,b[1]=fo,b[2]=ho,b[3]=po,b[4]=go,b[5]=mo,b[6]=yo,b[7]=vo,b[8]=wo,b[9]=So,b[10]=Eo,b[11]=bo,b[12]=_o,b[13]=xo,b[14]=Io,b[15]=Co,b[16]=Mo,b[17]=Ao,b[18]=ko,R!==0&&(b[19]=R,p.length++),p};Math.imul||(k=T);function M(A,l,h){h.negative=l.negative^A.negative,h.length=A.length+l.length;for(var p=0,y=0,m=0;m<h.length-1;m++){var b=y;y=0;for(var R=p&67108863,v=Math.min(m,l.length-1),f=Math.max(0,m-A.length+1);f<=v;f++){var I=m-f,K=A.words[I]|0,q=l.words[f]|0,G=K*q,ae=G&67108863;b=b+(G/67108864|0)|0,ae=ae+R|0,R=ae&67108863,b=b+(ae>>>26)|0,y+=b>>>26,b&=67108863}h.words[m]=R,p=b,b=y}return p!==0?h.words[m]=p:h.length--,h._strip()}function B(A,l,h){return M(A,l,h)}s.prototype.mulTo=function(l,h){var p,y=this.length+l.length;return this.length===10&&l.length===10?p=k(this,l,h):y<63?p=T(this,l,h):y<1024?p=M(this,l,h):p=B(this,l,h),p},s.prototype.mul=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},s.prototype.mulf=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),B(this,l,h)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var h=l<0;h&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var p=0,y=0;y<this.length;y++){var m=(this.words[y]|0)*l,b=(m&67108863)+(p&67108863);p>>=26,p+=m/67108864|0,p+=b>>>26,this.words[y]=b&67108863}return p!==0&&(this.words[y]=p,this.length++),h?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var h=N(l);if(h.length===0)return new s(1);for(var p=this,y=0;y<h.length&&h[y]===0;y++,p=p.sqr());if(++y<h.length)for(var m=p.sqr();y<h.length;y++,m=m.sqr())h[y]!==0&&(p=p.mul(m));return p},s.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=67108863>>>26-h<<26-h,m;if(h!==0){var b=0;for(m=0;m<this.length;m++){var R=this.words[m]&y,v=(this.words[m]|0)-R<<h;this.words[m]=v|b,b=R>>>26-h}b&&(this.words[m]=b,this.length++)}if(p!==0){for(m=this.length-1;m>=0;m--)this.words[m+p]=this.words[m];for(m=0;m<p;m++)this.words[m]=0;this.length+=p}return this._strip()},s.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,h,p){r(typeof l=="number"&&l>=0);var y;h?y=(h-h%26)/26:y=0;var m=l%26,b=Math.min((l-m)/26,this.length),R=67108863^67108863>>>m<<m,v=p;if(y-=b,y=Math.max(0,y),v){for(var f=0;f<b;f++)v.words[f]=this.words[f];v.length=b}if(b!==0)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var I=0;for(f=this.length-1;f>=0&&(I!==0||f>=y);f--){var K=this.words[f]|0;this.words[f]=I<<26-m|K>>>m,I=K&R}return v&&I!==0&&(v.words[v.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,h,p){return r(this.negative===0),this.iushrn(l,h,p)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return!1;var m=this.words[p];return!!(m&y)},s.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,h,p){var y=l.length+p,m;this._expand(y);var b,R=0;for(m=0;m<l.length;m++){b=(this.words[m+p]|0)+R;var v=(l.words[m]|0)*h;b-=v&67108863,R=(b>>26)-(v/67108864|0),this.words[m+p]=b&67108863}for(;m<this.length-p;m++)b=(this.words[m+p]|0)+R,R=b>>26,this.words[m+p]=b&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,m=0;m<this.length;m++)b=-(this.words[m]|0)+R,R=b>>26,this.words[m]=b&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,h){var p=this.length-l.length,y=this.clone(),m=l,b=m.words[m.length-1]|0,R=this._countBits(b);p=26-R,p!==0&&(m=m.ushln(p),y.iushln(p),b=m.words[m.length-1]|0);var v=y.length-m.length,f;if(h!=="mod"){f=new s(null),f.length=v+1,f.words=new Array(f.length);for(var I=0;I<f.length;I++)f.words[I]=0}var K=y.clone()._ishlnsubmul(m,1,v);K.negative===0&&(y=K,f&&(f.words[v]=1));for(var q=v-1;q>=0;q--){var G=(y.words[m.length+q]|0)*67108864+(y.words[m.length+q-1]|0);for(G=Math.min(G/b|0,67108863),y._ishlnsubmul(m,G,q);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(m,1,q),y.isZero()||(y.negative^=1);f&&(f.words[q]=G)}return f&&f._strip(),y._strip(),h!=="div"&&p!==0&&y.iushrn(p),{div:f||null,mod:y}},s.prototype.divmod=function(l,h,p){if(r(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,m,b;return this.negative!==0&&l.negative===0?(b=this.neg().divmod(l,h),h!=="mod"&&(y=b.div.neg()),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.iadd(l)),{div:y,mod:m}):this.negative===0&&l.negative!==0?(b=this.divmod(l.neg(),h),h!=="mod"&&(y=b.div.neg()),{div:y,mod:b.mod}):this.negative&l.negative?(b=this.neg().divmod(l.neg(),h),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.isub(l)),{div:b.div,mod:m}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?h==="div"?{div:this.divn(l.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,h)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(l):h.mod,y=l.ushrn(1),m=l.andln(1),b=p.cmp(y);return b<0||m===1&&b===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=(1<<26)%l,y=0,m=this.length-1;m>=0;m--)y=(p*y+(this.words[m]|0))%l;return h?-y:y},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=0,y=this.length-1;y>=0;y--){var m=(this.words[y]|0)+p*67108864;this.words[y]=m/l|0,p=m%l}return this._strip(),h?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=new s(0),R=new s(1),v=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++v;for(var f=p.clone(),I=h.clone();!h.isZero();){for(var K=0,q=1;!(h.words[0]&q)&&K<26;++K,q<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(y.isOdd()||m.isOdd())&&(y.iadd(f),m.isub(I)),y.iushrn(1),m.iushrn(1);for(var G=0,ae=1;!(p.words[0]&ae)&&G<26;++G,ae<<=1);if(G>0)for(p.iushrn(G);G-- >0;)(b.isOdd()||R.isOdd())&&(b.iadd(f),R.isub(I)),b.iushrn(1),R.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(b),m.isub(R)):(p.isub(h),b.isub(y),R.isub(m))}return{a:b,b:R,gcd:p.iushln(v)}},s.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var R=0,v=1;!(h.words[0]&v)&&R<26;++R,v<<=1);if(R>0)for(h.iushrn(R);R-- >0;)y.isOdd()&&y.iadd(b),y.iushrn(1);for(var f=0,I=1;!(p.words[0]&I)&&f<26;++f,I<<=1);if(f>0)for(p.iushrn(f);f-- >0;)m.isOdd()&&m.iadd(b),m.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(m)):(p.isub(h),m.isub(y))}var K;return h.cmpn(1)===0?K=y:K=m,K.cmpn(0)<0&&K.iadd(l),K},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),p=l.clone();h.negative=0,p.negative=0;for(var y=0;h.isEven()&&p.isEven();y++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var m=h.cmp(p);if(m<0){var b=h;h=p,p=b}else if(m===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(y)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){r(typeof l=="number");var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var m=y,b=p;m!==0&&b<this.length;b++){var R=this.words[b]|0;R+=m,m=R>>>26,R&=67108863,this.words[b]=R}return m!==0&&(this.words[b]=m,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var h=l<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var p;if(this.length>1)p=1;else{h&&(l=-l),r(l<=67108863,"Number is too big");var y=this.words[0]|0;p=y===l?0:y<l?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var h=this.ucmp(l);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,m=l.words[p]|0;if(y!==m){y<m?h=-1:y>m&&(h=1);break}}return h},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new Y(l)},s.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function P(A,l){this.name=A,this.p=new s(l,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},P.prototype.ireduce=function(l){var h=l,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var y=p<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(l,h){l.iushrn(this.n,0,h)},P.prototype.imulK=function(l){return l.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,P),F.prototype.split=function(l,h){for(var p=4194303,y=Math.min(l.length,9),m=0;m<y;m++)h.words[m]=l.words[m];if(h.length=y,l.length<=9){l.words[0]=0,l.length=1;return}var b=l.words[9];for(h.words[h.length++]=b&p,m=10;m<l.length;m++){var R=l.words[m]|0;l.words[m-10]=(R&p)<<4|b>>>22,b=R}b>>>=22,l.words[m-10]=b,b===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,p=0;p<l.length;p++){var y=l.words[p]|0;h+=y*977,l.words[p]=h&67108863,h=y*64+(h/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,P);function ee(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,P);function Z(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,P),Z.prototype.imulK=function(l){for(var h=0,p=0;p<l.length;p++){var y=(l.words[p]|0)*19+h,m=y&67108863;y>>>=26,l.words[p]=m,h=y}return h!==0&&(l.words[l.length++]=h),l},s._prime=function(l){if(L[l])return L[l];var h;if(l==="k256")h=new F;else if(l==="p224")h=new U;else if(l==="p192")h=new ee;else if(l==="p25519")h=new Z;else throw new Error("Unknown prime "+l);return L[l]=h,h};function Y(A){if(typeof A=="string"){var l=s._prime(A);this.m=l.p,this.prime=l}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}Y.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},Y.prototype._verify2=function(l,h){r((l.negative|h.negative)===0,"red works only with positives"),r(l.red&&l.red===h.red,"red works only with red numbers")},Y.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(d(l,l.umod(this.m)._forceRed(this)),l)},Y.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Y.prototype.add=function(l,h){this._verify2(l,h);var p=l.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Y.prototype.iadd=function(l,h){this._verify2(l,h);var p=l.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Y.prototype.sub=function(l,h){this._verify2(l,h);var p=l.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Y.prototype.isub=function(l,h){this._verify2(l,h);var p=l.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Y.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},Y.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},Y.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},Y.prototype.isqr=function(l){return this.imul(l,l.clone())},Y.prototype.sqr=function(l){return this.mul(l,l)},Y.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(l,p)}for(var y=this.m.subn(1),m=0;!y.isZero()&&y.andln(1)===0;)m++,y.iushrn(1);r(!y.isZero());var b=new s(1).toRed(this),R=b.redNeg(),v=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,v).cmp(R)!==0;)f.redIAdd(R);for(var I=this.pow(f,y),K=this.pow(l,y.addn(1).iushrn(1)),q=this.pow(l,y),G=m;q.cmp(b)!==0;){for(var ae=q,se=0;ae.cmp(b)!==0;se++)ae=ae.redSqr();r(se<G);var le=this.pow(I,new s(1).iushln(G-se-1));K=K.redMul(le),I=le.redSqr(),q=q.redMul(I),G=se}return K},Y.prototype.invm=function(l){var h=l._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Y.prototype.pow=function(l,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return l.clone();var p=4,y=new Array(1<<p);y[0]=new s(1).toRed(this),y[1]=l;for(var m=2;m<y.length;m++)y[m]=this.mul(y[m-1],l);var b=y[0],R=0,v=0,f=h.bitLength()%26;for(f===0&&(f=26),m=h.length-1;m>=0;m--){for(var I=h.words[m],K=f-1;K>=0;K--){var q=I>>K&1;if(b!==y[0]&&(b=this.sqr(b)),q===0&&R===0){v=0;continue}R<<=1,R|=q,v++,!(v!==p&&(m!==0||K!==0))&&(b=this.mul(b,y[R]),v=0,R=0)}f=26}return b},Y.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},Y.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},s.mont=function(l){return new ce(l)};function ce(A){Y.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,Y),ce.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},ce.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},ce.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var p=l.imul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},ce.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new s(0)._forceRed(this);var p=l.mul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},ce.prototype.invm=function(l){var h=this.imod(l._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Yr)})(z1);var C$=z1.exports;function qi(t,e,n){return e<=t&&t<=n}function gg(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function M$(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,u=o&1023;i.push(65536+(a<<10)+u),r+=1}else i.push(65533)}r+=1}return i}function A$(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var jd=-1;function j1(t){this.tokens=[].slice.call(t)}j1.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():jd},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Pu=-1;function M0(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Vd="utf-8";function Hd(t,e){if(!(this instanceof Hd))return new Hd(t,e);if(t=t!==void 0?String(t).toLowerCase():Vd,t!==Vd)throw new Error("Encoding not supported. Only utf-8 is supported");e=gg(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Hd.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=gg(n),this._streaming||(this._decoder=new k$({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new j1(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Pu);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Pu)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),A$(s)}};function qd(t,e){if(!(this instanceof qd))return new qd(t,e);if(t=t!==void 0?String(t).toLowerCase():Vd,t!==Vd)throw new Error("Encoding not supported. Only utf-8 is supported");e=gg(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}qd.prototype={encode:function(e,n){e=e?String(e):"",n=gg(n),this._streaming||(this._encoder=new T$(this._options)),this._streaming=!!n.stream;for(var r=[],i=new j1(M$(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Pu);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Pu;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function k$(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,u){if(u===jd&&i!==0)return i=0,M0(e);if(u===jd)return Pu;if(i===0){if(qi(u,0,127))return u;if(qi(u,194,223))i=1,n=u-192;else if(qi(u,224,239))u===224&&(s=160),u===237&&(o=159),i=2,n=u-224;else if(qi(u,240,244))u===240&&(s=144),u===244&&(o=143),i=3,n=u-240;else return M0(e);return n=n<<6*i,null}if(!qi(u,s,o))return n=i=r=0,s=128,o=191,a.prepend(u),M0(e);if(s=128,o=191,r+=1,n+=u-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function T$(t){t.fatal,this.handler=function(e,n){if(n===jd)return Pu;if(qi(n,0,127))return n;var r,i;qi(n,128,2047)?(r=1,i=192):qi(n,2048,65535)?(r=2,i=224):qi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const R$=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Hd,TextEncoder:qd},Symbol.toStringTag,{value:"Module"})),N$=Iv(R$);var O$=Yr&&Yr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),L$=Yr&&Yr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fi=Yr&&Yr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},D$=Yr&&Yr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&O$(e,t,n);return L$(e,t),e},ck=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kn,"__esModule",{value:!0});var fk=kn.deserializeUnchecked=yk=kn.deserialize=mk=kn.serialize=kn.BinaryReader=kn.BinaryWriter=kn.BorshError=kn.baseDecode=kn.baseEncode=void 0;const As=ck(C$),hk=ck(uk),P$=D$(N$),B$=typeof TextDecoder!="function"?P$.TextDecoder:TextDecoder,F$=new B$("utf-8",{fatal:!0});function $$(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),hk.default.encode(Buffer.from(t))}kn.baseEncode=$$;function U$(t){return Buffer.from(hk.default.decode(t))}kn.baseDecode=U$;const A0=1024;class rr extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}kn.BorshError=rr;class dk{constructor(){this.buf=Buffer.alloc(A0),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(A0)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new As.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new As.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new As.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new As.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(A0)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}kn.BinaryWriter=dk;function $i(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new rr("Reached the end of buffer when deserializing")}throw s}}}class Pr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new As.default(e,"le")}readU128(){const e=this.readBuffer(16);return new As.default(e,"le")}readU256(){const e=this.readBuffer(32);return new As.default(e,"le")}readU512(){const e=this.readBuffer(64);return new As.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new rr(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return F$.decode(n)}catch(r){throw new rr(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Fi([$i],Pr.prototype,"readU8",null);Fi([$i],Pr.prototype,"readU16",null);Fi([$i],Pr.prototype,"readU32",null);Fi([$i],Pr.prototype,"readU64",null);Fi([$i],Pr.prototype,"readU128",null);Fi([$i],Pr.prototype,"readU256",null);Fi([$i],Pr.prototype,"readU512",null);Fi([$i],Pr.prototype,"readString",null);Fi([$i],Pr.prototype,"readFixedArray",null);Fi([$i],Pr.prototype,"readArray",null);kn.BinaryReader=Pr;function pk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Lo(t,e,n,r,i){try{if(typeof r=="string")i[`write${pk(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new rr(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new rr(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Lo(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Lo(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Lo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Lo(t,e,o,r.key,i),Lo(t,e,s,r.value,i)});break}default:throw new rr(`FieldType ${r} unrecognized`)}else gk(t,n,i)}catch(s){throw s instanceof rr&&s.addToFieldPath(e),s}}function gk(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new rr(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Lo(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Lo(t,o,e[o],a,n);break}}}else throw new rr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function z$(t,e,n=dk){const r=new n;return gk(t,e,r),r.toArray()}var mk=kn.serialize=z$;function Do(t,e,n,r){try{if(typeof n=="string")return r[`read${pk(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Do(t,null,n[0],r));return i}else return r.readArray(()=>Do(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Do(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Do(t,e,n.key,r),u=Do(t,e,n.value,r);i.set(a,u)}return i}return V1(t,n,r)}catch(i){throw i instanceof rr&&i.addToFieldPath(e),i}}function V1(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new rr(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Do(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new rr(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Do(t,s,o,n);return new e({[s]:a})}throw new rr(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function j$(t,e,n,r=Pr){const i=new r(n),s=V1(t,e,i);if(i.offset<n.length)throw new rr(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var yk=kn.deserialize=j$;function V$(t,e,n,r=Pr){const i=new r(n);return V1(t,e,i)}fk=kn.deserializeUnchecked=V$;var W={};Object.defineProperty(W,"__esModule",{value:!0});W.s16=W.s8=W.nu64be=W.u48be=W.u40be=W.u32be=W.u24be=W.u16be=xn=W.nu64=W.u48=W.u40=Ce=W.u32=W.u24=zr=W.u16=bt=W.u8=Qo=W.offset=W.greedy=W.Constant=W.UTF8=W.CString=W.Blob=W.Boolean=W.BitField=W.BitStructure=W.VariantLayout=W.Union=W.UnionLayoutDiscriminator=W.UnionDiscriminator=W.Structure=W.Sequence=W.DoubleBE=W.Double=W.FloatBE=W.Float=W.NearInt64BE=W.NearInt64=W.NearUInt64BE=W.NearUInt64=W.IntBE=W.Int=W.UIntBE=W.UInt=W.OffsetLayout=W.GreedyCount=W.ExternalLayout=W.bindConstructorLayout=W.nameWithProperty=W.Layout=W.uint8ArrayToBuffer=W.checkUint8Array=void 0;W.constant=W.utf8=W.cstr=Lt=W.blob=W.unionLayoutDiscriminator=W.union=Qn=W.seq=W.bits=Se=W.struct=W.f64be=W.f64=W.f32be=W.f32=W.ns64be=W.s48be=W.s40be=W.s32be=W.s24be=W.s16be=_r=W.ns64=W.s48=W.s40=W.s32=W.s24=void 0;const H1=Ve;function Zu(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}W.checkUint8Array=Zu;function vt(t){return Zu(t),H1.Buffer.from(t.buffer,t.byteOffset,t.length)}W.uint8ArrayToBuffer=vt;class Mt{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}W.Layout=Mt;function q1(t,e){return e.property?t+"["+e.property+"]":t}W.nameWithProperty=q1;function H$(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Mt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}W.bindConstructorLayout=H$;class fr extends Mt{isCount(){throw new Error("ExternalLayout is abstract")}}W.ExternalLayout=fr;class vk extends fr{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Zu(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}W.GreedyCount=vk;class W1 extends fr{constructor(e,n=0,r){if(!(e instanceof Mt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Qr||this.layout instanceof ci}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}W.OffsetLayout=W1;class Qr extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return vt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return vt(n).writeUIntLE(e,r,this.span),this.span}}W.UInt=Qr;class ci extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return vt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return vt(n).writeUIntBE(e,r,this.span),this.span}}W.UIntBE=ci;class ga extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return vt(e).readIntLE(n,this.span)}encode(e,n,r=0){return vt(n).writeIntLE(e,r,this.span),this.span}}W.Int=ga;class Xu extends Mt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return vt(e).readIntBE(n,this.span)}encode(e,n,r=0){return vt(n).writeIntBE(e,r,this.span),this.span}}W.IntBE=Xu;const ev=Math.pow(2,32);function mg(t){const e=Math.floor(t/ev),n=t-e*ev;return{hi32:e,lo32:n}}function yg(t,e){return t*ev+e}class wk extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=vt(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return yg(s,i)}encode(e,n,r=0){const i=mg(e),s=vt(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}W.NearUInt64=wk;class Sk extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=vt(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return yg(i,s)}encode(e,n,r=0){const i=mg(e),s=vt(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}W.NearUInt64BE=Sk;class Ek extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=vt(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return yg(s,i)}encode(e,n,r=0){const i=mg(e),s=vt(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}W.NearInt64=Ek;class bk extends Mt{constructor(e){super(8,e)}decode(e,n=0){const r=vt(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return yg(i,s)}encode(e,n,r=0){const i=mg(e),s=vt(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}W.NearInt64BE=bk;class _k extends Mt{constructor(e){super(4,e)}decode(e,n=0){return vt(e).readFloatLE(n)}encode(e,n,r=0){return vt(n).writeFloatLE(e,r),4}}W.Float=_k;class xk extends Mt{constructor(e){super(4,e)}decode(e,n=0){return vt(e).readFloatBE(n)}encode(e,n,r=0){return vt(n).writeFloatBE(e,r),4}}W.FloatBE=xk;class Ik extends Mt{constructor(e){super(8,e)}decode(e,n=0){return vt(e).readDoubleLE(n)}encode(e,n,r=0){return vt(n).writeDoubleLE(e,r),8}}W.Double=Ik;class Ck extends Mt{constructor(e){super(8,e)}decode(e,n=0){return vt(e).readDoubleBE(n)}encode(e,n,r=0){return vt(n).writeDoubleBE(e,r),8}}W.DoubleBE=Ck;class Mk extends Mt{constructor(e,n,r){if(!(e instanceof Mt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof fr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof fr)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof fr&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof fr&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof fr&&this.count.encode(e.length,n,r),s}}W.Sequence=Mk;class Ak extends Mt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Mt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Zu(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>u&&(u=a.getSpan(n,r)))}s=r,r+=u}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}W.Structure=Ak;class K1{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}W.UnionDiscriminator=K1;class Wd extends K1{constructor(e,n){if(!(e instanceof fr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}W.UnionLayoutDiscriminator=Wd;class G1 extends Mt{constructor(e,n,r){let i;if(e instanceof Qr||e instanceof ci)i=new Wd(new W1(e));else if(e instanceof fr&&e.isCount())i=new Wd(e);else if(e instanceof K1)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Mt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Qr||e instanceof ci)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Qr||e instanceof ci,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+u)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new kk(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}W.Union=G1;class kk extends Mt{constructor(e,n,r,i){if(!(e instanceof G1))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Mt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}W.VariantLayout=kk;function Aa(t){return 0>t&&(t+=4294967296),t}class Q1 extends Mt{constructor(e,n,r){if(!(e instanceof Qr||e instanceof ci))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Aa(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Y1(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Tk(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}W.BitStructure=Q1;class Y1{constructor(e,n,r){if(!(e instanceof Q1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Aa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Aa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Aa(e&this.valueMask))throw new TypeError(q1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Aa(e<<this.start);this.container._packedSetValue(Aa(n&~this.wordMask)|r)}}W.BitField=Y1;let Tk=class extends Y1{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};W.Boolean=Tk;class Rk extends Mt{constructor(e,n){if(!(e instanceof fr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof fr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),vt(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof fr&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(q1("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=vt(e);return vt(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof fr&&this.length.encode(i,n,r),i}}W.Blob=Rk;class Nk extends Mt{constructor(e){super(-1,e)}getSpan(e,n=0){Zu(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return vt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=H1.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=vt(n);return i.copy(o,r),o[r+s]=0,s+1}}W.CString=Nk;class Ok extends Mt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Zu(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return vt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=H1.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(vt(n),r),s}}W.UTF8=Ok;class Lk extends Mt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}W.Constant=Lk;W.greedy=(t,e)=>new vk(t,e);var Qo=W.offset=(t,e,n)=>new W1(t,e,n),bt=W.u8=t=>new Qr(1,t),zr=W.u16=t=>new Qr(2,t);W.u24=t=>new Qr(3,t);var Ce=W.u32=t=>new Qr(4,t);W.u40=t=>new Qr(5,t);W.u48=t=>new Qr(6,t);var xn=W.nu64=t=>new wk(t);W.u16be=t=>new ci(2,t);W.u24be=t=>new ci(3,t);W.u32be=t=>new ci(4,t);W.u40be=t=>new ci(5,t);W.u48be=t=>new ci(6,t);W.nu64be=t=>new Sk(t);W.s8=t=>new ga(1,t);W.s16=t=>new ga(2,t);W.s24=t=>new ga(3,t);W.s32=t=>new ga(4,t);W.s40=t=>new ga(5,t);W.s48=t=>new ga(6,t);var _r=W.ns64=t=>new Ek(t);W.s16be=t=>new Xu(2,t);W.s24be=t=>new Xu(3,t);W.s32be=t=>new Xu(4,t);W.s40be=t=>new Xu(5,t);W.s48be=t=>new Xu(6,t);W.ns64be=t=>new bk(t);W.f32=t=>new _k(t);W.f32be=t=>new xk(t);W.f64=t=>new Ik(t);W.f64be=t=>new Ck(t);var Se=W.struct=(t,e,n)=>new Ak(t,e,n);W.bits=(t,e,n)=>new Q1(t,e,n);var Qn=W.seq=(t,e,n)=>new Mk(t,e,n);W.union=(t,e,n)=>new G1(t,e,n);W.unionLayoutDiscriminator=(t,e)=>new Wd(t,e);var Lt=W.blob=(t,e)=>new Rk(t,e);W.cstr=t=>new Nk(t);W.utf8=(t,e)=>new Ok(t,e);W.constant=(t,e)=>new Lk(t,e);var wf={};Object.defineProperty(wf,"__esModule",{value:!0});function q$(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var W$=wf.toBigIntLE=q$;function K$(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}wf.toBigIntBE=K$;function G$(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var Q$=wf.toBufferLE=G$;function Y$(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}wf.toBufferBE=Y$;class Z$ extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var u;return(u=r)!=null?u:r=[e,...n()]}}}function X$(t){return qs(t)&&typeof t[Symbol.iterator]=="function"}function qs(t){return typeof t=="object"&&t!=null}function gi(t){return typeof t=="string"?JSON.stringify(t):""+t}function J$(t){const{done:e,value:n}=t.next();return e?void 0:n}function e8(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+gi(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*h_(t,e,n,r){X$(t)||(t=[t]);for(const i of t){const s=e8(i,e,n,r);s&&(yield s)}}function*Z1(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&qs(e.schema)&&qs(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let u=!0;for(const c of e.validator(t,a))u=!1,yield[c,void 0];for(let[c,d,g]of e.entries(t,a)){const S=Z1(d,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:s,mask:o});for(const w of S)w[0]?(u=!1,yield[w[0],void 0]):s&&(d=w[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):qs(t)&&(t[c]=d))}if(u)for(const c of e.refiner(t,a))u=!1,yield[c,void 0];u&&(yield[void 0,t])}let Ui=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(u,c)=>{const d=i(u,c);return h_(d,c,this,u)}:this.validator=()=>[],s?this.refiner=(u,c)=>{const d=s(u,c);return h_(d,c,this,u)}:this.refiner=()=>[]}assert(e){return t8(e,this)}create(e){return oe(e,this)}is(e){return Dk(e,this)}mask(e){return n8(e,this)}validate(e,n={}){return Sf(e,this,n)}};function t8(t,e){const n=Sf(t,e);if(n[0])throw n[0]}function oe(t,e){const n=Sf(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function n8(t,e){const n=Sf(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Dk(t,e){return!Sf(t,e)[0]}function Sf(t,e,n={}){const r=Z1(t,e,n),i=J$(r);return i[0]?[new Z$(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ma(t,e){return new Ui({type:t,schema:null,validator:e})}function r8(){return ma("any",()=>!0)}function fe(t){return new Ui({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+gi(e)}})}function us(){return ma("boolean",t=>typeof t=="boolean")}function X1(t){return ma("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+gi(e))}function Ht(t){const e=gi(t),n=typeof t;return new Ui({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+gi(r)}})}function i8(){return ma("never",()=>!1)}function he(t){return new Ui({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return ma("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+gi(t))}function Ae(t){return new Ui({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Pk(t,e){return new Ui({type:"record",schema:null,*entries(n){if(qs(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return qs(n)||"Expected an object, but received: "+gi(n)}})}function ie(){return ma("string",t=>typeof t=="string"||"Expected a string, but received: "+gi(t))}function J1(t){const e=i8();return new Ui({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+gi(n)}})}function te(t){const e=Object.keys(t);return new Ui({type:"type",schema:t,*entries(n){if(qs(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return qs(n)||"Expected an object, but received: "+gi(n)}})}function vr(t){const e=t.map(n=>n.type).join(" | ");return new Ui({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=Z1(n,s,r),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+gi(n),...i]}})}function Ef(){return ma("unknown",()=>!0)}function bf(t,e,n){return new Ui({...t,coercer:(r,i)=>Dk(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var sh,s8=new Uint8Array(16);function Bk(){if(!sh&&(sh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!sh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sh(s8)}const o8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vg(t){return typeof t=="string"&&o8.test(t)}var _n=[];for(var k0=0;k0<256;++k0)_n.push((k0+256).toString(16).substr(1));function wg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(_n[t[e+0]]+_n[t[e+1]]+_n[t[e+2]]+_n[t[e+3]]+"-"+_n[t[e+4]]+_n[t[e+5]]+"-"+_n[t[e+6]]+_n[t[e+7]]+"-"+_n[t[e+8]]+_n[t[e+9]]+"-"+_n[t[e+10]]+_n[t[e+11]]+_n[t[e+12]]+_n[t[e+13]]+_n[t[e+14]]+_n[t[e+15]]).toLowerCase();if(!vg(n))throw TypeError("Stringified UUID is invalid");return n}var d_,T0,R0=0,N0=0;function a8(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||d_,o=t.clockseq!==void 0?t.clockseq:T0;if(s==null||o==null){var a=t.random||(t.rng||Bk)();s==null&&(s=d_=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=T0=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:N0+1,d=u-R0+(c-N0)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||u>R0)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");R0=u,N0=c,T0=o,u+=122192928e5;var g=((u&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var S=u/4294967296*1e4&268435455;i[r++]=S>>>8&255,i[r++]=S&255,i[r++]=S>>>24&15|16,i[r++]=S>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var w=0;w<6;++w)i[r+w]=s[w];return e||wg(i)}function Fk(t){if(!vg(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function u8(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var l8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",c8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function $k(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=u8(i)),typeof s=="string"&&(s=Fk(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=n(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=u[c];return o}return wg(u)}try{r.name=t}catch{}return r.DNS=l8,r.URL=c8,r}function f8(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return h8(d8(p8(t),t.length*8))}function h8(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Uk(t){return(t+64>>>9<<4)+14+1}function d8(t,e){t[e>>5]|=128<<e%32,t[Uk(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,u=r,c=i,d=s;n=$n(n,r,i,s,t[o],7,-680876936),s=$n(s,n,r,i,t[o+1],12,-389564586),i=$n(i,s,n,r,t[o+2],17,606105819),r=$n(r,i,s,n,t[o+3],22,-1044525330),n=$n(n,r,i,s,t[o+4],7,-176418897),s=$n(s,n,r,i,t[o+5],12,1200080426),i=$n(i,s,n,r,t[o+6],17,-1473231341),r=$n(r,i,s,n,t[o+7],22,-45705983),n=$n(n,r,i,s,t[o+8],7,1770035416),s=$n(s,n,r,i,t[o+9],12,-1958414417),i=$n(i,s,n,r,t[o+10],17,-42063),r=$n(r,i,s,n,t[o+11],22,-1990404162),n=$n(n,r,i,s,t[o+12],7,1804603682),s=$n(s,n,r,i,t[o+13],12,-40341101),i=$n(i,s,n,r,t[o+14],17,-1502002290),r=$n(r,i,s,n,t[o+15],22,1236535329),n=Un(n,r,i,s,t[o+1],5,-165796510),s=Un(s,n,r,i,t[o+6],9,-1069501632),i=Un(i,s,n,r,t[o+11],14,643717713),r=Un(r,i,s,n,t[o],20,-373897302),n=Un(n,r,i,s,t[o+5],5,-701558691),s=Un(s,n,r,i,t[o+10],9,38016083),i=Un(i,s,n,r,t[o+15],14,-660478335),r=Un(r,i,s,n,t[o+4],20,-405537848),n=Un(n,r,i,s,t[o+9],5,568446438),s=Un(s,n,r,i,t[o+14],9,-1019803690),i=Un(i,s,n,r,t[o+3],14,-187363961),r=Un(r,i,s,n,t[o+8],20,1163531501),n=Un(n,r,i,s,t[o+13],5,-1444681467),s=Un(s,n,r,i,t[o+2],9,-51403784),i=Un(i,s,n,r,t[o+7],14,1735328473),r=Un(r,i,s,n,t[o+12],20,-1926607734),n=zn(n,r,i,s,t[o+5],4,-378558),s=zn(s,n,r,i,t[o+8],11,-2022574463),i=zn(i,s,n,r,t[o+11],16,1839030562),r=zn(r,i,s,n,t[o+14],23,-35309556),n=zn(n,r,i,s,t[o+1],4,-1530992060),s=zn(s,n,r,i,t[o+4],11,1272893353),i=zn(i,s,n,r,t[o+7],16,-155497632),r=zn(r,i,s,n,t[o+10],23,-1094730640),n=zn(n,r,i,s,t[o+13],4,681279174),s=zn(s,n,r,i,t[o],11,-358537222),i=zn(i,s,n,r,t[o+3],16,-722521979),r=zn(r,i,s,n,t[o+6],23,76029189),n=zn(n,r,i,s,t[o+9],4,-640364487),s=zn(s,n,r,i,t[o+12],11,-421815835),i=zn(i,s,n,r,t[o+15],16,530742520),r=zn(r,i,s,n,t[o+2],23,-995338651),n=jn(n,r,i,s,t[o],6,-198630844),s=jn(s,n,r,i,t[o+7],10,1126891415),i=jn(i,s,n,r,t[o+14],15,-1416354905),r=jn(r,i,s,n,t[o+5],21,-57434055),n=jn(n,r,i,s,t[o+12],6,1700485571),s=jn(s,n,r,i,t[o+3],10,-1894986606),i=jn(i,s,n,r,t[o+10],15,-1051523),r=jn(r,i,s,n,t[o+1],21,-2054922799),n=jn(n,r,i,s,t[o+8],6,1873313359),s=jn(s,n,r,i,t[o+15],10,-30611744),i=jn(i,s,n,r,t[o+6],15,-1560198380),r=jn(r,i,s,n,t[o+13],21,1309151649),n=jn(n,r,i,s,t[o+4],6,-145523070),s=jn(s,n,r,i,t[o+11],10,-1120210379),i=jn(i,s,n,r,t[o+2],15,718787259),r=jn(r,i,s,n,t[o+9],21,-343485551),n=ks(n,a),r=ks(r,u),i=ks(i,c),s=ks(s,d)}return[n,r,i,s]}function p8(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Uk(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ks(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function g8(t,e){return t<<e|t>>>32-e}function Sg(t,e,n,r,i,s){return ks(g8(ks(ks(e,t),ks(r,s)),i),n)}function $n(t,e,n,r,i,s,o){return Sg(e&n|~e&r,t,e,i,s,o)}function Un(t,e,n,r,i,s,o){return Sg(e&r|n&~r,t,e,i,s,o)}function zn(t,e,n,r,i,s,o){return Sg(e^n^r,t,e,i,s,o)}function jn(t,e,n,r,i,s,o){return Sg(n^(e|~r),t,e,i,s,o)}var m8=$k("v3",48,f8);const y8=m8;function v8(t,e,n){t=t||{};var r=t.random||(t.rng||Bk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return wg(r)}function w8(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function O0(t,e){return t<<e|t>>>32-e}function S8(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),u=0;u<o;++u){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[u*64+d*4]<<24|t[u*64+d*4+1]<<16|t[u*64+d*4+2]<<8|t[u*64+d*4+3];a[u]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<o;++g){for(var S=new Uint32Array(80),w=0;w<16;++w)S[w]=a[g][w];for(var C=16;C<80;++C)S[C]=O0(S[C-3]^S[C-8]^S[C-14]^S[C-16],1);for(var x=n[0],N=n[1],T=n[2],k=n[3],M=n[4],B=0;B<80;++B){var L=Math.floor(B/20),P=O0(x,5)+w8(L,N,T,k)+M+e[L]+S[B]>>>0;M=k,k=T,T=O0(N,30)>>>0,N=x,x=P}n[0]=n[0]+x>>>0,n[1]=n[1]+N>>>0,n[2]=n[2]+T>>>0,n[3]=n[3]+k>>>0,n[4]=n[4]+M>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var E8=$k("v5",80,S8);const b8=E8,_8="00000000-0000-0000-0000-000000000000";function x8(t){if(!vg(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const I8=Object.freeze(Object.defineProperty({__proto__:null,NIL:_8,parse:Fk,stringify:wg,v1:a8,v3:y8,v4:v8,v5:b8,validate:vg,version:x8},Symbol.toStringTag,{value:"Module"})),zk=Iv(I8),C8=zk.v4,M8=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return C8()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var A8=M8;const k8=zk.v4,T8=A8,Fc=function(t,e){if(!(this instanceof Fc))return new Fc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return k8()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var R8=Fc;Fc.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=T8(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(u,function(c,d){i._parseResponse(c,d,r)}),s};Fc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const N8=cs(R8);var jk={},Vk={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Vk);var Hk=Vk.exports,L0={exports:{}},D0={exports:{}},p_;function _f(){return p_||(p_=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(D0)),D0.exports}var g_;function O8(){return g_||(g_=1,function(t){var e=_f().default;function n(){t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(h,p,y){h[p]=y.value},a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function g(h,p,y){return Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}),h[p]}try{g({},"")}catch{g=function(y,m,b){return y[m]=b}}function S(h,p,y,m){var b=p&&p.prototype instanceof x?p:x,R=Object.create(b.prototype),v=new ce(m||[]);return o(R,"_invoke",{value:U(h,y,v)}),R}function w(h,p,y){try{return{type:"normal",arg:h.call(p,y)}}catch(m){return{type:"throw",arg:m}}}r.wrap=S;var C={};function x(){}function N(){}function T(){}var k={};g(k,u,function(){return this});var M=Object.getPrototypeOf,B=M&&M(M(A([])));B&&B!==i&&s.call(B,u)&&(k=B);var L=T.prototype=x.prototype=Object.create(k);function P(h){["next","throw","return"].forEach(function(p){g(h,p,function(y){return this._invoke(p,y)})})}function F(h,p){function y(b,R,v,f){var I=w(h[b],h,R);if(I.type!=="throw"){var K=I.arg,q=K.value;return q&&e(q)=="object"&&s.call(q,"__await")?p.resolve(q.__await).then(function(G){y("next",G,v,f)},function(G){y("throw",G,v,f)}):p.resolve(q).then(function(G){K.value=G,v(K)},function(G){return y("throw",G,v,f)})}f(I.arg)}var m;o(this,"_invoke",{value:function(R,v){function f(){return new p(function(I,K){y(R,v,I,K)})}return m=m?m.then(f,f):f()}})}function U(h,p,y){var m="suspendedStart";return function(b,R){if(m==="executing")throw new Error("Generator is already running");if(m==="completed"){if(b==="throw")throw R;return l()}for(y.method=b,y.arg=R;;){var v=y.delegate;if(v){var f=ee(v,y);if(f){if(f===C)continue;return f}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(m==="suspendedStart")throw m="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);m="executing";var I=w(h,p,y);if(I.type==="normal"){if(m=y.done?"completed":"suspendedYield",I.arg===C)continue;return{value:I.arg,done:y.done}}I.type==="throw"&&(m="completed",y.method="throw",y.arg=I.arg)}}}function ee(h,p){var y=p.method,m=h.iterator[y];if(m===void 0)return p.delegate=null,y==="throw"&&h.iterator.return&&(p.method="return",p.arg=void 0,ee(h,p),p.method==="throw")||y!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+y+"' method")),C;var b=w(m,h.iterator,p.arg);if(b.type==="throw")return p.method="throw",p.arg=b.arg,p.delegate=null,C;var R=b.arg;return R?R.done?(p[h.resultName]=R.value,p.next=h.nextLoc,p.method!=="return"&&(p.method="next",p.arg=void 0),p.delegate=null,C):R:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,C)}function Z(h){var p={tryLoc:h[0]};1 in h&&(p.catchLoc=h[1]),2 in h&&(p.finallyLoc=h[2],p.afterLoc=h[3]),this.tryEntries.push(p)}function Y(h){var p=h.completion||{};p.type="normal",delete p.arg,h.completion=p}function ce(h){this.tryEntries=[{tryLoc:"root"}],h.forEach(Z,this),this.reset(!0)}function A(h){if(h){var p=h[u];if(p)return p.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length)){var y=-1,m=function b(){for(;++y<h.length;)if(s.call(h,y))return b.value=h[y],b.done=!1,b;return b.value=void 0,b.done=!0,b};return m.next=m}}return{next:l}}function l(){return{value:void 0,done:!0}}return N.prototype=T,o(L,"constructor",{value:T,configurable:!0}),o(T,"constructor",{value:N,configurable:!0}),N.displayName=g(T,d,"GeneratorFunction"),r.isGeneratorFunction=function(h){var p=typeof h=="function"&&h.constructor;return!!p&&(p===N||(p.displayName||p.name)==="GeneratorFunction")},r.mark=function(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,T):(h.__proto__=T,g(h,d,"GeneratorFunction")),h.prototype=Object.create(L),h},r.awrap=function(h){return{__await:h}},P(F.prototype),g(F.prototype,c,function(){return this}),r.AsyncIterator=F,r.async=function(h,p,y,m,b){b===void 0&&(b=Promise);var R=new F(S(h,p,y,m),b);return r.isGeneratorFunction(p)?R:R.next().then(function(v){return v.done?v.value:R.next()})},P(L),g(L,d,"Generator"),g(L,u,function(){return this}),g(L,"toString",function(){return"[object Generator]"}),r.keys=function(h){var p=Object(h),y=[];for(var m in p)y.push(m);return y.reverse(),function b(){for(;y.length;){var R=y.pop();if(R in p)return b.value=R,b.done=!1,b}return b.done=!0,b}},r.values=A,ce.prototype={constructor:ce,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Y),!p)for(var y in this)y.charAt(0)==="t"&&s.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var y=this;function m(K,q){return v.type="throw",v.arg=p,y.next=K,q&&(y.method="next",y.arg=void 0),!!q}for(var b=this.tryEntries.length-1;b>=0;--b){var R=this.tryEntries[b],v=R.completion;if(R.tryLoc==="root")return m("end");if(R.tryLoc<=this.prev){var f=s.call(R,"catchLoc"),I=s.call(R,"finallyLoc");if(f&&I){if(this.prev<R.catchLoc)return m(R.catchLoc,!0);if(this.prev<R.finallyLoc)return m(R.finallyLoc)}else if(f){if(this.prev<R.catchLoc)return m(R.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return m(R.finallyLoc)}}}},abrupt:function(p,y){for(var m=this.tryEntries.length-1;m>=0;--m){var b=this.tryEntries[m];if(b.tryLoc<=this.prev&&s.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var R=b;break}}R&&(p==="break"||p==="continue")&&R.tryLoc<=y&&y<=R.finallyLoc&&(R=null);var v=R?R.completion:{};return v.type=p,v.arg=y,R?(this.method="next",this.next=R.finallyLoc,C):this.complete(v)},complete:function(p,y){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&y&&(this.next=y),C},finish:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var m=this.tryEntries[y];if(m.finallyLoc===p)return this.complete(m.completion,m.afterLoc),Y(m),C}},catch:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var m=this.tryEntries[y];if(m.tryLoc===p){var b=m.completion;if(b.type==="throw"){var R=b.arg;Y(m)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(p,y,m){return this.delegate={iterator:A(p),resultName:y,nextLoc:m},this.method==="next"&&(this.arg=void 0),C}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(L0)),L0.exports}var P0,m_;function L8(){if(m_)return P0;m_=1;var t=O8()();P0=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return P0}var B0={exports:{}},y_;function D8(){return y_||(y_=1,function(t){function e(r,i,s,o,a,u,c){try{var d=r[u](c),g=d.value}catch(S){s(S);return}d.done?i(g):Promise.resolve(g).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var u=r.apply(i,s);function c(g){e(u,o,a,c,d,"next",g)}function d(g){e(u,o,a,c,d,"throw",g)}c(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(B0)),B0.exports}var F0={exports:{}},v_;function qk(){return v_||(v_=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(F0)),F0.exports}var $0={exports:{}},U0={exports:{}},z0={exports:{}},w_;function P8(){return w_||(w_=1,function(t){var e=_f().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(z0)),z0.exports}var S_;function B8(){return S_||(S_=1,function(t){var e=_f().default,n=P8();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(U0)),U0.exports}var E_;function Wk(){return E_||(E_=1,function(t){var e=B8();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}($0)),$0.exports}var j0={exports:{}},V0={exports:{}},b_;function F8(){return b_||(b_=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(V0)),V0.exports}var __;function Kk(){return __||(__=1,function(t){var e=F8();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(j0)),j0.exports}var H0={exports:{}},q0={exports:{}},x_;function $8(){return x_||(x_=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(q0)),q0.exports}var I_;function Gk(){return I_||(I_=1,function(t){var e=_f().default,n=$8();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(H0)),H0.exports}var W0={exports:{}},C_;function Qk(){return C_||(C_=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(W0)),W0.exports}var K0={exports:{}},M_;function eS(){return M_||(M_=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,g,S){if(typeof d!="function")throw new TypeError("The listener must be a function");var w=new i(d,g||u,S),C=n?n+c:c;return u._events[C]?u._events[C].fn?u._events[C]=[u._events[C],w]:u._events[C].push(w):(u._events[C]=w,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,g;if(this._eventsCount===0)return c;for(g in d=this._events)e.call(d,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var S=0,w=g.length,C=new Array(w);S<w;S++)C[S]=g[S].fn;return C},a.prototype.listenerCount=function(c){var d=n?n+c:c,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,d,g,S,w,C){var x=n?n+c:c;if(!this._events[x])return!1;var N=this._events[x],T=arguments.length,k,M;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),T){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,d),!0;case 3:return N.fn.call(N.context,d,g),!0;case 4:return N.fn.call(N.context,d,g,S),!0;case 5:return N.fn.call(N.context,d,g,S,w),!0;case 6:return N.fn.call(N.context,d,g,S,w,C),!0}for(M=1,k=new Array(T-1);M<T;M++)k[M-1]=arguments[M];N.fn.apply(N.context,k)}else{var B=N.length,L;for(M=0;M<B;M++)switch(N[M].once&&this.removeListener(c,N[M].fn,void 0,!0),T){case 1:N[M].fn.call(N[M].context);break;case 2:N[M].fn.call(N[M].context,d);break;case 3:N[M].fn.call(N[M].context,d,g);break;case 4:N[M].fn.call(N[M].context,d,g,S);break;default:if(!k)for(L=1,k=new Array(T-1);L<T;L++)k[L-1]=arguments[L];N[M].fn.apply(N[M].context,k)}}return!0},a.prototype.on=function(c,d,g){return s(this,c,d,g,!1)},a.prototype.once=function(c,d,g){return s(this,c,d,g,!0)},a.prototype.removeListener=function(c,d,g,S){var w=n?n+c:c;if(!this._events[w])return this;if(!d)return o(this,w),this;var C=this._events[w];if(C.fn)C.fn===d&&(!S||C.once)&&(!g||C.context===g)&&o(this,w);else{for(var x=0,N=[],T=C.length;x<T;x++)(C[x].fn!==d||S&&!C[x].once||g&&C[x].context!==g)&&N.push(C[x]);N.length?this._events[w]=N.length===1?N[0]:N:o(this,w)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(K0)),K0.exports}(function(t){var e=Hk;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(L8()),r=e(D8()),i=e(_f()),s=e(qk()),o=e(Wk()),a=e(Kk()),u=e(Gk()),c=e(Qk()),d=eS();function g(x){var N=S();return function(){var k=(0,c.default)(x),M;if(N){var B=(0,c.default)(this).constructor;M=Reflect.construct(k,arguments,B)}else M=k.apply(this,arguments);return(0,u.default)(this,M)}}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var w=function(x,N){var T={};for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&N.indexOf(k)<0&&(T[k]=x[k]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,k=Object.getOwnPropertySymbols(x);M<k.length;M++)N.indexOf(k[M])<0&&Object.prototype.propertyIsEnumerable.call(x,k[M])&&(T[k[M]]=x[k[M]]);return T},C=function(x){(0,a.default)(T,x);var N=g(T);function T(k){var M,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,T);var F=L.autoconnect,U=F===void 0?!0:F,ee=L.reconnect,Z=ee===void 0?!0:ee,Y=L.reconnect_interval,ce=Y===void 0?1e3:Y,A=L.max_reconnects,l=A===void 0?5:A,h=w(L,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return M=N.call(this),M.webSocketFactory=k,M.queue={},M.rpc_id=0,M.address=B,M.autoconnect=U,M.ready=!1,M.reconnect=Z,M.reconnect_timer_id=void 0,M.reconnect_interval=ce,M.max_reconnects=l,M.rest_options=h,M.current_reconnects=0,M.generate_request_id=P||function(){return++M.rpc_id},M.autoconnect&&M._connect(M.address,Object.assign({autoconnect:M.autoconnect,reconnect:M.reconnect,reconnect_interval:M.reconnect_interval,max_reconnects:M.max_reconnects},M.rest_options)),M}return(0,o.default)(T,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(M,B,L,P){var F=this;return!P&&(0,i.default)(L)==="object"&&(P=L,L=null),new Promise(function(U,ee){if(!F.ready)return ee(new Error("socket not ready"));var Z=F.generate_request_id(M,B),Y={jsonrpc:"2.0",method:M,params:B||null,id:Z};F.socket.send(JSON.stringify(Y),P,function(ce){if(ce)return ee(ce);F.queue[Z]={promise:[U,ee]},L&&(F.queue[Z].timeout=setTimeout(function(){delete F.queue[Z],ee(new Error("reply timeout"))},L))})})}},{key:"login",value:function(){var k=(0,r.default)(n.default.mark(function B(L){var P;return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,this.call("rpc.login",L);case 2:if(P=U.sent,P){U.next=5;break}throw new Error("authentication failed");case 5:return U.abrupt("return",P);case 6:case"end":return U.stop()}},B,this)}));function M(B){return k.apply(this,arguments)}return M}()},{key:"listMethods",value:function(){var k=(0,r.default)(n.default.mark(function B(){return n.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.call("__listMethods");case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},B,this)}));function M(){return k.apply(this,arguments)}return M}()},{key:"notify",value:function(M,B){var L=this;return new Promise(function(P,F){if(!L.ready)return F(new Error("socket not ready"));var U={jsonrpc:"2.0",method:M,params:B||null};L.socket.send(JSON.stringify(U),function(ee){if(ee)return F(ee);P()})})}},{key:"subscribe",value:function(){var k=(0,r.default)(n.default.mark(function B(L){var P;return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return typeof L=="string"&&(L=[L]),U.next=3,this.call("rpc.on",L);case 3:if(P=U.sent,!(typeof L=="string"&&P[L]!=="ok")){U.next=6;break}throw new Error("Failed subscribing to an event '"+L+"' with: "+P[L]);case 6:return U.abrupt("return",P);case 7:case"end":return U.stop()}},B,this)}));function M(B){return k.apply(this,arguments)}return M}()},{key:"unsubscribe",value:function(){var k=(0,r.default)(n.default.mark(function B(L){var P;return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return typeof L=="string"&&(L=[L]),U.next=3,this.call("rpc.off",L);case 3:if(P=U.sent,!(typeof L=="string"&&P[L]!=="ok")){U.next=6;break}throw new Error("Failed unsubscribing from an event with: "+P);case 6:return U.abrupt("return",P);case 7:case"end":return U.stop()}},B,this)}));function M(B){return k.apply(this,arguments)}return M}()},{key:"close",value:function(M,B){this.socket.close(M||1e3,B)}},{key:"_connect",value:function(M,B){var L=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(M,B),this.socket.addEventListener("open",function(){L.ready=!0,L.emit("open"),L.current_reconnects=0}),this.socket.addEventListener("message",function(P){var F=P.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&L.listeners(F.notification).length){if(!Object.keys(F.params).length)return L.emit(F.notification);var U=[F.notification];if(F.params.constructor===Object)U.push(F.params);else for(var ee=0;ee<F.params.length;ee++)U.push(F.params[ee]);return Promise.resolve().then(function(){L.emit.apply(L,U)})}if(!L.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){L.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&L.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),L.queue[F.id].timeout&&clearTimeout(L.queue[F.id].timeout),F.error?L.queue[F.id].promise[1](F.error):L.queue[F.id].promise[0](F.result),delete L.queue[F.id]}),this.socket.addEventListener("error",function(P){return L.emit("error",P)}),this.socket.addEventListener("close",function(P){var F=P.code,U=P.reason;L.ready&&setTimeout(function(){return L.emit("close",F,U)},0),L.ready=!1,L.socket=void 0,F!==1e3&&(L.current_reconnects++,L.reconnect&&(L.max_reconnects>L.current_reconnects||L.max_reconnects===0)&&(L.reconnect_timer_id=setTimeout(function(){return L._connect(M,B)},L.reconnect_interval)))})}}]),T}(d.EventEmitter);t.default=C})(jk);const U8=cs(jk);var Yk={};(function(t){var e=Hk;Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var n=e(qk()),r=e(Wk()),i=e(Kk()),s=e(Gk()),o=e(Qk()),a=eS();function u(S){var w=c();return function(){var x=(0,o.default)(S),N;if(w){var T=(0,o.default)(this).constructor;N=Reflect.construct(x,arguments,T)}else N=x.apply(this,arguments);return(0,s.default)(this,N)}}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var d=function(S){(0,i.default)(C,S);var w=u(C);function C(x,N,T){var k;return(0,n.default)(this,C),k=w.call(this),k.socket=new window.WebSocket(x,T),k.socket.onopen=function(){return k.emit("open")},k.socket.onmessage=function(M){return k.emit("message",M.data)},k.socket.onerror=function(M){return k.emit("error",M)},k.socket.onclose=function(M){k.emit("close",M.code,M.reason)},k}return(0,r.default)(C,[{key:"send",value:function(N,T,k){var M=k||T;try{this.socket.send(N),M()}catch(B){M(B)}}},{key:"close",value:function(N,T){this.socket.close(N,T)}},{key:"addEventListener",value:function(N,T,k){this.socket.addEventListener(N,T,k)}}]),C}(a.EventEmitter);function g(S,w){return new d(S,w)}})(Yk);const z8=cs(Yk),[Zk,Xk,Jk]=[[],[],[]],j8=BigInt(0),El=BigInt(1),V8=BigInt(2),H8=BigInt(7),q8=BigInt(256),W8=BigInt(113);for(let t=0,e=El,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Zk.push(2*(5*r+n)),Xk.push((t+1)*(t+2)/2%64);let i=j8;for(let s=0;s<7;s++)e=(e<<El^(e>>H8)*W8)%q8,e&V8&&(i^=El<<(El<<BigInt(s))-El);Jk.push(i)}const[K8,G8]=Ue.split(Jk,!0),A_=(t,e,n)=>n>32?Ue.rotlBH(t,e,n):Ue.rotlSH(t,e,n),k_=(t,e,n)=>n>32?Ue.rotlBL(t,e,n):Ue.rotlSL(t,e,n);function Q8(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,c=n[u],d=n[u+1],g=A_(c,d,1)^n[a],S=k_(c,d,1)^n[a+1];for(let w=0;w<50;w+=10)t[o+w]^=g,t[o+w+1]^=S}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Xk[o],u=A_(i,s,a),c=k_(i,s,a),d=Zk[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=K8[r],t[1]^=G8[r]}n.fill(0)}class Eg extends N1{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Cr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sF(this.state)}keccak(){Q8(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Cr.exists(this);const{blockLen:n,state:r}=this;e=vf(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Cr.exists(this,!1),Cr.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Cr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Cr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Eg(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const lo=(t,e,n)=>pa(()=>new Eg(e,t,n));lo(6,144,224/8);lo(6,136,256/8);lo(6,104,384/8);lo(6,72,512/8);lo(1,144,224/8);lo(1,136,256/8);lo(1,104,384/8);lo(1,72,512/8);const eT=(t,e,n)=>aF((r={})=>new Eg(e,t,r.dkLen===void 0?n:r.dkLen,!0));eT(31,168,128/8);eT(31,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Y8(t){const e=P1(t);Yu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Z8,hexToBytes:X8}=HF,Vo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Vo;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Z8(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Vo,n=typeof t=="string"?X8(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Vo._parseInt(n.subarray(2)),{d:o,l:a}=Vo._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const d=c.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),u=n(o);return`30${n(o+s+4)}02${u}${i}02${a}${r}`}},Wi=BigInt(0),Ur=BigInt(1);BigInt(2);const T_=BigInt(3);BigInt(4);function J8(t){const e=Y8(t),{Fp:n}=e,r=e.toBytes||((C,x,N)=>{const T=x.toAffine();return aa(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),i=e.fromBytes||(C=>{const x=C.subarray(1),N=n.fromBytes(x.subarray(0,n.BYTES)),T=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:N,y:T}});function s(C){const{a:x,b:N}=e,T=n.sqr(C),k=n.mul(T,C);return n.add(n.add(k,n.mul(C,x)),N)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(C){return typeof C=="bigint"&&Wi<C&&C<e.n}function a(C){if(!o(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(C){const{allowedPrivateKeyLengths:x,nByteLength:N,wrapPrivateKey:T,n:k}=e;if(x&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=oa(C)),typeof C!="string"||!x.includes(C.length))throw new Error("Invalid key");C=C.padStart(N*2,"0")}let M;try{M=typeof C=="bigint"?C:Go(sn("private key",C,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof C}`)}return T&&(M=$t(M,k)),a(M),M}const c=new Map;function d(C){if(!(C instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(x,N,T){if(this.px=x,this.py=N,this.pz=T,x==null||!n.isValid(x))throw new Error("x required");if(N==null||!n.isValid(N))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required")}static fromAffine(x){const{x:N,y:T}=x||{};if(!x||!n.isValid(N)||!n.isValid(T))throw new Error("invalid affine point");if(x instanceof g)throw new Error("projective point not allowed");const k=M=>n.eql(M,n.ZERO);return k(N)&&k(T)?g.ZERO:new g(N,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const N=n.invertBatch(x.map(T=>T.pz));return x.map((T,k)=>T.toAffine(N[k])).map(g.fromAffine)}static fromHex(x){const N=g.fromAffine(i(sn("pointHex",x)));return N.assertValidity(),N}static fromPrivateKey(x){return g.BASE.multiply(u(x))}_setWindowSize(x){this._WINDOW_SIZE=x,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x,y:N}=this.toAffine();if(!n.isValid(x)||!n.isValid(N))throw new Error("bad point: x or y not FE");const T=n.sqr(N),k=s(x);if(!n.eql(T,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:N,py:T,pz:k}=this,{px:M,py:B,pz:L}=x,P=n.eql(n.mul(N,L),n.mul(M,k)),F=n.eql(n.mul(T,L),n.mul(B,k));return P&&F}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:N}=e,T=n.mul(N,T_),{px:k,py:M,pz:B}=this;let L=n.ZERO,P=n.ZERO,F=n.ZERO,U=n.mul(k,k),ee=n.mul(M,M),Z=n.mul(B,B),Y=n.mul(k,M);return Y=n.add(Y,Y),F=n.mul(k,B),F=n.add(F,F),L=n.mul(x,F),P=n.mul(T,Z),P=n.add(L,P),L=n.sub(ee,P),P=n.add(ee,P),P=n.mul(L,P),L=n.mul(Y,L),F=n.mul(T,F),Z=n.mul(x,Z),Y=n.sub(U,Z),Y=n.mul(x,Y),Y=n.add(Y,F),F=n.add(U,U),U=n.add(F,U),U=n.add(U,Z),U=n.mul(U,Y),P=n.add(P,U),Z=n.mul(M,B),Z=n.add(Z,Z),U=n.mul(Z,Y),L=n.sub(L,U),F=n.mul(Z,ee),F=n.add(F,F),F=n.add(F,F),new g(L,P,F)}add(x){d(x);const{px:N,py:T,pz:k}=this,{px:M,py:B,pz:L}=x;let P=n.ZERO,F=n.ZERO,U=n.ZERO;const ee=e.a,Z=n.mul(e.b,T_);let Y=n.mul(N,M),ce=n.mul(T,B),A=n.mul(k,L),l=n.add(N,T),h=n.add(M,B);l=n.mul(l,h),h=n.add(Y,ce),l=n.sub(l,h),h=n.add(N,k);let p=n.add(M,L);return h=n.mul(h,p),p=n.add(Y,A),h=n.sub(h,p),p=n.add(T,k),P=n.add(B,L),p=n.mul(p,P),P=n.add(ce,A),p=n.sub(p,P),U=n.mul(ee,h),P=n.mul(Z,A),U=n.add(P,U),P=n.sub(ce,U),U=n.add(ce,U),F=n.mul(P,U),ce=n.add(Y,Y),ce=n.add(ce,Y),A=n.mul(ee,A),h=n.mul(Z,h),ce=n.add(ce,A),A=n.sub(Y,A),A=n.mul(ee,A),h=n.add(h,A),Y=n.mul(ce,h),F=n.add(F,Y),Y=n.mul(p,h),P=n.mul(l,P),P=n.sub(P,Y),Y=n.mul(l,ce),U=n.mul(p,U),U=n.add(U,Y),new g(P,F,U)}subtract(x){return this.add(x.negate())}is0(){return this.equals(g.ZERO)}wNAF(x){return w.wNAFCached(this,c,x,N=>{const T=n.invertBatch(N.map(k=>k.pz));return N.map((k,M)=>k.toAffine(T[M])).map(g.fromAffine)})}multiplyUnsafe(x){const N=g.ZERO;if(x===Wi)return N;if(a(x),x===Ur)return this;const{endo:T}=e;if(!T)return w.unsafeLadder(this,x);let{k1neg:k,k1:M,k2neg:B,k2:L}=T.splitScalar(x),P=N,F=N,U=this;for(;M>Wi||L>Wi;)M&Ur&&(P=P.add(U)),L&Ur&&(F=F.add(U)),U=U.double(),M>>=Ur,L>>=Ur;return k&&(P=P.negate()),B&&(F=F.negate()),F=new g(n.mul(F.px,T.beta),F.py,F.pz),P.add(F)}multiply(x){a(x);let N=x,T,k;const{endo:M}=e;if(M){const{k1neg:B,k1:L,k2neg:P,k2:F}=M.splitScalar(N);let{p:U,f:ee}=this.wNAF(L),{p:Z,f:Y}=this.wNAF(F);U=w.constTimeNegate(B,U),Z=w.constTimeNegate(P,Z),Z=new g(n.mul(Z.px,M.beta),Z.py,Z.pz),T=U.add(Z),k=ee.add(Y)}else{const{p:B,f:L}=this.wNAF(N);T=B,k=L}return g.normalizeZ([T,k])[0]}multiplyAndAddUnsafe(x,N,T){const k=g.BASE,M=(L,P)=>P===Wi||P===Ur||!L.equals(k)?L.multiplyUnsafe(P):L.multiply(P),B=M(this,N).add(M(x,T));return B.is0()?void 0:B}toAffine(x){const{px:N,py:T,pz:k}=this,M=this.is0();x==null&&(x=M?n.ONE:n.inv(k));const B=n.mul(N,x),L=n.mul(T,x),P=n.mul(k,x);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:B,y:L}}isTorsionFree(){const{h:x,isTorsionFree:N}=e;if(x===Ur)return!0;if(N)return N(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:N}=e;return x===Ur?this:N?N(g,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),r(g,this,x)}toHex(x=!0){return oa(this.toRawBytes(x))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const S=e.nBitLength,w=sk(g,e.endo?Math.ceil(S/2):S);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function eU(t){const e=P1(t);return Yu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function tU(t){const e=eU(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(h){return Wi<h&&h<n.ORDER}function a(h){return $t(h,r)}function u(h){return Yy(h,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:g,isWithinCurveOrder:S}=J8({...e,toBytes(h,p,y){const m=p.toAffine(),b=n.toBytes(m.x),R=aa;return y?R(Uint8Array.from([p.hasEvenY()?2:3]),b):R(Uint8Array.from([4]),b,n.toBytes(m.y))},fromBytes(h){const p=h.length,y=h[0],m=h.subarray(1);if(p===i&&(y===2||y===3)){const b=Go(m);if(!o(b))throw new Error("Point is not on curve");const R=g(b);let v=n.sqrt(R);const f=(v&Ur)===Ur;return(y&1)===1!==f&&(v=n.neg(v)),{x:b,y:v}}else if(p===s&&y===4){const b=n.fromBytes(m.subarray(0,n.BYTES)),R=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:b,y:R}}else throw new Error(`Point of length ${p} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=h=>oa(cu(h,e.nByteLength));function C(h){const p=r>>Ur;return h>p}function x(h){return C(h)?a(-h):h}const N=(h,p,y)=>Go(h.slice(p,y));class T{constructor(p,y,m){this.r=p,this.s=y,this.recovery=m,this.assertValidity()}static fromCompact(p){const y=e.nByteLength;return p=sn("compactSignature",p,y*2),new T(N(p,0,y),N(p,y,2*y))}static fromDER(p){const{r:y,s:m}=Vo.toSig(sn("DER",p));return new T(y,m)}assertValidity(){if(!S(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!S(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(p){return new T(this.r,this.s,p)}recoverPublicKey(p){const{r:y,s:m,recovery:b}=this,R=F(sn("msgHash",p));if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");const v=b===2||b===3?y+e.n:y;if(v>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=b&1?"03":"02",I=c.fromHex(f+w(v)),K=u(v),q=a(-R*K),G=a(m*K),ae=c.BASE.multiplyAndAddUnsafe(I,q,G);if(!ae)throw new Error("point at infinify");return ae.assertValidity(),ae}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Du(this.toDERHex())}toDERHex(){return Vo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Du(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const k={isValidPrivateKey(h){try{return d(h),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const h=e.randomBytes(n.BYTES+8),p=t$(h,r);return cu(p,e.nByteLength)},precompute(h=8,p=c.BASE){return p._setWindowSize(h),p.multiply(BigInt(3)),p}};function M(h,p=!0){return c.fromPrivateKey(h).toRawBytes(p)}function B(h){const p=h instanceof Uint8Array,y=typeof h=="string",m=(p||y)&&h.length;return p?m===i||m===s:y?m===2*i||m===2*s:h instanceof c}function L(h,p,y=!0){if(B(h))throw new Error("first arg must be private key");if(!B(p))throw new Error("second arg must be public key");return c.fromHex(p).multiply(d(h)).toRawBytes(y)}const P=e.bits2int||function(h){const p=Go(h),y=h.length*8-e.nBitLength;return y>0?p>>BigInt(y):p},F=e.bits2int_modN||function(h){return a(P(h))},U=L1(e.nBitLength);function ee(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(Wi<=h&&h<U))throw new Error(`bigint expected < 2^${e.nBitLength}`);return cu(h,e.nByteLength)}function Z(h,p,y=Y){if(["recovered","canonical"].some(le=>le in y))throw new Error("sign() legacy options not supported");const{hash:m,randomBytes:b}=e;let{lowS:R,prehash:v,extraEntropy:f}=y;R==null&&(R=!0),h=sn("msgHash",h),v&&(h=sn("prehashed msgHash",m(h)));const I=F(h),K=d(p),q=[ee(K),ee(I)];if(f!=null){const le=f===!0?b(n.BYTES):f;q.push(sn("extraEntropy",le,n.BYTES))}const G=aa(...q),ae=I;function se(le){const Tt=P(le);if(!S(Tt))return;const ve=u(Tt),we=c.BASE.multiply(Tt).toAffine(),pt=a(we.x);if(pt===Wi)return;const Ee=a(ve*a(ae+pt*K));if(Ee===Wi)return;let Me=(we.x===pt?0:2)|Number(we.y&Ur),wr=Ee;return R&&C(Ee)&&(wr=x(Ee),Me^=1),new T(pt,wr,Me)}return{seed:G,k2sig:se}}const Y={lowS:e.lowS,prehash:!1},ce={lowS:e.lowS,prehash:!1};function A(h,p,y=Y){const{seed:m,k2sig:b}=Z(h,p,y),R=e;return rk(R.hash.outputLen,R.nByteLength,R.hmac)(m,b)}c.BASE._setWindowSize(8);function l(h,p,y,m=ce){var we;const b=h;if(p=sn("msgHash",p),y=sn("publicKey",y),"strict"in m)throw new Error("options.strict was renamed to lowS");const{lowS:R,prehash:v}=m;let f,I;try{if(typeof b=="string"||b instanceof Uint8Array)try{f=T.fromDER(b)}catch(pt){if(!(pt instanceof Vo.Err))throw pt;f=T.fromCompact(b)}else if(typeof b=="object"&&typeof b.r=="bigint"&&typeof b.s=="bigint"){const{r:pt,s:Ee}=b;f=new T(pt,Ee)}else throw new Error("PARSE");I=c.fromHex(y)}catch(pt){if(pt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&f.hasHighS())return!1;v&&(p=e.hash(p));const{r:K,s:q}=f,G=F(p),ae=u(q),se=a(G*ae),le=a(K*ae),Tt=(we=c.BASE.multiplyAndAddUnsafe(I,se,le))==null?void 0:we.toAffine();return Tt?a(Tt.x)===K:!1}return{CURVE:e,getPublicKey:M,getSharedSecret:L,sign:A,verify:l,ProjectivePoint:c,Signature:T,utils:k}}class tT extends N1{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Cr.hash(e);const r=vf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Cr.exists(this),this.iHash.update(e),this}digestInto(e){Cr.exists(this),Cr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nT=(t,e,n)=>new tT(t,e).update(n).digest();nT.create=(t,e)=>new tT(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nU(t){return{hash:t,hmac:(e,...n)=>nT(t,e,YA(...n)),randomBytes:ZA}}function rU(t,e){const n=r=>tU({...t,...nU(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),R_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),iU=BigInt(1),tv=BigInt(2),N_=(t,e)=>(t+e/tv)/e;function sU(t){const e=rT,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,d=c*c*t%e,g=Qt(d,n,e)*d%e,S=Qt(g,n,e)*d%e,w=Qt(S,tv,e)*c%e,C=Qt(w,i,e)*w%e,x=Qt(C,s,e)*C%e,N=Qt(x,a,e)*x%e,T=Qt(N,u,e)*N%e,k=Qt(T,a,e)*x%e,M=Qt(k,n,e)*d%e,B=Qt(M,o,e)*C%e,L=Qt(B,r,e)*c%e,P=Qt(L,tv,e);if(!nv.eql(nv.sqr(P),t))throw new Error("Cannot find square root");return P}const nv=ik(rT,void 0,void 0,{sqrt:sU}),tS=rU({a:BigInt(0),b:BigInt(7),Fp:nv,n:R_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=R_,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-iU*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=N_(s*t,e),u=N_(-r*t,e);let c=$t(t-a*n-u*i,e),d=$t(-a*r-u*s,e);const g=c>o,S=d>o;if(g&&(c=e-c),S&&(d=e-d),c>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:c,k2neg:S,k2:d}}}},Jy);BigInt(0);tS.ProjectivePoint;pg.utils.randomPrivateKey;function O_(t){try{return pg.ExtendedPoint.fromHex(t),!0}catch{return!1}}const iT=(t,e)=>pg.sign(t,e.slice(0,32)),oU=pg.verify,Cn=t=>Ve.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ve.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ve.Buffer.from(t);class aU{constructor(e){Object.assign(this,e)}encode(){return Ve.Buffer.from(mk(Ph,this))}static decode(e){return yk(Ph,this,e)}static decodeUnchecked(e){return fk(Ph,this,e)}}const Ph=new Map;let sT;const uU=32,Ti=32;function lU(t){return t._bn!==void 0}let L_=1;sT=Symbol.toStringTag;class xe extends aU{constructor(e){if(super({}),this._bn=void 0,lU(e))this._bn=e._bn;else{if(typeof e=="string"){const n=mn.decode(e);if(n.length!=Ti)throw new Error("Invalid public key input");this._bn=new f_(n)}else this._bn=new f_(e);if(this._bn.byteLength()>Ti)throw new Error("Invalid public key input")}}static unique(){const e=new xe(L_);return L_+=1,new xe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ve.Buffer);if(e.length===Ti)return e;const n=Ve.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[sT](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Ve.Buffer.concat([e.toBuffer(),Ve.Buffer.from(n),r.toBuffer()]),s=Jy(i);return new xe(s)}static createProgramAddressSync(e,n){let r=Ve.Buffer.alloc(0);e.forEach(function(s){if(s.length>uU)throw new TypeError("Max seed length exceeded");r=Ve.Buffer.concat([r,Cn(s)])}),r=Ve.Buffer.concat([r,n.toBuffer(),Ve.Buffer.from("ProgramDerivedAddress")]);const i=Jy(r);if(O_(i))throw new Error("Invalid seeds, address must fall off the curve");return new xe(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Ve.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new xe(e);return O_(n.toBytes())}}xe.default=new xe("11111111111111111111111111111111");Ph.set(xe,{kind:"struct",fields:[["_bn","u256"]]});new xe("BPFLoader1111111111111111111111111111111111");const fu=1280-40-8,nS=127,Bu=64;class oT extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(oT.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class aT extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(aT.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ll extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ll.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Kd{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const ft=(t="publicKey")=>Lt(32,t),cU=(t="signature")=>Lt(64,t),qa=(t="string")=>{const e=Se([Ce("length"),Ce("lengthPadding"),Lt(Qo(Ce(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:Ve.Buffer.from(s,"utf8")};return r(u,o,a)},i.alloc=s=>Ce().span+Ce().span+Ve.Buffer.from(s,"utf8").length,i},fU=(t="authorized")=>Se([ft("staker"),ft("withdrawer")],t),hU=(t="lockup")=>Se([_r("unixTimestamp"),_r("epoch"),ft("custodian")],t),dU=(t="voteInit")=>Se([ft("nodePubkey"),ft("authorizedVoter"),ft("authorizedWithdrawer"),bt("commission")],t),pU=(t="voteAuthorizeWithSeedArgs")=>Se([Ce("voteAuthorizationType"),ft("currentAuthorityDerivedKeyOwnerPubkey"),qa("currentAuthorityDerivedKeySeed"),ft("newAuthorized")],t);function uT(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return uT({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function xr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Ir(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Ft(t,e){if(!t)throw new Error(e||"Assertion failed")}class bg{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let u=r.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,u)),u},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new bg(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ft(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,u])=>u.isSigner&&u.isWritable),r=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Ft(n.length>0,"Expected at least one writable signer key");const[u]=n[0];Ft(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([u])=>new xe(u)),...r.map(([u])=>new xe(u)),...i.map(([u])=>new xe(u)),...s.map(([u])=>new xe(u))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new xe(s),u=e.findIndex(c=>c.equals(a));u>=0&&(Ft(u<256,"Max lookup table index exceeded"),r.push(u),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}class ls{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new xe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Kd(this.staticAccountKeys)}static compile(e){const n=bg.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new Kd(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:mn.encode(a.data)}));return new ls({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ir(n,e);const r=this.instructions.map(g=>{const{accounts:S,programIdIndex:w}=g,C=Array.from(mn.decode(g.data));let x=[];Ir(x,S.length);let N=[];return Ir(N,C.length),{programIdIndex:w,keyIndicesCount:Ve.Buffer.from(x),keyIndices:S,dataLength:Ve.Buffer.from(N),data:C}});let i=[];Ir(i,r.length);let s=Ve.Buffer.alloc(fu);Ve.Buffer.from(i).copy(s);let o=i.length;r.forEach(g=>{const w=Se([bt("programIdIndex"),Lt(g.keyIndicesCount.length,"keyIndicesCount"),Qn(bt("keyIndex"),g.keyIndices.length,"keyIndices"),Lt(g.dataLength.length,"dataLength"),Qn(bt("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=w}),s=s.slice(0,o);const a=Se([Lt(1,"numRequiredSignatures"),Lt(1,"numReadonlySignedAccounts"),Lt(1,"numReadonlyUnsignedAccounts"),Lt(n.length,"keyCount"),Qn(ft("key"),e,"keys"),ft("recentBlockhash")]),u={numRequiredSignatures:Ve.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ve.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ve.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ve.Buffer.from(n),keys:this.accountKeys.map(g=>Cn(g.toBytes())),recentBlockhash:mn.decode(this.recentBlockhash)};let c=Ve.Buffer.alloc(2048);const d=a.encode(u,c);return s.copy(c,d),c.slice(0,d+s.length)}static from(e){let n=[...e];const r=n.shift();if(r!==(r&nS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=n.shift(),s=n.shift(),o=xr(n);let a=[];for(let S=0;S<o;S++){const w=n.slice(0,Ti);n=n.slice(Ti),a.push(new xe(Ve.Buffer.from(w)))}const u=n.slice(0,Ti);n=n.slice(Ti);const c=xr(n);let d=[];for(let S=0;S<c;S++){const w=n.shift(),C=xr(n),x=n.slice(0,C);n=n.slice(C);const N=xr(n),T=n.slice(0,N),k=mn.encode(Ve.Buffer.from(T));n=n.slice(N),d.push({programIdIndex:w,accounts:x,data:k})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:mn.encode(Ve.Buffer.from(u)),accountKeys:a,instructions:d};return new ls(g)}}class $c{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Kd(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=bg.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=n.extractTableLookup(d);if(g!==void 0){const[S,{writable:w,readonly:C}]=g;r.push(S),i.writable.push(...w),i.readonly.push(...C)}}const[o,a]=n.getMessageComponents(),c=new Kd(a,i).compileInstructions(e.instructions);return new $c({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Ir(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ir(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Ir(s,this.addressTableLookups.length);const o=Se([bt("prefix"),Se([bt("numRequiredSignatures"),bt("numReadonlySignedAccounts"),bt("numReadonlyUnsignedAccounts")],"header"),Lt(e.length,"staticAccountKeysLength"),Qn(ft(),this.staticAccountKeys.length,"staticAccountKeys"),ft("recentBlockhash"),Lt(r.length,"instructionsLength"),Lt(n.length,"serializedInstructions"),Lt(s.length,"addressTableLookupsLength"),Lt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(fu),u=128,c=o.encode({prefix:u,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:mn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(fu);for(const r of this.compiledInstructions){const i=Array();Ir(i,r.accountKeyIndexes.length);const s=Array();Ir(s,r.data.length);const o=Se([bt("programIdIndex"),Lt(i.length,"encodedAccountKeyIndexesLength"),Qn(bt(),r.accountKeyIndexes.length,"accountKeyIndexes"),Lt(s.length,"encodedDataLength"),Lt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(fu);for(const r of this.addressTableLookups){const i=Array();Ir(i,r.writableIndexes.length);const s=Array();Ir(s,r.readonlyIndexes.length);const o=Se([ft("accountKey"),Lt(i.length,"encodedWritableIndexesLength"),Qn(bt(),r.writableIndexes.length,"writableIndexes"),Lt(s.length,"encodedReadonlyIndexesLength"),Qn(bt(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=n.shift(),i=r&nS;Ft(r!==i,"Expected versioned message but received legacy message");const s=i;Ft(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:n.shift(),numReadonlySignedAccounts:n.shift(),numReadonlyUnsignedAccounts:n.shift()},a=[],u=xr(n);for(let C=0;C<u;C++)a.push(new xe(n.splice(0,Ti)));const c=mn.encode(n.splice(0,Ti)),d=xr(n),g=[];for(let C=0;C<d;C++){const x=n.shift(),N=xr(n),T=n.splice(0,N),k=xr(n),M=new Uint8Array(n.splice(0,k));g.push({programIdIndex:x,accountKeyIndexes:T,data:M})}const S=xr(n),w=[];for(let C=0;C<S;C++){const x=new xe(n.splice(0,Ti)),N=xr(n),T=n.splice(0,N),k=xr(n),M=n.splice(0,k);w.push({accountKey:x,writableIndexes:T,readonlyIndexes:M})}return new $c({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:w})}}const rS={deserializeMessageVersion(t){const e=t[0],n=e&nS;return n===e?"legacy":n},deserialize:t=>{const e=rS.deserializeMessageVersion(t);if(e==="legacy")return ls.from(t);if(e===0)return $c.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Si;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(Si||(Si={}));const gU=Ve.Buffer.alloc(Bu).fill(0);class ni{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ve.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class hr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new ni(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];n.forEach(x=>{x.keys.forEach(T=>{s.push({...T})});const N=x.programId.toString();i.includes(N)||i.push(N)}),i.forEach(x=>{s.push({pubkey:new xe(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const N=x.pubkey.toString(),T=o.findIndex(k=>k.pubkey.toString()===N);T>-1?(o[T].isWritable=o[T].isWritable||x.isWritable,o[T].isSigner=o[T].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,N){if(x.isSigner!==N.isSigner)return x.isSigner?-1:1;if(x.isWritable!==N.isWritable)return x.isWritable?-1:1;const T={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(N.pubkey.toBase58(),"en",T)});const a=o.findIndex(x=>x.pubkey.equals(r));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const N=o.findIndex(T=>T.pubkey.equals(x.publicKey));if(N>-1)o[N].isSigner||(o[N].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,c=0,d=0;const g=[],S=[];o.forEach(({pubkey:x,isSigner:N,isWritable:T})=>{N?(g.push(x.toString()),u+=1,T||(c+=1)):(S.push(x.toString()),T||(d+=1))});const w=g.concat(S),C=n.map(x=>{const{data:N,programId:T}=x;return{programIdIndex:w.indexOf(T.toString()),accounts:x.keys.map(k=>w.indexOf(k.pubkey.toString())),data:mn.encode(N)}});return C.forEach(x=>{Ft(x.programIdIndex>=0),x.accounts.forEach(N=>Ft(N>=0))}),new ls({header:{numRequiredSignatures:u,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:w,recentBlockhash:e,instructions:C})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=iT(r,i.secretKey);this._addSignature(i.publicKey,Cn(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Ft(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Ve.Buffer.from(n)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,n){for(const{signature:r,publicKey:i}of this.signatures)if(r===null){if(n)return!1}else if(!oU(r,e,i.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r&&!this._verifySignatures(i,n))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Ir(r,n.length);const i=r.length+n.length*64+e.length,s=Ve.Buffer.alloc(i);return Ft(n.length<256),Ve.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Ft(o.length===64,"signature has invalid length"),Ve.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Ft(s.length<=fu,`Transaction too large: ${s.length} > ${fu}`),s}get keys(){return Ft(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ft(this.instructions.length===1),this.instructions[0].programId}get data(){return Ft(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=xr(n);let i=[];for(let s=0;s<r;s++){const o=n.slice(0,Bu);n=n.slice(Bu),i.push(mn.encode(Ve.Buffer.from(o)))}return hr.populate(ls.from(n),i)}static populate(e,n=[]){const r=new hr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==mn.encode(gU)?null:mn.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ni({keys:s,programId:e.accountKeys[i.programIdIndex],data:mn.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Uc{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Ft(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Bu));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ir(n,this.signatures.length);const r=Se([Lt(n.length,"encodedSignaturesLength"),Qn(cU(),this.signatures.length,"signatures"),Lt(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=xr(n);for(let o=0;o<i;o++)r.push(new Uint8Array(n.splice(0,Bu)));const s=rS.deserialize(new Uint8Array(n));return new Uc(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));Ft(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=iT(n,i.secretKey)}}addSignature(e,n){Ft(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Ft(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const mU=160,yU=64,vU=mU/yU,wU=1e3/vU;new xe("SysvarC1ock11111111111111111111111111111111");new xe("SysvarEpochSchedu1e111111111111111111111111");new xe("Sysvar1nstructions1111111111111111111111111");const G0=new xe("SysvarRecentB1ockHashes11111111111111111111"),D_=new xe("SysvarRent111111111111111111111111111111111");new xe("SysvarRewards111111111111111111111111111111");new xe("SysvarS1otHashes111111111111111111111111111");new xe("SysvarS1otHistory11111111111111111111111111");new xe("SysvarStakeHistory1111111111111111111111111");function ka(t){return new Promise(e=>setTimeout(e,t))}function Br(t,e){const n=t.layout.span>=0?t.layout.span:uT(t,e),r=Ve.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const SU=xn("lamportsPerSignature"),lT=Se([Ce("version"),Ce("state"),ft("authorizedPubkey"),ft("nonce"),Se([SU],"feeCalculator")]),P_=lT.span;class iS{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=lT.decode(Cn(e),0);return new iS({authorizedPubkey:new xe(n.authorizedPubkey),nonce:new xe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const EU=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},bU=t=>e=>{const n=Lt(t,e),{encode:r,decode:i}=EU(n),s=n;return s.decode=(o,a)=>{const u=i(o,a);return W$(Ve.Buffer.from(u))},s.encode=(o,a,u)=>{const c=Q$(o,t);return r(c,a,u)},s},Fu=bU(8),Fr=Object.freeze({Create:{index:0,layout:Se([Ce("instruction"),_r("lamports"),_r("space"),ft("programId")])},Assign:{index:1,layout:Se([Ce("instruction"),ft("programId")])},Transfer:{index:2,layout:Se([Ce("instruction"),Fu("lamports")])},CreateWithSeed:{index:3,layout:Se([Ce("instruction"),ft("base"),qa("seed"),_r("lamports"),_r("space"),ft("programId")])},AdvanceNonceAccount:{index:4,layout:Se([Ce("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([Ce("instruction"),_r("lamports")])},InitializeNonceAccount:{index:6,layout:Se([Ce("instruction"),ft("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([Ce("instruction"),ft("authorized")])},Allocate:{index:8,layout:Se([Ce("instruction"),_r("space")])},AllocateWithSeed:{index:9,layout:Se([Ce("instruction"),ft("base"),qa("seed"),_r("space"),ft("programId")])},AssignWithSeed:{index:10,layout:Se([Ce("instruction"),ft("base"),qa("seed"),ft("programId")])},TransferWithSeed:{index:11,layout:Se([Ce("instruction"),Fu("lamports"),qa("seed"),ft("programId")])},UpgradeNonceAccount:{index:12,layout:Se([Ce("instruction")])}});class zc{constructor(){}static createAccount(e){const n=Fr.Create,r=Br(n,{lamports:e.lamports,space:e.space,programId:Cn(e.programId.toBuffer())});return new ni({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Fr.TransferWithSeed;n=Br(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Cn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Fr.Transfer;n=Br(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ni({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Fr.AssignWithSeed;n=Br(i,{base:Cn(e.basePubkey.toBuffer()),seed:e.seed,programId:Cn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Fr.Assign;n=Br(i,{programId:Cn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ni({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Fr.CreateWithSeed,r=Br(n,{base:Cn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Cn(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ni({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new hr;"basePubkey"in e&&"seed"in e?n.add(zc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:P_,programId:this.programId})):n.add(zc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:P_,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Fr.InitializeNonceAccount,r=Br(n,{authorized:Cn(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:G0,isSigner:!1,isWritable:!1},{pubkey:D_,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ni(i)}static nonceAdvance(e){const n=Fr.AdvanceNonceAccount,r=Br(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:G0,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ni(i)}static nonceWithdraw(e){const n=Fr.WithdrawNonceAccount,r=Br(n,{lamports:e.lamports});return new ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:G0,isSigner:!1,isWritable:!1},{pubkey:D_,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Fr.AuthorizeNonceAccount,r=Br(n,{authorized:Cn(e.newAuthorizedPubkey.toBuffer())});return new ni({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Fr.AllocateWithSeed;n=Br(i,{base:Cn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Cn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Fr.Allocate;n=Br(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ni({keys:r,programId:this.programId,data:n})}}zc.programId=new xe("11111111111111111111111111111111");new xe("BPFLoader2111111111111111111111111111111111");var _U=Object.prototype.toString,xU=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function Dl(t,e){var n,r,i,s,o,a,u;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return Dl(t.toJSON(),e);if(u=_U.call(t),u==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=Dl(t[n],!0)+",";return r>-1&&(i+=Dl(t[n],!0)),i+"]"}else if(u==="[object Object]"){for(s=xU(t).sort(),r=s.length,i="",n=0;n<r;)o=s[n],a=Dl(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var IU=function(t){var e=Dl(t,!1);if(e!==void 0)return""+e},B_=IU;const bl=32;function Q0(t){let e=0;for(;t>1;)t/=2,e++;return e}function CU(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class MU{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Q0(CU(e+bl+1))-Q0(bl)-1,r=this.getSlotsInEpoch(n),i=e-(r-bl);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*bl:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Q0(bl)):this.slotsPerEpoch}}class F_ extends Error{constructor(e,n){super(e),this.logs=void 0,this.logs=n}}class _e extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var AU=globalThis.fetch;class kU extends U8{constructor(e,n,r){const i=s=>{const o=z8(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function TU(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const $_=56;class U_{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=TU(RU,e),r=e.length-$_;Ft(r>=0,"lookup table is invalid"),Ft(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=Se([Qn(ft(),i,"addresses")]).decode(e.slice($_));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new xe(n.authority[0]):void 0,addresses:s.map(o=>new xe(o))}}}const RU={index:1,layout:Se([Ce("typeIndex"),Fu("deactivationSlot"),xn("lastExtendedSlot"),bt("lastExtendedStartIndex"),bt(),Qn(ft(),Qo(bt(),-1),"authority")])},NU=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function OU(t){const e=t.match(NU);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${r}${u}${s}`}const cn=bf(X1(xe),ie(),t=>new xe(t)),cT=J1([ie(),Ht("base64")]),sS=bf(X1(Ve.Buffer),cT,t=>Ve.Buffer.from(t[0],"base64")),LU=30*1e3;function DU(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function jt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function fT(t){return vr([te({jsonrpc:Ht("2.0"),id:ie(),result:t}),te({jsonrpc:Ht("2.0"),id:ie(),error:te({code:Ef(),message:ie(),data:Ae(r8())})})])}const PU=fT(Ef());function ct(t){return bf(fT(t),PU,e=>"error"in e?e:{...e,result:oe(e.result,t)})}function Xt(t){return ct(te({context:te({slot:H()}),value:t}))}function _g(t){return te({context:te({slot:H()}),value:t})}function Y0(t,e){return t===0?new $c({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new xe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:mn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ls(e)}const BU=te({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),FU=ct(fe(he(te({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:Ae(he(H()))})))),$U=fe(te({slot:H(),prioritizationFee:H()})),UU=te({total:H(),validator:H(),foundation:H(),epoch:H()}),zU=te({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:Ae(H()),transactionCount:Ae(H())}),jU=te({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:us(),firstNormalEpoch:H(),firstNormalSlot:H()}),VU=Pk(ie(),fe(H())),ya=he(vr([te({}),ie()])),HU=te({err:ya}),qU=Ht("receivedSignature"),WU=te({"solana-core":ie(),"feature-set":Ae(H())}),z_=Xt(te({err:he(vr([te({}),ie()])),logs:he(fe(ie())),accounts:Ae(he(fe(he(te({executable:us(),owner:ie(),lamports:H(),data:fe(ie()),rentEpoch:Ae(H())}))))),unitsConsumed:Ae(H()),returnData:Ae(he(te({programId:ie(),data:J1([ie(),Ht("base64")])})))})),KU=Xt(te({byIdentity:Pk(ie(),fe(H())),range:te({firstSlot:H(),lastSlot:H()})}));function GU(t,e,n,r,i,s){const o=n||AU;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(d,g)=>{const S=await new Promise((w,C)=>{try{r(d,g,(x,N)=>w([x,N]))}catch(x){C(x)}});return await o(...S)}),new N8(async(d,g)=>{const S={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},G9)};try{let w=5,C,x=500;for(;u?C=await u(t,S):C=await o(t,S),!(C.status!==429||i===!0||(w-=1,w===0));)console.log(`Server responded with ${C.status} ${C.statusText}.  Retrying after ${x}ms delay...`),await ka(x),x*=2;const N=await C.text();C.ok?g(null,N):g(new Error(`${C.status} ${C.statusText}: ${N}`))}catch(w){w instanceof Error&&g(w)}},{})}function QU(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function YU(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const ZU=ct(BU),XU=ct(UU),JU=ct($U),e9=ct(zU),t9=ct(jU),n9=ct(VU),r9=ct(H()),i9=Xt(te({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:fe(cn)})),rv=te({amount:ie(),uiAmount:he(H()),decimals:H(),uiAmountString:Ae(ie())}),s9=Xt(fe(te({address:cn,amount:ie(),uiAmount:he(H()),decimals:H(),uiAmountString:Ae(ie())}))),o9=Xt(fe(te({pubkey:cn,account:te({executable:us(),owner:cn,lamports:H(),data:sS,rentEpoch:H()})}))),iv=te({program:ie(),parsed:Ef(),space:H()}),a9=Xt(fe(te({pubkey:cn,account:te({executable:us(),owner:cn,lamports:H(),data:iv,rentEpoch:H()})}))),u9=Xt(fe(te({lamports:H(),address:cn}))),jc=te({executable:us(),owner:cn,lamports:H(),data:sS,rentEpoch:H()}),l9=te({pubkey:cn,account:jc}),c9=bf(vr([X1(Ve.Buffer),iv]),vr([cT,iv]),t=>Array.isArray(t)?oe(t,sS):t),sv=te({executable:us(),owner:cn,lamports:H(),data:c9,rentEpoch:H()}),f9=te({pubkey:cn,account:sv}),h9=te({state:vr([Ht("active"),Ht("inactive"),Ht("activating"),Ht("deactivating")]),active:H(),inactive:H()}),d9=ct(fe(te({signature:ie(),slot:H(),err:ya,memo:he(ie()),blockTime:Ae(he(H()))}))),p9=ct(fe(te({signature:ie(),slot:H(),err:ya,memo:he(ie()),blockTime:Ae(he(H()))}))),g9=te({subscription:H(),result:_g(jc)}),m9=te({pubkey:cn,account:jc}),y9=te({subscription:H(),result:_g(m9)}),v9=te({parent:H(),slot:H(),root:H()}),w9=te({subscription:H(),result:v9}),S9=vr([te({type:vr([Ht("firstShredReceived"),Ht("completed"),Ht("optimisticConfirmation"),Ht("root")]),slot:H(),timestamp:H()}),te({type:Ht("createdBank"),parent:H(),slot:H(),timestamp:H()}),te({type:Ht("frozen"),slot:H(),timestamp:H(),stats:te({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),te({type:Ht("dead"),slot:H(),timestamp:H(),err:ie()})]),E9=te({subscription:H(),result:S9}),b9=te({subscription:H(),result:_g(vr([HU,qU]))}),_9=te({subscription:H(),result:H()}),x9=te({pubkey:ie(),gossip:he(ie()),tpu:he(ie()),rpc:he(ie()),version:he(ie())}),j_=te({votePubkey:ie(),nodePubkey:ie(),activatedStake:H(),epochVoteAccount:us(),epochCredits:fe(J1([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:he(H())}),I9=ct(te({current:fe(j_),delinquent:fe(j_)})),C9=vr([Ht("processed"),Ht("confirmed"),Ht("finalized")]),M9=te({slot:H(),confirmations:he(H()),err:ya,confirmationStatus:Ae(C9)}),A9=Xt(fe(he(M9))),k9=ct(H()),hT=te({accountKey:cn,writableIndexes:fe(H()),readonlyIndexes:fe(H())}),oS=te({signatures:fe(ie()),message:te({accountKeys:fe(ie()),header:te({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:fe(te({accounts:fe(H()),data:ie(),programIdIndex:H()})),recentBlockhash:ie(),addressTableLookups:Ae(fe(hT))})}),dT=te({pubkey:cn,signer:us(),writable:us(),source:Ae(vr([Ht("transaction"),Ht("lookupTable")]))}),pT=te({accountKeys:fe(dT),signatures:fe(ie())}),gT=te({parsed:Ef(),program:ie(),programId:cn}),mT=te({accounts:fe(cn),data:ie(),programId:cn}),T9=vr([mT,gT]),R9=vr([te({parsed:Ef(),program:ie(),programId:ie()}),te({accounts:fe(ie()),data:ie(),programId:ie()})]),yT=bf(T9,R9,t=>"accounts"in t?oe(t,mT):oe(t,gT)),vT=te({signatures:fe(ie()),message:te({accountKeys:fe(dT),instructions:fe(yT),recentBlockhash:ie(),addressTableLookups:Ae(he(fe(hT)))})}),Gd=te({accountIndex:H(),mint:ie(),owner:Ae(ie()),uiTokenAmount:rv}),wT=te({writable:fe(cn),readonly:fe(cn)}),xg=te({err:ya,fee:H(),innerInstructions:Ae(he(fe(te({index:H(),instructions:fe(te({accounts:fe(H()),data:ie(),programIdIndex:H()}))})))),preBalances:fe(H()),postBalances:fe(H()),logMessages:Ae(he(fe(ie()))),preTokenBalances:Ae(he(fe(Gd))),postTokenBalances:Ae(he(fe(Gd))),loadedAddresses:Ae(wT),computeUnitsConsumed:Ae(H())}),aS=te({err:ya,fee:H(),innerInstructions:Ae(he(fe(te({index:H(),instructions:fe(yT)})))),preBalances:fe(H()),postBalances:fe(H()),logMessages:Ae(he(fe(ie()))),preTokenBalances:Ae(he(fe(Gd))),postTokenBalances:Ae(he(fe(Gd))),loadedAddresses:Ae(wT),computeUnitsConsumed:Ae(H())}),Ju=vr([Ht(0),Ht("legacy")]),va=te({pubkey:ie(),lamports:H(),postBalance:he(H()),rewardType:he(ie()),commission:Ae(he(H()))}),N9=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:fe(te({transaction:oS,meta:he(xg),version:Ae(Ju)})),rewards:Ae(fe(va)),blockTime:he(H()),blockHeight:he(H())}))),O9=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:Ae(fe(va)),blockTime:he(H()),blockHeight:he(H())}))),L9=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:fe(te({transaction:pT,meta:he(xg),version:Ae(Ju)})),rewards:Ae(fe(va)),blockTime:he(H()),blockHeight:he(H())}))),D9=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:fe(te({transaction:vT,meta:he(aS),version:Ae(Ju)})),rewards:Ae(fe(va)),blockTime:he(H()),blockHeight:he(H())}))),P9=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:fe(te({transaction:pT,meta:he(aS),version:Ae(Ju)})),rewards:Ae(fe(va)),blockTime:he(H()),blockHeight:he(H())}))),B9=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:Ae(fe(va)),blockTime:he(H()),blockHeight:he(H())}))),F9=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:fe(te({transaction:oS,meta:he(xg)})),rewards:Ae(fe(va)),blockTime:he(H())}))),V_=ct(he(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),signatures:fe(ie()),blockTime:he(H())}))),Z0=ct(he(te({slot:H(),meta:xg,blockTime:Ae(he(H())),transaction:oS,version:Ae(Ju)}))),oh=ct(he(te({slot:H(),transaction:vT,meta:he(aS),blockTime:Ae(he(H())),version:Ae(Ju)}))),$9=Xt(te({blockhash:ie(),feeCalculator:te({lamportsPerSignature:H()})})),U9=Xt(te({blockhash:ie(),lastValidBlockHeight:H()})),z9=te({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),j9=ct(fe(z9)),V9=Xt(he(te({feeCalculator:te({lamportsPerSignature:H()})}))),H9=ct(ie()),q9=ct(ie()),W9=te({err:ya,logs:fe(ie()),signature:ie()}),K9=te({result:_g(W9),subscription:H()}),G9={"solana-client":"js/0.0.0-development"};class Q9{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:g,config:S}=jt(d),w=this._buildArgs([],g,void 0,S),C=B_(w);return c[C]=c[C]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",w),N=oe(x,ct(H()));if("error"in N)throw new _e(N.error,"failed to get block height information");return N.result}finally{delete c[C]}})(),await c[C]}})();let r,i,s,o,a,u;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,u=n.httpAgent),this._rpcEndpoint=DU(e),this._rpcWsEndpoint=r||OU(e),this._rpcClient=GU(e,i,s,o,a,u),this._rpcRequest=QU(this._rpcClient),this._rpcBatchRequest=YU(this._rpcClient),this._rpcWebSocket=new kU(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=oe(o,Xt(H()));if("error"in a)throw new _e(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=oe(n,ct(he(H())));if("error"in r)throw new _e(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=oe(e,ct(H()));if("error"in n)throw new _e(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=oe(e,r9);if("error"in n)throw new _e(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=oe(r,i9);if("error"in i)throw new _e(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=oe(i,Xt(rv));if("error"in s)throw new _e(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=oe(i,Xt(rv));if("error"in s)throw new _e(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=jt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),c=oe(u,o9);if("error"in c)throw new _e(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=oe(o,a9);if("error"in a)throw new _e(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=oe(i,u9);if("error"in s)throw new _e(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=oe(i,s9);if("error"in s)throw new _e(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=oe(o,Xt(he(jc)));if("error"in a)throw new _e(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=oe(o,Xt(he(sv)));if("error"in a)throw new _e(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=jt(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=oe(a,Xt(fe(he(sv))));if("error"in u)throw new _e(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=jt(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=oe(a,Xt(fe(he(jc))));if("error"in u)throw new _e(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=jt(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=oe(a,ct(h9));if("error"in u)throw new _e(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=jt(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),u=await this._rpcRequest("getProgramAccounts",a),c=fe(l9),d=o.withContext===!0?oe(u,Xt(c)):oe(u,ct(c));if("error"in d)throw new _e(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=oe(o,ct(fe(f9)));if("error"in a)throw new _e(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=mn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ft(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((u,c)=>{try{r=this.onSignature(n,(g,S)=>{r=void 0;const w={context:S,value:g};u({__type:Si.PROCESSED,response:w})},e);const d=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,S=>{S==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(n);if(s||g==null)return;const{context:S,value:w}=g;if(w!=null)if(w!=null&&w.err)c(w.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(w.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(w.confirmationStatus==="processed"||w.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:Si.PROCESSED,response:{context:S,value:w}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(g=>{const S=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let w=await S();if(!s){for(;w<=r;)if(await ka(1e3),s||(w=await S(),s))return;g({__type:Si.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let d;try{const g=await Promise.race([c,u,o]);if(g.__type===Si.PROCESSED)d=g.response;else throw new oT(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(w=>{let C=s,x=null;const N=async()=>{try{const{context:T,value:k}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=T.slot,k==null?void 0:k.nonce}catch{return C}};(async()=>{if(C=await N(),!a)for(;;){if(s!==C){w({__type:Si.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await ka(2e3),a||(C=await N(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(n);let S;try{const w=await Promise.race([g,d,u]);if(w.__type===Si.PROCESSED)S=w.response;else{let C;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(w.slotInWhichNonceDidAdvance??r)){await ka(400);continue}C=x;break}if(C!=null&&C.value){const x=e||"finalized",{confirmationStatus:N}=C.value;switch(x){case"processed":case"recent":if(N!=="processed"&&N!=="confirmed"&&N!=="finalized")throw new Ll(o);break;case"confirmed":case"single":case"singleGossip":if(N!=="confirmed"&&N!=="finalized")throw new Ll(o);break;case"finalized":case"max":case"root":if(N!=="finalized")throw new Ll(o);break;default:(T=>{})(x)}S={context:C.context,value:{err:C.value.err}}}else throw new Ll(o)}}finally{a=!0,c()}return S}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(u=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:Si.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const u=await Promise.race([o,i]);if(u.__type===Si.PROCESSED)a=u.response;else throw new aT(n,u.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=oe(e,ct(fe(x9)));if("error"in n)throw new _e(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=oe(r,I9);if("error"in i)throw new _e(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=oe(s,ct(H()));if("error"in o)throw new _e(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=oe(s,ct(ie()));if("error"in o)throw new _e(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=oe(i,ct(fe(cn)));if("error"in s)throw new _e(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Ft(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=oe(i,A9);if("error"in s)throw new _e(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=oe(s,ct(H()));if("error"in o)throw new _e(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=oe(r,ZU);if("error"in i)throw new _e(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=jt(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=oe(a,FU);if("error"in u)throw new _e(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=oe(e,XU);if("error"in n)throw new _e(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=oe(s,e9);if("error"in o)throw new _e(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=oe(e,t9);if("error"in n)throw new _e(n.error,"failed to get epoch schedule");const r=n.result;return new MU(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=oe(e,n9);if("error"in n)throw new _e(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=oe(i,k9);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",n),i=oe(r,$9);if("error"in i)throw new _e(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=oe(n,j9);if("error"in r)throw new _e(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=oe(i,V9);if("error"in s)throw new _e(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Cn(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=oe(s,Xt(he(H())));if("error"in o)throw new _e(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=this._buildArgs(n!=null&&n.length?[n]:[]),i=await this._rpcRequest("getRecentPrioritizationFees",r),s=oe(i,JU);if("error"in s)throw new _e(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=oe(s,U9);if("error"in o)throw new _e(o.error,"failed to get latest blockhash");return o.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=oe(e,ct(WU));if("error"in n)throw new _e(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=oe(e,ct(ie()));if("error"in n)throw new _e(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(o,L9);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(o,O9);if("error"in a)throw a.error;return a.result}default:{const a=oe(o,N9);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:c,meta:d,version:g})=>({meta:d,transaction:{...c,message:Y0(g,c.message)},version:g}))}:null}}}catch(a){throw new _e(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=oe(o,P9);if("error"in a)throw a.error;return a.result}case"none":{const a=oe(o,B9);if("error"in a)throw a.error;return a.result}default:{const a=oe(o,D9);if("error"in a)throw a.error;return a.result}}}catch(a){throw new _e(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...u}=e;r=a,n=u}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=oe(s,KU);if("error"in o)throw new _e(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=oe(o,Z0);if("error"in a)throw new _e(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:Y0(u.version,u.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=oe(o,oh);if("error"in a)throw new _e(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=jt(n),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const c=oe(u,oh);if("error"in c)throw new _e(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=jt(n),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const c=oe(u,Z0);if("error"in c)throw new _e(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:Y0(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedBlock",r),s=oe(i,F9);if("error"in s)throw new _e(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:c})=>{const d=new ls(u.message);return{meta:c,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:c})=>({meta:c,transaction:hr.populate(u.message,u.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=oe(s,ct(fe(H())));if("error"in o)throw new _e(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=oe(i,V_);if("error"in s)throw new _e(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=oe(i,V_);if("error"in s)throw new _e(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedTransaction",r),s=oe(i,Z0);if("error"in s)throw new _e(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ls(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:hr.populate(a,u)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=oe(i,oh);if("error"in s)throw new _e(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=oe(o,oh);if("error"in a)throw new _e(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const u=await this.getConfirmedBlockSignatures(n,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=oe(s,d9);if("error"in o)throw new _e(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=oe(s,p9);if("error"in o)throw new _e(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new U_({key:e,state:U_.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=iS.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=oe(r,H9);if("error"in i)throw new _e(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ka(100);const r=Date.now()-this._blockhashInfo.lastFetch>=LU;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await ka(wU/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=oe(s,Xt(H()));if("error"in o)throw new _e(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),N=Ve.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const T=n||{};T.encoding="base64","commitment"in T||(T.commitment=this.commitment);const k=[N,T],M=await this._rpcRequest("simulateTransaction",k),B=oe(M,z_);if("error"in B)throw new Error("failed to simulate transaction: "+B.error.message);return B.result}let i;if(e instanceof hr){let C=e;i=new hr,i.feePayer=C.feePayer,i.instructions=e.instructions,i.nonceInfo=C.nonceInfo,i.signatures=C.signatures}else i=hr.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let C=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(C);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const N=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(N)&&!this._blockhashInfo.transactionSignatures.includes(N)){this._blockhashInfo.simulatedSignatures.push(N);break}else C=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const C=(Array.isArray(r)?r:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:C}}s&&(d.sigVerify=!0);const g=[c,d],S=await this._rpcRequest("simulateTransaction",g),w=oe(S,z_);if("error"in w){let C;if("data"in w.error&&(C=w.error.data.logs,C&&Array.isArray(C))){const x=`
    `,N=x+C.join(x);console.error(w.error.message,N)}throw new F_("failed to simulate transaction: "+w.error.message,C)}return w.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=Cn(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),u=oe(a,q9);if("error"in u){let c;throw"data"in u.error&&(c=u.error.data.logs),new F_("failed to send transaction: "+u.error.message,c)}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=oe(e,g9);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=B_([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Ft(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=oe(e,y9);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=oe(e,K9);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=oe(e,w9);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=oe(e,E9);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=oe(e,b9);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,c)=>{n(u,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=oe(e,_9);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Se([Ce("instruction"),Fu("recentSlot"),bt("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([Ce("instruction")])},ExtendLookupTable:{index:2,layout:Se([Ce("instruction"),Fu(),Qn(ft(),Qo(Ce(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([Ce("instruction")])},CloseLookupTable:{index:4,layout:Se([Ce("instruction")])}});new xe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Se([bt("instruction"),Ce("units"),Ce("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([bt("instruction"),Ce("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([bt("instruction"),Ce("units")])},SetComputeUnitPrice:{index:3,layout:Se([bt("instruction"),Fu("microLamports")])}});new xe("ComputeBudget111111111111111111111111111111");Se([bt("numSignatures"),bt("padding"),zr("signatureOffset"),zr("signatureInstructionIndex"),zr("publicKeyOffset"),zr("publicKeyInstructionIndex"),zr("messageDataOffset"),zr("messageDataSize"),zr("messageInstructionIndex")]);new xe("Ed25519SigVerify111111111111111111111111111");tS.utils.isValidPrivateKey;tS.getPublicKey;Se([bt("numSignatures"),zr("signatureOffset"),bt("signatureInstructionIndex"),zr("ethAddressOffset"),bt("ethAddressInstructionIndex"),zr("messageDataOffset"),zr("messageDataSize"),bt("messageInstructionIndex"),Lt(20,"ethAddress"),Lt(64,"signature"),bt("recoveryId")]);new xe("KeccakSecp256k11111111111111111111111111111");new xe("StakeConfig11111111111111111111111111111111");class H_{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}H_.default=new H_(0,0,xe.default);Object.freeze({Initialize:{index:0,layout:Se([Ce("instruction"),fU(),hU()])},Authorize:{index:1,layout:Se([Ce("instruction"),ft("newAuthorized"),Ce("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([Ce("instruction")])},Split:{index:3,layout:Se([Ce("instruction"),_r("lamports")])},Withdraw:{index:4,layout:Se([Ce("instruction"),_r("lamports")])},Deactivate:{index:5,layout:Se([Ce("instruction")])},Merge:{index:7,layout:Se([Ce("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([Ce("instruction"),ft("newAuthorized"),Ce("stakeAuthorizationType"),qa("authoritySeed"),ft("authorityOwner")])}});new xe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Se([Ce("instruction"),dU()])},Authorize:{index:1,layout:Se([Ce("instruction"),ft("newAuthorized"),Ce("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([Ce("instruction"),_r("lamports")])},AuthorizeWithSeed:{index:10,layout:Se([Ce("instruction"),pU()])}});new xe("Vote111111111111111111111111111111111111111");new xe("Va1idator1nfo111111111111111111111111111111");te({name:ie(),website:Ae(ie()),details:Ae(ie()),keybaseUsername:Ae(ie())});new xe("Vote111111111111111111111111111111111111111");Se([ft("nodePubkey"),ft("authorizedWithdrawer"),bt("commission"),xn(),Qn(Se([xn("slot"),Ce("confirmationCount")]),Qo(Ce(),-8),"votes"),bt("rootSlotValid"),xn("rootSlot"),xn(),Qn(Se([xn("epoch"),ft("authorizedVoter")]),Qo(Ce(),-8),"authorizedVoters"),Se([Qn(Se([ft("authorizedPubkey"),xn("epochOfLastAuthorizedSwitch"),xn("targetEpoch")]),32,"buf"),xn("idx"),bt("isEmpty")],"priorVoters"),xn(),Qn(Se([xn("epoch"),xn("credits"),xn("prevCredits")]),Qo(Ce(),-8),"epochCredits"),Se([xn("slot"),xn("timestamp")],"lastTimestamp")]);const q_={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Y9(t,e){const n=e===!1?"http":"https";if(!t)return q_[n].devnet;const r=q_[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}const ST=$.createContext({});function uS(){return $.useContext(ST)}const Z9=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=$.useMemo(()=>new Q9(e,n),[e,n]);return Q.createElement(ST.Provider,{value:{connection:r}},t)};var X9=eS();const J9=cs(X9);class Dn extends Error{constructor(e,n){super(e),this.error=n}}class Zs extends Dn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class ez extends Dn{constructor(){super(...arguments),this.name="WalletLoadError"}}class Xl extends Dn{constructor(){super(...arguments),this.name="WalletConfigError"}}class ua extends Dn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class xf extends Dn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Ig extends Dn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class hu extends Dn{constructor(){super(...arguments),this.name="WalletAccountError"}}class Xs extends Dn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class tn extends Dn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Yi extends Dn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Vc extends Dn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class ir extends Dn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var Le;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Le||(Le={}));class ET extends J9{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new tn;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function lS(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const s of e)s()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function ov(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Ts(t){return"version"in t}class tz extends ET{async sendTransaction(e,n,r={}){let i=!0;try{if(Ts(e)){if(!this.supportedTransactionVersions)throw new Yi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Yi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof ir?(i=!1,s):new Yi(s==null?void 0:s.message,s)}}else try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(s){throw s instanceof ir?(i=!1,s):new Yi(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const r of e)if(Ts(r)){if(!this.supportedTransactionVersions)throw new ir("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ir(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class Cg extends tz{}const vs="solana:signAndSendTransaction",ah="solana:signMessage",qn="solana:signTransaction",bT="standard:connect",W_="standard:disconnect",_T="standard:events";function nz(t){return bT in t.features&&_T in t.features&&(vs in t.features||qn in t.features)}var av;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(av||(av={}));class K_ extends Dn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const rz=[],Mg={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(t){console.error(Ei("get","select"))},connect(){return Promise.reject(console.error(Ei("get","connect")))},disconnect(){return Promise.reject(console.error(Ei("get","disconnect")))},sendTransaction(t,e,n){return Promise.reject(console.error(Ei("get","sendTransaction")))},signTransaction(t){return Promise.reject(console.error(Ei("get","signTransaction")))},signAllTransactions(t){return Promise.reject(console.error(Ei("get","signAllTransactions")))},signMessage(t){return Promise.reject(console.error(Ei("get","signMessage")))}};Object.defineProperty(Mg,"wallets",{get(){return console.error(Ei("read","wallets")),rz}});Object.defineProperty(Mg,"wallet",{get(){return console.error(Ei("read","wallet")),null}});Object.defineProperty(Mg,"publicKey",{get(){return console.error(Ei("read","publicKey")),null}});function Ei(t,e){return`You have tried to  ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext`}const xT=$.createContext(Mg);function wa(){return $.useContext(xT)}function iz(t,e){const n=$.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),r=n[0],i=$.useRef(!0);return $.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,t]),n}const Js={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class eo extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class IT extends Error{constructor(...e){const[n,r,i,s]=e;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Mr(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(g){o(g)}}function u(d){try{c(r.throw(d))}catch(g){o(g)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function sz(t,e){return Mr(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}const Wa=4;function oz(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Wa);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}function az(){return Mr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function uz(){return Mr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}const uv=12;function lz(t,e){return Mr(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=oz(t.id),i=new Uint8Array(uv);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(CT(r,i),e,new TextEncoder().encode(n)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function cz(t,e){return Mr(this,void 0,void 0,function*(){const n=t.slice(0,Wa),r=t.slice(Wa,Wa+uv),i=t.slice(Wa+uv),s=yield crypto.subtle.decrypt(CT(n,r),e,i),o=fz().decode(s),a=JSON.parse(o);if(Object.hasOwnProperty.call(a,"error"))throw new IT(a.id,a.error.code,a.error.message);return a})}function CT(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let X0;function fz(){return X0===void 0&&(X0=new TextDecoder("utf-8")),X0}function hz(t,e,n){return Mr(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t,{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function dz(){return MT(49152+Math.floor(Math.random()*(65535-49152+1)))}function MT(t){if(t<49152||t>65535)throw new eo(Js.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function pz(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function gz(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const mz="solana-wallet";function G_(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function yz(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new eo(Js.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${mz}:/`));const r=t.startsWith("/")?t:[...G_(n.pathname),...G_(t)].join("/");return new URL(r,n)}function vz(t,e,n){return Mr(this,void 0,void 0,function*(){const r=MT(e),i=yield crypto.subtle.exportKey("raw",t),s=pz(i),o=yz("v1/associate/local",n);return o.searchParams.set("association",gz(s)),o.searchParams.set("port",`${r}`),o})}const Qd={Firefox:0,Other:1};function wz(){return navigator.userAgent.indexOf("Firefox/")!==-1?Qd.Firefox:Qd.Other}function Sz(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},2e3)})}let _l=null;function Ez(t){_l==null&&(_l=document.createElement("iframe"),_l.style.display="none",document.body.appendChild(_l)),_l.contentWindow.location.href=t.toString()}function bz(t,e){return Mr(this,void 0,void 0,function*(){const n=dz(),r=yield vz(t,n,e);if(r.protocol==="https:")window.location.assign(r);else try{const i=wz();switch(i){case Qd.Firefox:Ez(r);break;case Qd.Other:{const s=Sz();window.location.assign(r),yield s;break}default:}}catch{throw new eo(Js.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return n})}const Q_={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},_z="com.solana.mobilewalletadapter.v1";function xz(){if(typeof window>"u"||window.isSecureContext!==!0)throw new eo(Js.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Iz(t){let e;try{e=new URL(t)}catch{throw new eo(Js.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new eo(Js.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Cz(t){return new DataView(t).getUint32(0,!1)}function Mz(t,e){return Mr(this,void 0,void 0,function*(){xz();const n=yield az(),r=yield bz(n.publicKey,e==null?void 0:e.baseUri),i=`ws://localhost:${r}/solana-wallet`;let s;const o=(()=>{const d=[...Q_.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,u=0,c={__type:"disconnected"};return new Promise((d,g)=>{let S;const w={},C=()=>Mr(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}const{associationKeypair:L}=c;S.removeEventListener("open",C);const P=yield uz();S.send(yield sz(P.publicKey,L.privateKey)),c={__type:"hello_req_sent",associationPublicKey:L.publicKey,ecdhPrivateKey:P.privateKey}}),x=L=>{L.wasClean?c={__type:"disconnected"}:g(new eo(Js.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${L.code}: ${L.reason}).`,{closeEvent:L})),k()},N=L=>Mr(this,void 0,void 0,function*(){k(),Date.now()-s>=Q_.timeoutMs?g(new eo(Js.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise(P=>{const F=o();M=window.setTimeout(P,F)}),B())}),T=L=>Mr(this,void 0,void 0,function*(){const P=yield L.data.arrayBuffer();switch(c.__type){case"connected":try{const F=P.slice(0,Wa),U=Cz(F);if(U!==u+1)throw new Error("Encrypted message has invalid sequence number");u=U;const ee=yield cz(P,c.sharedSecret),Z=w[ee.id];delete w[ee.id],Z.resolve(ee.result)}catch(F){if(F instanceof IT){const U=w[F.jsonRpcMessageId];delete w[F.jsonRpcMessageId],U.reject(F)}else throw F}break;case"hello_req_sent":{const F=yield hz(P,c.associationPublicKey,c.ecdhPrivateKey);c={__type:"connected",sharedSecret:F};const U=new Proxy({},{get(ee,Z){if(ee[Z]==null){const Y=Z.toString().replace(/[A-Z]/g,ce=>`_${ce.toLowerCase()}`).toLowerCase();ee[Z]=function(ce){return Mr(this,void 0,void 0,function*(){const A=a++;return S.send(yield lz({id:A,jsonrpc:"2.0",method:Y,params:ce??{}},F)),new Promise((l,h)=>{w[A]={resolve(p){switch(Z){case"authorize":case"reauthorize":{const{wallet_uri_base:y}=p;if(y!=null)try{Iz(y)}catch(m){h(m);return}break}}l(p)},reject:h}})})}}return ee[Z]},defineProperty(){return!1},deleteProperty(){return!1}});try{d(yield t(U))}catch(ee){g(ee)}finally{k(),S.close()}break}}});let k,M;const B=()=>{k&&k(),c={__type:"connecting",associationKeypair:n},s===void 0&&(s=Date.now()),S=new WebSocket(i,[_z]),S.addEventListener("open",C),S.addEventListener("close",x),S.addEventListener("error",N),S.addEventListener("message",T),k=()=>{window.clearTimeout(M),S.removeEventListener("open",C),S.removeEventListener("close",x),S.removeEventListener("error",N),S.removeEventListener("message",T)}};B()})})}function Az(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var C=0,x=0,N=0,T=w.length;N!==T&&w[N]===0;)N++,C++;for(var k=(T-N)*c+1>>>0,M=new Uint8Array(k);N!==T;){for(var B=w[N],L=0,P=k-1;(B!==0||L<x)&&P!==-1;P--,L++)B+=256*M[P]>>>0,M[P]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");x=L,N++}for(var F=k-x;F!==k&&M[F]===0;)F++;for(var U=a.repeat(C);F<k;++F)U+=t.charAt(M[F]);return U}function g(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var C=0,x=0,N=0;w[C]===a;)x++,C++;for(var T=(w.length-C)*u+1>>>0,k=new Uint8Array(T);w[C];){var M=e[w.charCodeAt(C)];if(M===255)return;for(var B=0,L=T-1;(M!==0||B<N)&&L!==-1;L--,B++)M+=o*k[L]>>>0,k[L]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");N=B,C++}for(var P=T-N;P!==T&&k[P]===0;)P++;for(var F=new Uint8Array(x+(T-P)),U=x;P!==T;)F[U++]=k[P++];return F}function S(w){var C=g(w);if(C)return C;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:S}}var kz=Az;const Tz=kz,Rz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Nz=Tz(Rz);const Oz=cs(Nz);function J0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(g){o(g)}}function u(d){try{c(r.throw(d))}catch(g){o(g)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function AT(t){return window.btoa(String.fromCharCode.call(null,...t))}function em(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Y_(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return AT(e)}function Lz(t){const n=t[0]*Bu+1;return rS.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?hr.from(t):Uc.deserialize(t)}function Dz(t,e){return uh(this,void 0,void 0,function*(){return yield Mz(r=>{const i=new Proxy({},{get(s,o){if(s[o]==null)switch(o){case"signAndSendTransactions":s[o]=function(a){var{minContextSlot:u,transactions:c}=a,d=J0(a,["minContextSlot","transactions"]);return uh(this,void 0,void 0,function*(){const g=c.map(Y_),{signatures:S}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),u!=null?{options:{min_context_slot:u}}:null),{payloads:g}));return S.map(em).map(Oz.encode)})};break;case"signMessages":s[o]=function(a){var{payloads:u}=a,c=J0(a,["payloads"]);return uh(this,void 0,void 0,function*(){const d=u.map(AT),{signed_payloads:g}=yield r.signMessages(Object.assign(Object.assign({},c),{payloads:d}));return g.map(em)})};break;case"signTransactions":s[o]=function(a){var{transactions:u}=a,c=J0(a,["transactions"]);return uh(this,void 0,void 0,function*(){const d=u.map(Y_),{signed_payloads:g}=yield r.signTransactions(Object.assign(Object.assign({},c),{payloads:d}));return g.map(em).map(Lz)})};break;default:{s[o]=r[o];break}}return s[o]},defineProperty(){return!1},deleteProperty(){return!1}});return t(i)},e)})}function _t(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(g){o(g)}}function u(d){try{c(r.throw(d))}catch(g){o(g)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function Pz(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Bz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const Es="Mobile Wallet Adapter",Fz=64;function $z(t){const e=Pz(t);return new xe(e)}function Z_(t){return"version"in t}class Uz extends Cg{constructor(e){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=Es,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=Bz()?Le.Loadable:Le.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._cluster=e.cluster,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==Le.Unsupported&&this._authorizationResultCache.get().then(n=>{n&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=$z(this._selectedAddress)}catch(e){throw new Xs(e instanceof Error&&(e==null?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==Le.Installed&&this.emit("readyStateChange",this._readyState=Le.Installed)}runWithGuard(e){return _t(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return _t(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return _t(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){if(this._readyState!==Le.Installed&&this._readyState!==Le.Loadable)throw new Zs;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new ua(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}connect(){return _t(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){if(this._readyState!==Le.Installed&&this._readyState!==Le.Loadable)throw new Zs;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();if(e){this.handleAuthorizationResult(e);return}yield this.transact(n=>_t(this,void 0,void 0,function*(){const r=yield n.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}))}catch(e){throw new ua(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}handleAuthorizationResult(e){var n;return _t(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((n=this._authorizationResult)===null||n===void 0?void 0:n.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some((i,s)=>i.address!==e.accounts[s].address);if(this._authorizationResult=e,this.declareWalletAsInstalled(),r){const i=yield this._addressSelector.select(e.accounts.map(({address:s})=>s));i!==this._selectedAddress&&(this._selectedAddress=i,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(e,n){return _t(this,void 0,void 0,function*(){try{const r=yield e.reauthorize({auth_token:n,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new xf(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return _t(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(e){var n;return _t(this,void 0,void 0,function*(){const r=(n=this._authorizationResult)===null||n===void 0?void 0:n.wallet_uri_base,i=r?{baseUri:r}:void 0,s=this._connectionGeneration;try{return yield Dz(e,i)}catch(o){throw this._connectionGeneration!==s&&(yield new Promise(()=>{})),o instanceof Error&&o.name==="SolanaMobileWalletAdapterError"&&o.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),o}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new tn;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return _t(this,void 0,void 0,function*(){const{authToken:n}=this.assertIsAuthorized();try{return yield this.transact(r=>_t(this,void 0,void 0,function*(){return yield this.performReauthorization(r,n),yield r.signTransactions({transactions:e})}))}catch(r){throw new ir(r==null?void 0:r.message,r)}})}sendTransaction(e,n,r){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){const{authToken:i}=this.assertIsAuthorized(),s=r==null?void 0:r.minContextSlot;try{return yield this.transact(o=>_t(this,void 0,void 0,function*(){function a(){let g;switch(n.commitment){case"confirmed":case"finalized":case"processed":g=n.commitment;break;default:g="finalized"}let S;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":S=r.preflightCommitment;break;case void 0:S=g;default:S="finalized"}return(S==="finalized"?2:S==="confirmed"?1:0)<(g==="finalized"?2:g==="confirmed"?1:0)?S:g}const[u,c,d]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,i),Z_(e)?null:(()=>_t(this,void 0,void 0,function*(){var g;if(e.feePayer||(e.feePayer=(g=this.publicKey)!==null&&g!==void 0?g:void 0),e.recentBlockhash==null){const{blockhash:S}=yield n.getLatestBlockhash({commitment:a()});e.recentBlockhash=S}}))()]);if(u.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:s,transactions:[e]}))[0];{const[g]=yield o.signTransactions({transactions:[e]});if(Z_(g))return yield n.sendTransaction(g);{const S=g.serialize();return yield n.sendRawTransaction(S,Object.assign(Object.assign({},r),{preflightCommitment:a()}))}}}))}catch(o){throw new Yi(o==null?void 0:o.message,o)}}))})}signTransaction(e){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){const[n]=yield this.performSignTransactions([e]);return n}))})}signAllTransactions(e){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){return yield this.performSignTransactions(e)}))})}signMessage(e){return _t(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>_t(this,void 0,void 0,function*(){const{authToken:n,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(i=>_t(this,void 0,void 0,function*(){yield this.performReauthorization(i,n);const[s]=yield i.signMessages({addresses:[r],payloads:[e]});return s.slice(-Fz)}))}catch(i){throw new Vc(i==null?void 0:i.message,i)}}))})}}function zz(){return{select(t){return _t(this,void 0,void 0,function*(){return t[0]})}}}const tm="SolanaMobileWalletAdapterDefaultAuthorizationCache";function jz(){let t;try{t=window.localStorage}catch{}return{clear(){return _t(this,void 0,void 0,function*(){if(t)try{t.removeItem(tm)}catch{}})},get(){return _t(this,void 0,void 0,function*(){if(t)try{return JSON.parse(t.getItem(tm))||void 0}catch{}})},set(e){return _t(this,void 0,void 0,function*(){if(t)try{t.setItem(tm,JSON.stringify(e))}catch{}})}}}function Vz(t){return _t(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(t.url)})}function Hz(){return Vz}function nm(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const X_="solana:mainnet",qz="solana:devnet",Wz="solana:testnet",Kz="solana:localnet",Gz="https://api.mainnet-beta.solana.com";function Qz(t){return t.includes(Gz)?X_:/\bdevnet\b/i.test(t)?qz:/\btestnet\b/i.test(t)?Wz:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Kz:X_}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;function Yz(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var ur=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Be=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},oi,Mi,Ka,Ta,Ra,Jl,Ot,Bh,Fh,Yd,$h,lv,J_,ex,tx;class Zz extends ET{constructor({wallet:e}){super(),oi.add(this),Mi.set(this,void 0),Ka.set(this,void 0),Ta.set(this,void 0),Ra.set(this,void 0),Jl.set(this,void 0),Ot.set(this,void 0),Bh.set(this,void 0),Fh.set(this,typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.Installed),lv.set(this,r=>{if(Be(this,Ra,"f")||!Be(this,Mi,"f")||!Be(this,Ka,"f")||!("accounts"in r))return;const i=Be(this,Ot,"f").accounts[0];if(!i){Be(this,oi,"m",$h).call(this),this.emit("error",new xf),this.emit("disconnect");return}if(i===Be(this,Mi,"f"))return;let s;try{s=new xe(i.publicKey)}catch(o){Be(this,oi,"m",$h).call(this),this.emit("error",new Xs(o==null?void 0:o.message)),this.emit("disconnect");return}Be(this,oi,"m",Yd).call(this,i,s),this.emit("connect",s)}),ur(this,Ot,e,"f");const n=vs in e.features?e.features[vs].supportedTransactionVersions:e.features[qn].supportedTransactionVersions;ur(this,Bh,Yz(n,["legacy"])?null:new Set(n),"f"),ur(this,Mi,null,"f"),ur(this,Ka,null,"f"),ur(this,Ta,!1,"f"),ur(this,Ra,!1,"f")}get supportedTransactionVersions(){return Be(this,Bh,"f")}get name(){return Be(this,Ot,"f").name}get icon(){return Be(this,Ot,"f").icon}get url(){return"https://github.com/solana-labs/wallet-standard"}get publicKey(){return Be(this,Ka,"f")}get connecting(){return Be(this,Ta,"f")}get readyState(){return Be(this,Fh,"f")}get wallet(){return Be(this,Ot,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(Be(this,Fh,"f")!==Le.Installed)throw new Zs;if(ur(this,Ta,!0,"f"),!Be(this,Ot,"f").accounts.length)try{await Be(this,Ot,"f").features[bT].connect()}catch(r){throw new ua(r==null?void 0:r.message,r)}if(!Be(this,Ot,"f").accounts.length)throw new hu;const e=Be(this,Ot,"f").accounts[0];let n;try{n=new xe(e.publicKey)}catch(r){throw new Xs(r==null?void 0:r.message,r)}ur(this,Jl,Be(this,Ot,"f").features[_T].on("change",Be(this,lv,"f")),"f"),Be(this,oi,"m",Yd).call(this,e,n),this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{ur(this,Ta,!1,"f")}}async disconnect(){if(W_ in Be(this,Ot,"f").features)try{ur(this,Ra,!0,"f"),await Be(this,Ot,"f").features[W_].disconnect()}catch(e){this.emit("error",new Ig(e==null?void 0:e.message,e))}finally{ur(this,Ra,!1,"f")}Be(this,oi,"m",$h).call(this),this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=Be(this,Mi,"f");if(!i)throw new tn;let s;if(vs in Be(this,Ot,"f").features)if(i.features.includes(vs))s=vs;else if(qn in Be(this,Ot,"f").features&&i.features.includes(qn))s=qn;else throw new hu;else if(qn in Be(this,Ot,"f").features){if(!i.features.includes(qn))throw new hu;s=qn}else throw new Xl;const o=Qz(n.rpcEndpoint);if(!i.chains.includes(o))throw new Yi;try{const{signers:a,...u}=r;let c;if(Ts(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,u),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===vs){const[d]=await Be(this,Ot,"f").features[vs].signAndSendTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:nm(u.preflightCommitment||n.commitment),skipPreflight:u.skipPreflight,maxRetries:u.maxRetries,minContextSlot:u.minContextSlot}});return mn.encode(d.signature)}else{const[d]=await Be(this,Ot,"f").features[qn].signTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:nm(u.preflightCommitment||n.commitment),minContextSlot:u.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...u,preflightCommitment:nm(u.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Dn?a:new Yi(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}Mi=new WeakMap,Ka=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Jl=new WeakMap,Ot=new WeakMap,Bh=new WeakMap,Fh=new WeakMap,lv=new WeakMap,oi=new WeakSet,Yd=function(e,n){ur(this,Mi,e,"f"),ur(this,Ka,n,"f"),e!=null&&e.features.includes(qn)?(this.signTransaction=Be(this,oi,"m",J_),this.signAllTransactions=Be(this,oi,"m",ex)):(delete this.signTransaction,delete this.signAllTransactions),e!=null&&e.features.includes(ah)?this.signMessage=Be(this,oi,"m",tx):delete this.signMessage},$h=function(){const e=Be(this,Jl,"f");e&&(ur(this,Jl,void 0,"f"),e()),Be(this,oi,"m",Yd).call(this,null,null)},J_=async function(e){try{const n=Be(this,Mi,"f");if(!n)throw new tn;if(!(qn in Be(this,Ot,"f").features))throw new Xl;if(!n.features.includes(qn))throw new hu;try{const i=(await Be(this,Ot,"f").features[qn].signTransaction({account:n,transaction:Ts(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Ts(e)?Uc.deserialize(i):hr.from(i)}catch(r){throw r instanceof Dn?r:new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},ex=async function(e){try{const n=Be(this,Mi,"f");if(!n)throw new tn;if(!(qn in Be(this,Ot,"f").features))throw new Xl;if(!n.features.includes(qn))throw new ir;try{const r=await Be(this,Ot,"f").features[qn].signTransaction(...e.map(i=>({account:n,transaction:Ts(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=r[s].signedTransaction;return Ts(i)?Uc.deserialize(o):hr.from(o)})}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},tx=async function(e){try{const n=Be(this,Mi,"f");if(!n)throw new tn;if(!(ah in Be(this,Ot,"f").features))throw new Xl;if(!n.features.includes(ah))throw new Vc;try{return(await Be(this,Ot,"f").features[ah].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Vc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}};const Xz=nz;var Jz=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},e7=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Uh;let br;const zh=new Set,Ga={};function t7(){if(br||(br=Object.freeze({register:nx,get:n7,on:r7}),typeof window>"u"))return br;const t=Object.freeze({register:nx});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new i7(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return br}function nx(...t){var e;return t=t.filter(n=>!zh.has(n)),t.length?(t.forEach(n=>zh.add(n)),(e=Ga.register)==null||e.forEach(n=>cv(()=>n(...t))),function(){var r;t.forEach(i=>zh.delete(i)),(r=Ga.unregister)==null||r.forEach(i=>cv(()=>i(...t)))}):()=>{}}function n7(){return[...zh]}function r7(t,e){var n;return(n=Ga[t])!=null&&n.push(e)||(Ga[t]=[e]),function(){var i;Ga[t]=(i=Ga[t])==null?void 0:i.filter(s=>e!==s)}}function cv(t){try{t()}catch(e){console.error(e)}}class i7 extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Uh.set(this,void 0),Jz(this,Uh,e,"f")}get detail(){return e7(this,Uh,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Uh=new WeakMap;function s7(){if(br||(br=t7(),typeof window>"u"))return br;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),br;const{register:e}=br,n=(...r)=>r.forEach(i=>cv(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),br}return n(...t),br}function o7(t){const{get:e,on:n}=rx(()=>s7()),[r,i]=$.useState(()=>ix(e())),s=rx(()=>new Set);return $.useEffect(()=>{const o=[n("register",(...a)=>i(u=>[...u,...ix(a)])),n("unregister",(...a)=>i(u=>u.filter(c=>a.some(d=>d===c.wallet))))];return()=>o.forEach(a=>a())},[n]),$.useMemo(()=>[...r,...t.filter(({name:o})=>r.some(a=>a.name===o)?(s.has(o)||(s.add(o),console.warn(`${o} was registered as a Standard Wallet. The Wallet Adapter for ${o} can be removed from your app.`)),!1):!0)],[r,t,s])}function rx(t){const e=$.useRef();return e.current||(e.current={value:t()}),e.current.value}function ix(t){return t.filter(Xz).map(e=>new Zz({wallet:e}))}var du;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(du||(du={}));function a7(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function u7({adapters:t,userAgentString:e}){return t.some(n=>n.name!==Es&&n.readyState===Le.Installed)?du.DESKTOP_WEB:e&&/android/i.test(e)&&!a7(e)?du.MOBILE_WEB:du.DESKTOP_WEB}function l7(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function c7({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const u=$.useRef(!1),[c,d]=$.useState(!1),g=$.useRef(!1),[S,w]=$.useState(!1),[C,x]=$.useState(()=>(n==null?void 0:n.publicKey)??null),[N,T]=$.useState(()=>(n==null?void 0:n.connected)??!1),k=$.useRef(o);$.useEffect(()=>(k.current=o,()=>{k.current=void 0}),[o]);const M=$.useRef((l,h)=>(r.current||(k.current?k.current(l,h):(console.error(l,h),l instanceof Zs&&typeof window<"u"&&h&&window.open(h.url,"_blank"))),l)),[B,L]=$.useState(()=>e.map(l=>({adapter:l,readyState:l.readyState})).filter(({readyState:l})=>l!==Le.Unsupported));$.useEffect(()=>{L(h=>e.map((p,y)=>{const m=h[y];return m&&m.adapter===p&&m.readyState===p.readyState?m:{adapter:p,readyState:p.readyState}}).filter(({readyState:p})=>p!==Le.Unsupported));function l(h){L(p=>{const y=p.findIndex(({adapter:b})=>b===this);if(y===-1)return p;const{adapter:m}=p[y];return[...p.slice(0,y),{adapter:m,readyState:h},...p.slice(y+1)].filter(({readyState:b})=>b!==Le.Unsupported)})}return e.forEach(h=>h.on("readyStateChange",l,h)),()=>{e.forEach(h=>h.off("readyStateChange",l,h))}},[n,e]);const P=$.useMemo(()=>B.find(l=>l.adapter===n)??null,[n,B]);$.useEffect(()=>{if(!n)return;const l=y=>{x(y),u.current=!1,d(!1),T(!0),g.current=!1,w(!1)},h=()=>{r.current||(x(null),u.current=!1,d(!1),T(!1),g.current=!1,w(!1))},p=y=>{M.current(y,n)};return n.on("connect",l),n.on("disconnect",h),n.on("error",p),()=>{n.off("connect",l),n.off("disconnect",h),n.off("error",p),h()}},[n,r]);const F=$.useRef(!1);$.useEffect(()=>()=>{F.current=!1},[n]),$.useEffect(()=>{F.current||u.current||N||!i||!((P==null?void 0:P.readyState)===Le.Installed||(P==null?void 0:P.readyState)===Le.Loadable)||(u.current=!0,d(!0),F.current=!0,async function(){try{await i()}catch{s()}finally{d(!1),u.current=!1}}())},[N,i,s,P]);const U=$.useCallback(async(l,h,p)=>{if(!n)throw M.current(new K_);if(!N)throw M.current(new tn,n);return await n.sendTransaction(l,h,p)},[n,N]),ee=$.useMemo(()=>n&&"signTransaction"in n?async l=>{if(!N)throw M.current(new tn,n);return await n.signTransaction(l)}:void 0,[n,N]),Z=$.useMemo(()=>n&&"signAllTransactions"in n?async l=>{if(!N)throw M.current(new tn,n);return await n.signAllTransactions(l)}:void 0,[n,N]),Y=$.useMemo(()=>n&&"signMessage"in n?async l=>{if(!N)throw M.current(new tn,n);return await n.signMessage(l)}:void 0,[n,N]),ce=$.useCallback(async()=>{if(u.current||g.current||P!=null&&P.adapter.connected)return;if(!P)throw M.current(new K_);const{adapter:l,readyState:h}=P;if(!(h===Le.Installed||h===Le.Loadable))throw M.current(new Zs,l);u.current=!0,d(!0);try{await l.connect()}catch(p){throw s(),p}finally{d(!1),u.current=!1}},[s,P]),A=$.useCallback(async()=>{if(!g.current&&n){g.current=!0,w(!0);try{await n.disconnect()}finally{w(!1),g.current=!1}}},[n]);return Q.createElement(xT.Provider,{value:{autoConnect:!!i,wallets:B,wallet:P,publicKey:C,connected:N,connecting:c,disconnecting:S,select:a,connect:ce,disconnect:A,sendTransaction:U,signTransaction:ee,signAllTransactions:Z,signMessage:Y}},t)}let rm;function f7(){var t;return rm===void 0&&(rm=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),rm}function lh(t){const e=f7();return u7({adapters:t,userAgentString:e})===du.MOBILE_WEB}function h7(){const t=globalThis.location;if(t!=null)return`${t.protocol}//${t.host}`}function d7({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=uS(),o=o7(e),a=$.useMemo(()=>{if(!lh(o))return null;const k=o.find(M=>M.name===Es);return k||new Uz({addressSelector:zz(),appIdentity:{uri:h7()},authorizationResultCache:jz(),cluster:l7(s==null?void 0:s.rpcEndpoint),onWalletNotFound:Hz()})},[o,s==null?void 0:s.rpcEndpoint]),u=$.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,d]=iz(r,lh(o)?Es:null),g=$.useMemo(()=>u.find(k=>k.name===c)??null,[u,c]),S=$.useCallback(k=>{c!==k&&(g&&g.name!==Es&&g.disconnect(),d(k))},[g,d,c]);$.useEffect(()=>{if(g==null)return;function k(){x.current||c===Es&&lh(o)||d(null)}return g.on("disconnect",k),()=>{g.off("disconnect",k)}},[g,o,d,c]);const w=$.useRef(!1),C=$.useMemo(()=>{if(!(n!==!0||!g))return()=>w.current?g.connect():g.autoConnect()},[g,n]),x=$.useRef(!1);$.useEffect(()=>{if(c===Es&&lh(o)){x.current=!1;return}function k(){x.current=!0}return window.addEventListener("beforeunload",k),()=>{window.removeEventListener("beforeunload",k)}},[o,c]);const N=$.useCallback(()=>{g&&g.name!==Es&&S(null)},[g,S]),T=$.useCallback(k=>{w.current=!0,S(k)},[S]);return Q.createElement(c7,{wallets:u,adapter:g,isUnloadingRef:x,onAutoConnectRequest:C,onConnectError:N,onError:i,onSelectWallet:T},t)}const kT={setVisible(t){console.error(TT("call","setVisible"))},visible:!1};Object.defineProperty(kT,"visible",{get(){return console.error(TT("read","visible")),!1}});function TT(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const RT=$.createContext(kT);function cS(){return $.useContext(RT)}const Ag=t=>Q.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&Q.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&Q.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),fS=({wallet:t,...e})=>t&&Q.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e}),p7=({children:t,disabled:e,onClick:n,...r})=>{const{wallet:i,connect:s,connecting:o,connected:a}=wa(),u=$.useCallback(d=>{n&&n(d),d.defaultPrevented||s().catch(()=>{})},[n,s]),c=$.useMemo(()=>t||(o?"Connecting ...":a?"Connected":i?"Connect":"Connect Wallet"),[t,o,a,i]);return Q.createElement(Ag,{className:"wallet-adapter-button-trigger",disabled:e||!i||o||a,startIcon:i?Q.createElement(fS,{wallet:i}):void 0,onClick:u,...r},c)},sx=({id:t,children:e,expanded:n=!1})=>{const r=$.useRef(null),i=$.useRef(!0),s="height 250ms ease-out",o=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.scrollHeight+"px"})},a=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.offsetHeight+"px",u.style.overflow="hidden",requestAnimationFrame(()=>{u.style.height="0"})})};return $.useLayoutEffect(()=>{n?o():a()},[n]),$.useLayoutEffect(()=>{const u=r.current;if(!u)return;function c(){u&&(u.style.overflow=n?"initial":"hidden",n&&(u.style.height="auto"))}function d(g){u&&g.target===u&&g.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),u.addEventListener("transitionend",d),()=>u.removeEventListener("transitionend",d)},[n]),Q.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},im=({handleClick:t,tabIndex:e,wallet:n})=>Q.createElement("li",null,Q.createElement(Ag,{onClick:t,startIcon:Q.createElement(fS,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Le.Installed&&Q.createElement("span",null,"Detected"))),g7=()=>Q.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Q.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Q.createElement("g",{clipPath:"url(#clip0_880_5115)"},Q.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Q.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Q.createElement("defs",null,Q.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("clipPath",{id:"clip0_880_5115"},Q.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),m7=({className:t="",container:e="body"})=>{const n=$.useRef(null),{wallets:r,select:i}=wa(),{setVisible:s}=cS(),[o,a]=$.useState(!1),[u,c]=$.useState(!1),[d,g]=$.useState(null),[S,w]=$.useMemo(()=>{const M=[],B=[],L=[];for(const U of r)U.readyState===Le.NotDetected?L.push(U):U.readyState===Le.Loadable?B.push(U):U.readyState===Le.Installed&&M.push(U);let P=[],F=[];return M.length?(P=M,F=[...B,...L]):(B.length&&(P=B),F=L),[P,F]},[r]),C=$.useCallback(()=>{c(!1),setTimeout(()=>s(!1),150)},[s]),x=$.useCallback(M=>{M.preventDefault(),C()},[C]),N=$.useCallback((M,B)=>{i(B),x(M)},[i,x]),T=$.useCallback(()=>a(!o),[o]),k=$.useCallback(M=>{const B=n.current;if(!B)return;const L=B.querySelectorAll("button"),P=L[0],F=L[L.length-1];M.shiftKey?document.activeElement===P&&(F.focus(),M.preventDefault()):document.activeElement===F&&(P.focus(),M.preventDefault())},[n]);return $.useLayoutEffect(()=>{const M=L=>{L.key==="Escape"?C():L.key==="Tab"&&k(L)},{overflow:B}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",M,!1),()=>{document.body.style.overflow=B,window.removeEventListener("keydown",M,!1)}},[C,k]),$.useLayoutEffect(()=>g(document.querySelector(e)),[e]),d&&Zc.createPortal(Q.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${u&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},Q.createElement("div",{className:"wallet-adapter-modal-container"},Q.createElement("div",{className:"wallet-adapter-modal-wrapper"},Q.createElement("button",{onClick:x,className:"wallet-adapter-modal-button-close"},Q.createElement("svg",{width:"14",height:"14"},Q.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),S.length?Q.createElement(Q.Fragment,null,Q.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Q.createElement("ul",{className:"wallet-adapter-modal-list"},S.map(M=>Q.createElement(im,{key:M.adapter.name,handleClick:B=>N(B,M.adapter.name),wallet:M})),w.length?Q.createElement(sx,{expanded:o,id:"wallet-adapter-modal-collapse"},w.map(M=>Q.createElement(im,{key:M.adapter.name,handleClick:B=>N(B,M.adapter.name),tabIndex:o?0:-1,wallet:M}))):null),w.length?Q.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:T,tabIndex:0},Q.createElement("span",null,o?"Less ":"More ","options"),Q.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Q.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Q.createElement(Q.Fragment,null,Q.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Q.createElement("div",{className:"wallet-adapter-modal-middle"},Q.createElement(g7,null)),w.length?Q.createElement(Q.Fragment,null,Q.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:T,tabIndex:0},Q.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),Q.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Q.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Q.createElement(sx,{expanded:o,id:"wallet-adapter-modal-collapse"},Q.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(M=>Q.createElement(im,{key:M.adapter.name,handleClick:B=>N(B,M.adapter.name),tabIndex:o?0:-1,wallet:M}))))):null))),Q.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:x})),d)},y7=({children:t="Select Wallet",onClick:e,...n})=>{const{visible:r,setVisible:i}=cS(),s=$.useCallback(o=>{e&&e(o),o.defaultPrevented||i(!r)},[e,i,r]);return Q.createElement(Ag,{className:"wallet-adapter-button-trigger",onClick:s,...n},t)},v7=({children:t,...e})=>{const[n,r]=$.useState(!1);return Q.createElement(RT.Provider,{value:{visible:n,setVisible:r}},t,n&&Q.createElement(m7,{...e}))},ox=({children:t,...e})=>{const{publicKey:n,wallet:r,disconnect:i}=wa(),{setVisible:s}=cS(),[o,a]=$.useState(!1),[u,c]=$.useState(!1),d=$.useRef(null),g=$.useMemo(()=>n==null?void 0:n.toBase58(),[n]),S=$.useMemo(()=>t||(!r||!g?null:g.slice(0,4)+".."+g.slice(-4)),[t,r,g]),w=$.useCallback(async()=>{g&&(await navigator.clipboard.writeText(g),a(!0),setTimeout(()=>a(!1),400))},[g]),C=$.useCallback(()=>{c(!0)},[]),x=$.useCallback(()=>{c(!1)},[]),N=$.useCallback(()=>{s(!0),x()},[s,x]);return $.useEffect(()=>{const T=k=>{const M=d.current;!M||M.contains(k.target)||x()};return document.addEventListener("mousedown",T),document.addEventListener("touchstart",T),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("touchstart",T)}},[d,x]),r?g?Q.createElement("div",{className:"wallet-adapter-dropdown"},Q.createElement(Ag,{"aria-expanded":u,className:"wallet-adapter-button-trigger",style:{pointerEvents:u?"none":"auto",...e.style},onClick:C,startIcon:Q.createElement(fS,{wallet:r}),...e},S),Q.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${u&&"wallet-adapter-dropdown-list-active"}`,ref:d,role:"menu"},Q.createElement("li",{onClick:w,className:"wallet-adapter-dropdown-list-item",role:"menuitem"},o?"Copied":"Copy address"),Q.createElement("li",{onClick:N,className:"wallet-adapter-dropdown-list-item",role:"menuitem"},"Change wallet"),Q.createElement("li",{onClick:i,className:"wallet-adapter-dropdown-list-item",role:"menuitem"},"Disconnect"))):Q.createElement(p7,{...e},t):Q.createElement(y7,{...e},t)};const w7=1e9,NT=t=>{if(t===""||Number(Number(t).toFixed(0))===Number(t))return t;if(/[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)/.test(t))return Number(t).toFixed(9);const n=Math.min(t.split(".")[1].length,9);return Number(t).toFixed(n)},S7=t=>NT(Number(t/w7).toString()),E7=({setSolAmount:t,solAmount:e,disabled:n})=>J.jsxs(J.Fragment,{children:[J.jsx("label",{htmlFor:"amount-input",children:"Amount"}),J.jsx("input",{id:"amount-input",type:"number",value:e,placeholder:"amount (SOL)",step:1e-9,min:"0",onChange:i=>t(NT(i.target.value)),required:!0,disabled:n})]});function fv(t,e){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fv(t,e)}function Sa(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fv(t,e)}var el=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),Zd=typeof window>"u";function Mn(){}function b7(t,e){return typeof t=="function"?t(e):t}function hv(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xd(t){return Array.isArray(t)?t:[t]}function OT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jh(t,e,n){return If(t)?typeof e=="function"?lt({},n,{queryKey:t,queryFn:e}):lt({},e,{queryKey:t}):t}function _7(t,e,n){return If(t)?typeof e=="function"?lt({},n,{mutationKey:t,mutationFn:e}):lt({},e,{mutationKey:t}):typeof t=="function"?lt({},e,{mutationFn:t}):lt({},t)}function bs(t,e,n){return If(t)?[lt({},e,{queryKey:t}),n]:[t||{},e]}function x7(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function ax(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,u=t.stale;if(If(a)){if(r){if(e.queryHash!==hS(a,e.options))return!1}else if(!Jd(e.queryKey,a))return!1}var c=x7(n,s);if(c==="none")return!1;if(c!=="all"){var d=e.isActive();if(c==="active"&&!d||c==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function ux(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(If(s)){if(!e.options.mutationKey)return!1;if(n){if(Ho(e.options.mutationKey)!==Ho(s))return!1}else if(!Jd(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function hS(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Ho;return n(t)}function Ho(t){var e=Xd(t);return I7(e)}function I7(t){return JSON.stringify(t,function(e,n){return dv(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function Jd(t,e){return LT(Xd(t),Xd(e))}function LT(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!LT(t[n],e[n])}):!1}function ep(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||dv(t)&&dv(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,u=0;u<s;u++){var c=n?u:i[u];o[c]=ep(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function C7(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function dv(t){if(!lx(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!lx(n)||!n.hasOwnProperty("isPrototypeOf"))}function lx(t){return Object.prototype.toString.call(t)==="[object Object]"}function If(t){return typeof t=="string"||Array.isArray(t)}function M7(t){return new Promise(function(e){setTimeout(e,t)})}function cx(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function DT(){if(typeof AbortController=="function")return new AbortController}var A7=function(t){Sa(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Zd&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(el),ec=new A7,k7=function(t){Sa(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Zd&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(el),Vh=new k7;function T7(t){return Math.min(1e3*Math.pow(2,t),3e4)}function tp(t){return typeof(t==null?void 0:t.cancel)=="function"}var PT=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Hh(t){return t instanceof PT}var BT=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(S){return i==null?void 0:i(S)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(S,w){o=S,a=w});var u=function(w){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(w),s==null||s(),o(w))},c=function(w){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(w),s==null||s(),a(w))},d=function(){return new Promise(function(w){s=w,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},g=function S(){if(!n.isResolved){var w;try{w=e.fn()}catch(C){w=Promise.reject(C)}i=function(x){if(!n.isResolved&&(c(new PT(x)),n.abort==null||n.abort(),tp(w)))try{w.cancel()}catch{}},n.isTransportCancelable=tp(w),Promise.resolve(w).then(u).catch(function(C){var x,N;if(!n.isResolved){var T=(x=e.retry)!=null?x:3,k=(N=e.retryDelay)!=null?N:T7,M=typeof k=="function"?k(n.failureCount,C):k,B=T===!0||typeof T=="number"&&n.failureCount<T||typeof T=="function"&&T(n.failureCount,C);if(r||!B){c(C);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,C),M7(M).then(function(){if(!ec.isFocused()||!Vh.isOnline())return d()}).then(function(){r?c(C):S()})}})}};g()},R7=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):cx(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&cx(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),Ut=new R7,FT=console;function np(){return FT}function N7(t){FT=t}var O7=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=lt({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),hv(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,u=b7(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,u)?u=a:this.options.structuralSharing!==!1&&(u=ep(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),u},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(Mn).catch(Mn):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!OT(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(k){return k.options.queryFn});d&&this.setOptions(d.options)}var g=Xd(this.queryKey),S=DT(),w={queryKey:g,pageParam:void 0,meta:this.meta};Object.defineProperty(w,"signal",{enumerable:!0,get:function(){if(S)return s.abortSignalConsumed=!0,S.signal}});var C=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(w)):Promise.reject("Missing queryFn")},x={fetchOptions:i,options:this.options,queryKey:g,state:this.state,fetchFn:C,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var N;(N=this.options.behavior)==null||N.onFetch(x)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=x.fetchOptions)==null?void 0:a.meta)){var T;this.dispatch({type:"fetch",meta:(T=x.fetchOptions)==null?void 0:T.meta})}return this.retryer=new BT({fn:x.fetchFn,abort:S==null||(u=S.abort)==null?void 0:u.bind(S),onSuccess:function(M){s.setData(M),s.cache.config.onSuccess==null||s.cache.config.onSuccess(M,s),s.cacheTime===0&&s.optionalRemove()},onError:function(M){Hh(M)&&M.silent||s.dispatch({type:"error",error:M}),Hh(M)||(s.cache.config.onError==null||s.cache.config.onError(M,s),np().error(M)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Ut.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return lt({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return lt({},r,{isPaused:!0});case"continue":return lt({},r,{isPaused:!1});case"fetch":return lt({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return lt({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return Hh(a)&&a.revert&&this.revertState?lt({},this.revertState):lt({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return lt({},r,{isInvalidated:!0});case"setState":return lt({},r,i.state);default:return r}},t}(),L7=function(t){Sa(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,u=s.queryKey,c=(a=s.queryHash)!=null?a:hS(u,s),d=this.get(c);return d||(d=new O7({cache:this,queryKey:u,queryHash:c,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(u),meta:s.meta}),this.add(d)),d},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Ut.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=bs(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return ax(a,u)})},n.findAll=function(i,s){var o=bs(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(u){return ax(a,u)}):this.queries},n.notify=function(i){var s=this;Ut.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;Ut.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;Ut.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(el),D7=function(){function t(n){this.options=lt({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||$T(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Mn).catch(Mn)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),np().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new BT({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=P7(this.state,r),Ut.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function $T(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function P7(t,e){switch(e.type){case"failed":return lt({},t,{failureCount:t.failureCount+1});case"pause":return lt({},t,{isPaused:!0});case"continue":return lt({},t,{isPaused:!1});case"loading":return lt({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return lt({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return lt({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return lt({},t,e.state);default:return t}}var B7=function(t){Sa(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new D7({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Ut.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return ux(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return ux(i,s)})},n.notify=function(i){var s=this;Ut.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return Ut.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(Mn)})},Promise.resolve())})},e}(el);function F7(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,u=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,d=c==null?void 0:c.pageParam,g=(c==null?void 0:c.direction)==="forward",S=(c==null?void 0:c.direction)==="backward",w=((o=e.state.data)==null?void 0:o.pages)||[],C=((a=e.state.data)==null?void 0:a.pageParams)||[],x=DT(),N=x==null?void 0:x.signal,T=C,k=!1,M=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},B=function(l,h,p,y){return T=y?[h].concat(T):[].concat(T,[h]),y?[p].concat(l):[].concat(l,[p])},L=function(l,h,p,y){if(k)return Promise.reject("Cancelled");if(typeof p>"u"&&!h&&l.length)return Promise.resolve(l);var m={queryKey:e.queryKey,signal:N,pageParam:p,meta:e.meta},b=M(m),R=Promise.resolve(b).then(function(f){return B(l,p,f,y)});if(tp(b)){var v=R;v.cancel=b.cancel}return R},P;if(!w.length)P=L([]);else if(g){var F=typeof d<"u",U=F?d:fx(e.options,w);P=L(w,F,U)}else if(S){var ee=typeof d<"u",Z=ee?d:$7(e.options,w);P=L(w,ee,Z,!0)}else(function(){T=[];var A=typeof e.options.getNextPageParam>"u",l=u&&w[0]?u(w[0],0,w):!0;P=l?L([],A,C[0]):Promise.resolve(B([],C[0],w[0]));for(var h=function(m){P=P.then(function(b){var R=u&&w[m]?u(w[m],m,w):!0;if(R){var v=A?C[m]:fx(e.options,b);return L(b,A,v)}return Promise.resolve(B(b,C[m],w[m]))})},p=1;p<w.length;p++)h(p)})();var Y=P.then(function(A){return{pages:A,pageParams:T}}),ce=Y;return ce.cancel=function(){k=!0,x==null||x.abort(),tp(P)&&P.cancel()},Y}}}}function fx(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function $7(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var U7=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new L7,this.mutationCache=n.mutationCache||new B7,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=ec.subscribe(function(){ec.isFocused()&&Vh.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Vh.subscribe(function(){ec.isFocused()&&Vh.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=bs(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(lt({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=jh(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return Ut.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var u=a.queryKey;return[u,o.setQueryData(u,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=bs(r,i),o=s[0],a=this.queryCache;Ut.batch(function(){a.findAll(o).forEach(function(u){a.remove(u)})})},e.resetQueries=function(r,i,s){var o=this,a=bs(r,i,s),u=a[0],c=a[1],d=this.queryCache,g=lt({},u,{active:!0});return Ut.batch(function(){return d.findAll(u).forEach(function(S){S.reset()}),o.refetchQueries(g,c)})},e.cancelQueries=function(r,i,s){var o=this,a=bs(r,i,s),u=a[0],c=a[1],d=c===void 0?{}:c;typeof d.revert>"u"&&(d.revert=!0);var g=Ut.batch(function(){return o.queryCache.findAll(u).map(function(S){return S.cancel(d)})});return Promise.all(g).then(Mn).catch(Mn)},e.invalidateQueries=function(r,i,s){var o,a,u,c=this,d=bs(r,i,s),g=d[0],S=d[1],w=lt({},g,{active:(o=(a=g.refetchActive)!=null?a:g.active)!=null?o:!0,inactive:(u=g.refetchInactive)!=null?u:!1});return Ut.batch(function(){return c.queryCache.findAll(g).forEach(function(C){C.invalidate()}),c.refetchQueries(w,S)})},e.refetchQueries=function(r,i,s){var o=this,a=bs(r,i,s),u=a[0],c=a[1],d=Ut.batch(function(){return o.queryCache.findAll(u).map(function(S){return S.fetch(void 0,lt({},c,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),g=Promise.all(d).then(Mn);return c!=null&&c.throwOnError||(g=g.catch(Mn)),g},e.fetchQuery=function(r,i,s){var o=jh(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(Mn).catch(Mn)},e.fetchInfiniteQuery=function(r,i,s){var o=jh(r,i,s);return o.behavior=F7(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(Mn).catch(Mn)},e.cancelMutations=function(){var r=this,i=Ut.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Mn).catch(Mn)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return Ho(r)===Ho(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return Jd(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return Ho(r)===Ho(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return Jd(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=lt({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=hS(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:lt({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),z7=function(t){Sa(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),hx(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return pv(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return pv(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var u=this.hasListeners();u&&dx(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},u=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(i).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return u(c),i[c]}})}),(s.useErrorBoundary||s.suspense)&&u("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var u=s.subscribe(function(c){c.isFetching||(u(),c.isError&&(i!=null&&i.throwOnError)?a(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(lt({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(Mn)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Zd||this.currentResult.isStale||!hv(this.options.staleTime))){var s=OT(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Zd||this.options.enabled===!1||!hv(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||ec.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,u=this.currentResult,c=this.currentResultState,d=this.currentResultOptions,g=i!==o,S=g?i.state:this.currentQueryInitialState,w=g?this.currentResult:this.previousQueryResult,C=i.state,x=C.dataUpdatedAt,N=C.error,T=C.errorUpdatedAt,k=C.isFetching,M=C.status,B=!1,L=!1,P;if(s.optimisticResults){var F=this.hasListeners(),U=!F&&hx(i,s),ee=F&&dx(i,o,s,a);(U||ee)&&(k=!0,x||(M="loading"))}if(s.keepPreviousData&&!C.dataUpdateCount&&(w!=null&&w.isSuccess)&&M!=="error")P=w.data,x=w.dataUpdatedAt,M=w.status,B=!0;else if(s.select&&typeof C.data<"u")if(u&&C.data===(c==null?void 0:c.data)&&s.select===this.selectFn)P=this.selectResult;else try{this.selectFn=s.select,P=s.select(C.data),s.structuralSharing!==!1&&(P=ep(u==null?void 0:u.data,P)),this.selectResult=P,this.selectError=null}catch(ce){np().error(ce),this.selectError=ce}else P=C.data;if(typeof s.placeholderData<"u"&&typeof P>"u"&&(M==="loading"||M==="idle")){var Z;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(d==null?void 0:d.placeholderData))Z=u.data;else if(Z=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof Z<"u")try{Z=s.select(Z),s.structuralSharing!==!1&&(Z=ep(u==null?void 0:u.data,Z)),this.selectError=null}catch(ce){np().error(ce),this.selectError=ce}typeof Z<"u"&&(M="success",P=Z,L=!0)}this.selectError&&(N=this.selectError,P=this.selectResult,T=Date.now(),M="error");var Y={status:M,isLoading:M==="loading",isSuccess:M==="success",isError:M==="error",isIdle:M==="idle",data:P,dataUpdatedAt:x,error:N,errorUpdatedAt:T,failureCount:C.fetchFailureCount,errorUpdateCount:C.errorUpdateCount,isFetched:C.dataUpdateCount>0||C.errorUpdateCount>0,isFetchedAfterMount:C.dataUpdateCount>S.dataUpdateCount||C.errorUpdateCount>S.errorUpdateCount,isFetching:k,isRefetching:k&&M!=="loading",isLoadingError:M==="error"&&C.dataUpdatedAt===0,isPlaceholderData:L,isPreviousData:B,isRefetchError:M==="error"&&C.dataUpdatedAt!==0,isStale:dS(i,s),refetch:this.refetch,remove:this.remove};return Y},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,u=o.notifyOnChangePropsExclusions;if(!a&&!u||a==="tracked"&&!this.trackedProps.length)return!0;var c=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(d){var g=d,S=i[g]!==s[g],w=c==null?void 0:c.some(function(x){return x===d}),C=u==null?void 0:u.some(function(x){return x===d});return S&&!C&&(!c||w)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!C7(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(lt({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!Hh(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;Ut.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(el);function j7(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function hx(t,e){return j7(t,e)||t.state.dataUpdatedAt>0&&pv(t,e,e.refetchOnMount)}function pv(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&dS(t,e)}return!1}function dx(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&dS(t,n)}function dS(t,e){return t.isStaleByTime(e.staleTime)}var V7=function(t){Sa(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,lt({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:$T(),s=lt({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},n.notify=function(i){var s=this;Ut.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(el),H7=h3.unstable_batchedUpdates;Ut.setBatchNotifyFunction(H7);var q7=console;N7(q7);var px=Q.createContext(void 0),UT=Q.createContext(!1);function zT(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=px),window.ReactQueryClientContext):px}var pS=function(){var e=Q.useContext(zT(Q.useContext(UT)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},W7=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;Q.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=zT(i);return Q.createElement(UT.Provider,{value:i},Q.createElement(o.Provider,{value:n},s))};function K7(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var G7=Q.createContext(K7()),Q7=function(){return Q.useContext(G7)};function jT(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function VT(t,e,n){var r=Q.useRef(!1),i=Q.useState(0),s=i[1],o=_7(t,e,n),a=pS(),u=Q.useRef();u.current?u.current.setOptions(o):u.current=new V7(a,o);var c=u.current.getCurrentResult();Q.useEffect(function(){r.current=!0;var g=u.current.subscribe(Ut.batchCalls(function(){r.current&&s(function(S){return S+1})}));return function(){r.current=!1,g()}},[]);var d=Q.useCallback(function(g,S){u.current.mutate(g,S).catch(Mn)},[]);if(c.error&&jT(void 0,u.current.options.useErrorBoundary,[c.error]))throw c.error;return lt({},c,{mutate:d,mutateAsync:c.mutate})}function Y7(t,e){var n=Q.useRef(!1),r=Q.useState(0),i=r[1],s=pS(),o=Q7(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=Ut.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Ut.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Ut.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var u=Q.useState(function(){return new e(s,a)}),c=u[0],d=c.getOptimisticResult(a);if(Q.useEffect(function(){n.current=!0,o.clearReset();var g=c.subscribe(Ut.batchCalls(function(){n.current&&i(function(S){return S+1})}));return c.updateResult(),function(){n.current=!1,g()}},[o,c]),Q.useEffect(function(){c.setOptions(a,{listeners:!1})},[a,c]),a.suspense&&d.isLoading)throw c.fetchOptimistic(a).then(function(g){var S=g.data;a.onSuccess==null||a.onSuccess(S),a.onSettled==null||a.onSettled(S,null)}).catch(function(g){o.clearReset(),a.onError==null||a.onError(g),a.onSettled==null||a.onSettled(void 0,g)});if(d.isError&&!o.isReset()&&!d.isFetching&&jT(a.suspense,a.useErrorBoundary,[d.error,c.getCurrentQuery()]))throw d.error;return a.notifyOnChangeProps==="tracked"&&(d=c.trackResult(d,a)),d}function Z7(t,e,n){var r=jh(t,e,n);return Y7(r,z7)}var X7="firebase",J7="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(X7,J7,"app");const ej={apiKey:"AIzaSyCnymgBlx5yirDHXVy23tpDmUX_mXpcAak",authDomain:"parclsoltransactions.firebaseapp.com",projectId:"parclsoltransactions",storageBucket:"parclsoltransactions.appspot.com",messagingSenderId:"461076459515",appId:"1:461076459515:web:7379c40dbc09666ef3e55e",measurementId:"G-WPLZJ87DLV"},tj=gC(ej),nj=PB(tj),HT=({publicKeyAddress:t})=>{const e=OB(nj,"transactions"),n=pS(),r=Z7("transactions",async()=>{if(t==="")return;const s=GB(e,QB("fromAddress","==",t)),o=await r5(s),a=[];return o.forEach(u=>{const c=u.data(),d={signature:c.signature,block:c.block,fromAddress:c.fromAddress,toAddress:c.toAddress,amount:c.amount,timestamp:c.timestamp,feePayer:c.feePayer,feeAmount:c.fee,error:c.error,lastBlockHash:c.lastBlockHash};a.push(d)}),a}),i=VT("addTransaction",s=>i5(e,s),{onSuccess:()=>{console.log("success"),n.invalidateQueries("transactions")}});return{transactionsData:r.data,getTransactionsStatus:r.status,getTransactionsError:r.error,addTransaction:i.mutateAsync,addTransactionStatus:i.status,addTransactionError:i.error}},rj=()=>{const{connection:t}=uS(),{publicKey:e,sendTransaction:n}=wa(),{addTransaction:r}=HT({publicKeyAddress:(e==null?void 0:e.toBase58())||""}),i=VT("submitTransfer",async({lamports:s,toAddress:o})=>{if(!e)throw Error("Wallet not connected");if(s===0||isNaN(s))throw Error("Amount is invalid");let a;try{a=new xe(o)}catch(c){throw Error(`Problem with wallet given: ${c.message}`)}let u;try{const c=await t.getLatestBlockhash("processed");let d=c?new hr(c):new hr;d.add(zc.transfer({fromPubkey:e,toPubkey:a,lamports:s})),d.feePayer=e,u=await n(d,t);const g=await t.confirmTransaction({...c,signature:u});console.log("transfer confirm result",JSON.stringify(g))}catch(c){throw Error(`Transfer failed: ${c.message}`)}return u},{onSuccess:async s=>{var c,d,g,S,w,C,x,N,T,k,M,B,L;console.log("success"),console.log("data",s);const o=await t.getParsedTransaction(s,"confirmed");if(!o)return;const a=o.transaction.message.instructions.find(P=>(P==null?void 0:P.programId.toBase58())==="11111111111111111111111111111111"),u={signature:s,block:o==null?void 0:o.slot.toString(),fromAddress:(d=(c=a==null?void 0:a.parsed)==null?void 0:c.info)==null?void 0:d.source,toAddress:(S=(g=a==null?void 0:a.parsed)==null?void 0:g.info)==null?void 0:S.destination,amount:(C=(w=a==null?void 0:a.parsed)==null?void 0:w.info)==null?void 0:C.lamports,timestamp:ln.fromDate(new Date),feePayer:(N=(x=a==null?void 0:a.parsed)==null?void 0:x.info)==null?void 0:N.source,feeAmount:((T=o==null?void 0:o.meta)==null?void 0:T.fee)??0,error:((M=(k=o==null?void 0:o.meta)==null?void 0:k.err)==null?void 0:M.toString())??"",lastBlockHash:(L=(B=o==null?void 0:o.transaction)==null?void 0:B.message)==null?void 0:L.recentBlockhash};r(u)}});return{submitTransfer:i.mutateAsync,submitTransferStatus:i.status,submitTransferError:i.error}},ij=({children:t,label:e,onClose:n,includeToggle:r})=>{const[i,s]=Q.useState(!0),o=Q.useRef(null);return Q.useEffect(()=>{if(console.log("modalOpen: ",i),i){const a=o.current;a&&!a.open&&a.showModal()}else{const a=o.current;a&&a.close()}},[i]),Q.useEffect(()=>{const a=o.current,u=()=>{n(),s(!1)};return a==null||a.addEventListener("close",u),()=>{a==null||a.removeEventListener("close",u)}}),J.jsxs("div",{children:[r??J.jsx("button",{onClick:()=>s(!0),children:e}),J.jsxs("dialog",{onClick:a=>{const u=a.currentTarget.getBoundingClientRect();(a.clientX<u.left||a.clientX>u.right||a.clientY<u.top||a.clientY>u.bottom)&&s(!1)},ref:o,children:[J.jsx("button",{onClick:()=>s(!1),children:"Close"}),t]})]})};var gS=$.forwardRef(function({as:e="span",style:n={},...r},i){return $.createElement(e,{ref:i,style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal",...n},...r})});gS.displayName="VisuallyHidden";/**
  * @reach/utils v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */function qT(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function qh(t,e){return n=>{if(t&&t(n),!n.defaultPrevented)return e(n)}}function sj(t){return!!(t&&{}.toString.call(t)=="[object Function]")}function oj(t,e){if(t!=null)if(sj(t))t(e);else try{t.current=e}catch{throw new Error(`Cannot assign value "${e}" to ref "${t}"`)}}function WT(...t){return $.useCallback(e=>{for(let n of t)oj(n,e)},t)}function KT(t){return qT()?t?t.ownerDocument:document:null}function aj(t,e){let n=$.createContext(e);function r(s){let{children:o,...a}=s,u=$.useMemo(()=>a,Object.values(a));return $.createElement(n.Provider,{value:u},o)}function i(s){let o=$.useContext(n);if(o)return o;if(e)return e;throw Error(`${s} must be rendered inside of a ${t} component.`)}return n.displayName=`${t}Context`,r.displayName=`${t}Provider`,[r,i]}function mS(){}function uj(){let[,t]=$.useState(Object.create(null));return $.useCallback(()=>{t(Object.create(null))},[])}var lj=qT()?$.useLayoutEffect:$.useEffect,cj={polite:-1,assertive:-1},pu={polite:{},assertive:{}},tc={polite:null,assertive:null},sm,GT=$.forwardRef(function({as:e="div",children:n,...r},i){return $.createElement(e,{ref:i,...r},n)}),QT=$.forwardRef(function(e,n){let r=$.useRef(null),i=WT(n,r);hj(r,e);let{type:s,...o}=e;return $.createElement(GT,{ref:i,...o,"data-reach-alert":"","aria-hidden":!0})});QT.displayName="Alert";function fj(t,e){let n=++cj[t],r=o=>{if(tc[t])pu[t][n]=o,om();else{let a=e.createElement("div");a.setAttribute(`data-reach-live-${t}`,"true"),tc[t]=a,e.body.appendChild(tc[t]),r(o)}};return{mount:r,update:o=>{pu[t][n]=o,om()},unmount:()=>{delete pu[t][n],om()}}}function om(){sm!=null&&window.clearTimeout(sm),sm=window.setTimeout(()=>{Object.keys(pu).forEach(t=>{let e=t;tc[e]&&Zc.render($.createElement(gS,{as:"div"},$.createElement("div",{role:e==="assertive"?"alert":"status","aria-live":e},Object.keys(pu[e]).map(r=>$.cloneElement(pu[e][r],{key:r,ref:null})))),tc[e])})},500)}function hj(t,{type:e="polite",...n}){let r=$.useRef(null);$.useEffect(()=>{let i=KT(t.current);if(i)return r.current=fj(e,i),r.current.mount($.createElement(GT,{...n})),()=>{var s;(s=r.current)==null||s.unmount()}},[t,e,...Object.values(n)])}const dj=()=>{const[t,e]=Q.useState(""),[n,r]=Q.useState("");uS();const{publicKey:i}=wa(),[s,o]=Q.useState("idle"),{submitTransfer:a,submitTransferStatus:u,submitTransferError:c}=rj(),d=async g=>{if(!i)return;g.preventDefault();const S=n?Number(n)*1e9:0;await a({lamports:S,toAddress:t}),e(""),r("")};return J.jsx("form",{onSubmit:d,children:J.jsxs("div",{children:[J.jsx("div",{children:J.jsx("span",{id:"statusFlashMessage",children:u==="loading"?J.jsx("span",{children:"Submitting transaction..."}):u==="success"?J.jsx("span",{children:"Transaction submitted successfully!"}):u==="error"?J.jsx(QT,{type:"assertive",children:c==null?void 0:c.message}):""})}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"wallet-input",children:"Wallet"}),J.jsx("input",{id:"wallet-input",type:"text",value:t,placeholder:"wallet address",onChange:g=>e(g.target.value),disabled:s==="loading",required:!0})]}),J.jsx("div",{children:J.jsx(E7,{solAmount:n,setSolAmount:r,disabled:s==="loading"})}),J.jsx("button",{disabled:!(i&&s!=="loading"),type:"submit",children:"Send Solana"}),u==="success"&&J.jsx(ij,{onClose:()=>{e(""),r("")},includeToggle:!1,children:J.jsxs("div",{children:[J.jsx("h2",{children:"Successfully Transfered Solana!"}),J.jsxs("p",{children:[" to: ",t]}),J.jsxs("p",{children:[" ",n]})]})})]})})};/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(t,e){return typeof t=="function"?t(e):t}function Jr(t,e){return n=>{e.setState(r=>({...r,[t]:Rs(n,r[t])}))}}function rp(t){return t instanceof Function}function pj(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function gj(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Oe(t,e,n){let r=[],i;return()=>{let s;n.key&&n.debug&&(s=Date.now());const o=t();if(!(o.length!==r.length||o.some((c,d)=>r[d]!==c)))return i;r=o;let u;if(n.key&&n.debug&&(u=Date.now()),i=e(...o),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-u)*100)/100,g=d/16,S=(w,C)=>{for(w=String(w);w.length<C;)w=" "+w;return w};console.info(`%c ${S(d,5)} /${S(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function mj(t,e,n,r){var i,s;const a={...t._getDefaultColumnDef(),...e},u=a.accessorKey;let c=(i=(s=a.id)!=null?s:u?u.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:u&&(u.includes(".")?d=S=>{let w=S;for(const x of u.split(".")){var C;w=(C=w)==null?void 0:C[x]}return w}:d=S=>S[a.accessorKey]),!c)throw new Error;let g={id:`${String(c)}`,accessorFn:d,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Oe(()=>[!0],()=>{var S;return[g,...(S=g.columns)==null?void 0:S.flatMap(w=>w.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var S;return(S=t.options.debugAll)!=null?S:t.options.debugColumns}}),getLeafColumns:Oe(()=>[t._getOrderColumnsFn()],S=>{var w;if((w=g.columns)!=null&&w.length){let C=g.columns.flatMap(x=>x.getLeafColumns());return S(C)}return[g]},{key:"column.getLeafColumns",debug:()=>{var S;return(S=t.options.debugAll)!=null?S:t.options.debugColumns}})};return g=t._features.reduce((S,w)=>Object.assign(S,w.createColumn==null?void 0:w.createColumn(g,t)),g),g}function gx(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),o.push(u)};return a(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{Object.assign(s,o.createHeader==null?void 0:o.createHeader(s,t))}),s}const yj={createTable:t=>({getHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const a=(s=r==null?void 0:r.map(g=>n.find(S=>S.id===g)).filter(Boolean))!=null?s:[],u=(o=i==null?void 0:i.map(g=>n.find(S=>S.id===g)).filter(Boolean))!=null?o:[],c=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(i!=null&&i.includes(g.id)));return ch(e,[...a,...c,...u],t)},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),ch(e,n,t,"center")),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return ch(e,s,t,"left")},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return ch(e,s,t,"right")},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getFooterGroups:Oe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftFooterGroups:Oe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterFooterGroups:Oe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightFooterGroups:Oe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getFlatHeaders:Oe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftFlatHeaders:Oe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterFlatHeaders:Oe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightFlatHeaders:Oe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterLeafHeaders:Oe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftLeafHeaders:Oe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightLeafHeaders:Oe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeafHeaders:Oe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,a,u,c;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(u=(c=r[0])==null?void 0:c.headers)!=null?u:[]].map(d=>d.getLeafHeaders()).flat()},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}})})};function ch(t,e,n,r){var i,s;let o=0;const a=function(S,w){w===void 0&&(w=1),o=Math.max(o,w),S.filter(C=>C.getIsVisible()).forEach(C=>{var x;(x=C.columns)!=null&&x.length&&a(C.columns,w+1)},0)};a(t);let u=[];const c=(S,w)=>{const C={depth:w,id:[r,`${w}`].filter(Boolean).join("_"),headers:[]},x=[];S.forEach(N=>{const T=[...x].reverse()[0],k=N.column.depth===C.depth;let M,B=!1;if(k&&N.column.parent?M=N.column.parent:(M=N.column,B=!0),T&&(T==null?void 0:T.column)===M)T.subHeaders.push(N);else{const L=gx(n,M,{id:[r,w,M.id,N==null?void 0:N.id].filter(Boolean).join("_"),isPlaceholder:B,placeholderId:B?`${x.filter(P=>P.column===M).length}`:void 0,depth:w,index:x.length});L.subHeaders.push(N),x.push(L)}C.headers.push(N),N.headerGroup=C}),u.push(C),w>0&&c(x,w-1)},d=e.map((S,w)=>gx(n,S,{depth:o,index:w}));c(d,o-1),u.reverse();const g=S=>S.filter(C=>C.column.getIsVisible()).map(C=>{let x=0,N=0,T=[0];C.subHeaders&&C.subHeaders.length?(T=[],g(C.subHeaders).forEach(M=>{let{colSpan:B,rowSpan:L}=M;x+=B,T.push(L)})):x=1;const k=Math.min(...T);return N=N+k,C.colSpan=x,C.rowSpan=N,{colSpan:x,rowSpan:N}});return g((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const fh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},am=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),vj={getDefaultColumnDef:()=>fh,getInitialState:t=>({columnSizing:{},columnSizingInfo:am(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",onColumnSizingChange:Jr("columnSizing",t),onColumnSizingInfoChange:Jr("columnSizingInfo",t)}),createColumn:(t,e)=>({getSize:()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:fh.minSize,(r=s??t.columnDef.size)!=null?r:fh.size),(i=t.columnDef.maxSize)!=null?i:fh.maxSize)},getStart:n=>{const r=n?n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns(),i=r.findIndex(s=>s.id===t.id);if(i>0){const s=r[i-1];return s.getStart(n)+s.getSize()}return 0},resetSize:()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},getCanResize:()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},getIsResizing:()=>e.getState().columnSizingInfo.isResizingColumn===t.id}),createHeader:(t,e)=>({getSize:()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},getStart:()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},getResizeHandler:()=>{const n=e.getColumn(t.column.id),r=n==null?void 0:n.getCanResize();return i=>{if(!n||!r||(i.persist==null||i.persist(),um(i)&&i.touches&&i.touches.length>1))return;const s=t.getSize(),o=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[n.id,n.getSize()]],a=um(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(x,N)=>{typeof N=="number"&&(e.setColumnSizingInfo(T=>{var k,M;const B=N-((k=T==null?void 0:T.startOffset)!=null?k:0),L=Math.max(B/((M=T==null?void 0:T.startSize)!=null?M:0),-.999999);return T.columnSizingStart.forEach(P=>{let[F,U]=P;u[F]=Math.round(Math.max(U+U*L,0)*100)/100}),{...T,deltaOffset:B,deltaPercentage:L}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(T=>({...T,...u})))},d=x=>c("move",x),g=x=>{c("end",x),e.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},S={moveHandler:x=>d(x.clientX),upHandler:x=>{document.removeEventListener("mousemove",S.moveHandler),document.removeEventListener("mouseup",S.upHandler),g(x.clientX)}},w={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),d(x.touches[0].clientX),!1),upHandler:x=>{var N;document.removeEventListener("touchmove",w.moveHandler),document.removeEventListener("touchend",w.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),g((N=x.touches[0])==null?void 0:N.clientX)}},C=wj()?{passive:!1}:!1;um(i)?(document.addEventListener("touchmove",w.moveHandler,C),document.addEventListener("touchend",w.upHandler,C)):(document.addEventListener("mousemove",S.moveHandler,C),document.addEventListener("mouseup",S.upHandler,C)),e.setColumnSizingInfo(x=>({...x,startOffset:a,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}}),createTable:t=>({setColumnSizing:e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),setColumnSizingInfo:e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),resetColumnSizing:e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},resetHeaderSizeInfo:e=>{var n;t.setColumnSizingInfo(e?am():(n=t.initialState.columnSizingInfo)!=null?n:am())},getTotalSize:()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},getLeftTotalSize:()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},getCenterTotalSize:()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},getRightTotalSize:()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}})};let hh=null;function wj(){if(typeof hh=="boolean")return hh;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return hh=t,hh}function um(t){return t.type==="touchstart"}const Sj={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Jr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;return{_autoResetExpanded:()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},setExpanded:r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),toggleAllRowsExpanded:r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},resetExpanded:r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},getCanSomeRowsExpand:()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),getToggleAllRowsExpandedHandler:()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},getIsAllRowsExpanded:()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},getExpandedDepth:()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},getPreExpandedRowModel:()=>t.getSortedRowModel(),getExpandedRowModel:()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())}},createRow:(t,e)=>({toggleExpanded:n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:a,...u}=o;return u}return r})},getIsExpanded:()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},getCanExpand:()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},getToggleExpandedHandler:()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}})},YT=(t,e,n)=>{var r,i,s;const o=n.toLowerCase();return!!(!((r=t.getValue(e))==null||(i=r.toString())==null||(s=i.toLowerCase())==null)&&s.includes(o))};YT.autoRemove=t=>fi(t);const ZT=(t,e,n)=>{var r,i;return!!(!((r=t.getValue(e))==null||(i=r.toString())==null)&&i.includes(n))};ZT.autoRemove=t=>fi(t);const XT=(t,e,n)=>{var r,i;return((r=t.getValue(e))==null||(i=r.toString())==null?void 0:i.toLowerCase())===(n==null?void 0:n.toLowerCase())};XT.autoRemove=t=>fi(t);const JT=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};JT.autoRemove=t=>fi(t)||!(t!=null&&t.length);const eR=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});eR.autoRemove=t=>fi(t)||!(t!=null&&t.length);const tR=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});tR.autoRemove=t=>fi(t)||!(t!=null&&t.length);const nR=(t,e,n)=>t.getValue(e)===n;nR.autoRemove=t=>fi(t);const rR=(t,e,n)=>t.getValue(e)==n;rR.autoRemove=t=>fi(t);const yS=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};yS.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};yS.autoRemove=t=>fi(t)||fi(t[0])&&fi(t[1]);const ji={includesString:YT,includesStringSensitive:ZT,equalsString:XT,arrIncludes:JT,arrIncludesAll:eR,arrIncludesSome:tR,equals:nR,weakEquals:rR,inNumberRange:yS};function fi(t){return t==null||t===""}const Ej={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],globalFilter:void 0,...t}),getDefaultOptions:t=>({onColumnFiltersChange:Jr("columnFilters",t),onGlobalFilterChange:Jr("globalFilter",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n,r;const i=(n=t.getCoreRowModel().flatRows[0])==null||(r=n._getAllCellsByColumnId()[e.id])==null?void 0:r.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>({getAutoFilterFn:()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?ji.includesString:typeof r=="number"?ji.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ji.equals:Array.isArray(r)?ji.arrIncludes:ji.weakEquals},getFilterFn:()=>{var n,r;return rp(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:ji[t.columnDef.filterFn]},getCanFilter:()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},getCanGlobalFilter:()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn},getIsFiltered:()=>t.getFilterIndex()>-1,getFilterValue:()=>{var n,r;return(n=e.getState().columnFilters)==null||(r=n.find(i=>i.id===t.id))==null?void 0:r.value},getFilterIndex:()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},setFilterValue:n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(d=>d.id===t.id),o=Rs(n,s?s.value:void 0);if(mx(i,o,t)){var a;return(a=r==null?void 0:r.filter(d=>d.id!==t.id))!=null?a:[]}const u={id:t.id,value:o};if(s){var c;return(c=r==null?void 0:r.map(d=>d.id===t.id?u:d))!=null?c:[]}return r!=null&&r.length?[...r,u]:[u]})},_getFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),getFacetedRowModel:()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),_getFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),getFacetedUniqueValues:()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),getFacetedMinMaxValues:()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}),createRow:(t,e)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:t=>({getGlobalAutoFilterFn:()=>ji.includesString,getGlobalFilterFn:()=>{var e,n;const{globalFilterFn:r}=t.options;return rp(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:ji[r]},setColumnFilters:e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Rs(e,i))==null?void 0:s.filter(o=>{const a=n.find(u=>u.id===o.id);if(a){const u=a.getFilterFn();if(mx(u,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},setGlobalFilter:e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},resetGlobalFilter:e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)},resetColumnFilters:e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},getPreFilteredRowModel:()=>t.getCoreRowModel(),getFilteredRowModel:()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel()),_getGlobalFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),getGlobalFacetedRowModel:()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),getGlobalFacetedUniqueValues:()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}})};function mx(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const bj=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),_j=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},xj=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Ij=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Cj=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Mj=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!pj(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},Aj=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),kj=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Tj=(t,e)=>e.length,lm={sum:bj,min:_j,max:xj,extent:Ij,mean:Cj,median:Mj,unique:Aj,uniqueCount:kj,count:Tj},Rj={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Jr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>({toggleGrouping:()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},getCanGroup:()=>{var n,r,i,s;return(n=(r=(i=(s=t.columnDef.enableGrouping)!=null?s:!0)!=null?i:e.options.enableGrouping)!=null?r:!0)!=null?n:!!t.accessorFn},getIsGrouped:()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},getGroupedIndex:()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},getToggleGroupingHandler:()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},getAutoAggregationFn:()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return lm.sum;if(Object.prototype.toString.call(r)==="[object Date]")return lm.extent},getAggregationFn:()=>{var n,r;if(!t)throw new Error;return rp(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:lm[t.columnDef.aggregationFn]}}),createTable:t=>({setGrouping:e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),resetGrouping:e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},getPreGroupedRowModel:()=>t.getFilteredRowModel(),getGroupedRowModel:()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())}),createRow:(t,e)=>({getIsGrouped:()=>!!t.groupingColumnId,getGroupingValue:n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},_groupingValuesCache:{}}),createCell:(t,e,n,r)=>({getIsGrouped:()=>e.getIsGrouped()&&e.id===n.groupingColumnId,getIsPlaceholder:()=>!t.getIsGrouped()&&e.getIsGrouped(),getIsAggregated:()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}})};function Nj(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const Oj={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Jr("columnOrder",t)}),createTable:t=>({setColumnOrder:e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),resetColumnOrder:e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},_getOrderColumnsFn:Oe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],a=[...i];for(;a.length&&o.length;){const u=o.shift(),c=a.findIndex(d=>d.id===u);c>-1&&s.push(a.splice(c,1)[0])}s=[...s,...a]}return Nj(s,n,r)},{key:!1})})},gv=0,mv=10,cm=()=>({pageIndex:gv,pageSize:mv}),Lj={getInitialState:t=>({...t,pagination:{...cm(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Jr("pagination",t)}),createTable:t=>{let e=!1,n=!1;return{_autoResetPageIndex:()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},setPagination:r=>{const i=s=>Rs(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},resetPagination:r=>{var i;t.setPagination(r?cm():(i=t.initialState.pagination)!=null?i:cm())},setPageIndex:r=>{t.setPagination(i=>{let s=Rs(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},resetPageIndex:r=>{var i,s,o;t.setPageIndex(r?gv:(i=(s=t.initialState)==null||(o=s.pagination)==null?void 0:o.pageIndex)!=null?i:gv)},resetPageSize:r=>{var i,s,o;t.setPageSize(r?mv:(i=(s=t.initialState)==null||(o=s.pagination)==null?void 0:o.pageSize)!=null?i:mv)},setPageSize:r=>{t.setPagination(i=>{const s=Math.max(1,Rs(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},setPageCount:r=>t.setPagination(i=>{var s;let o=Rs(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),getPageOptions:Oe(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},{key:!1,debug:()=>{var r;return(r=t.options.debugAll)!=null?r:t.options.debugTable}}),getCanPreviousPage:()=>t.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},previousPage:()=>t.setPageIndex(r=>r-1),nextPage:()=>t.setPageIndex(r=>r+1),getPrePaginationRowModel:()=>t.getExpandedRowModel(),getPaginationRowModel:()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),getPageCount:()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getPrePaginationRowModel().rows.length/t.getState().pagination.pageSize)}}}},fm=()=>({left:[],right:[]}),Dj={getInitialState:t=>({columnPinning:fm(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Jr("columnPinning",t)}),createColumn:(t,e)=>({pin:n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var a,u;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((u=i==null?void 0:i.right)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var c,d;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g)))}})},getCanPin:()=>t.getLeafColumns().some(r=>{var i,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=e.options.enablePinning)!=null?s:!0)}),getIsPinned:()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},getPinnedIndex:()=>{var n,r,i;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(i=r[s])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}}),createRow:(t,e)=>({getCenterVisibleCells:Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}}),getLeftVisibleCells:Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,,],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}}),getRightVisibleCells:Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})}),createTable:t=>({setColumnPinning:e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),resetColumnPinning:e=>{var n,r;return t.setColumnPinning(e?fm():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:fm())},getIsSomeColumnsPinned:e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},getLeftLeafColumns:Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}}),getRightLeafColumns:Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}}),getCenterLeafColumns:Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}})})},Pj={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Jr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>({setRowSelection:e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),resetRowSelection:e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},toggleAllRowsSelected:e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},toggleAllPageRowsSelected:e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{yv(i,s.id,r,t)}),i}),getPreSelectedRowModel:()=>t.getCoreRowModel(),getSelectedRowModel:Oe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?hm(t,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),getFilteredSelectedRowModel:Oe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?hm(t,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),getGroupedSelectedRowModel:Oe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?hm(t,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),getIsAllRowsSelected:()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},getIsAllPageRowsSelected:()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},getIsSomeRowsSelected:()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>e=>{t.toggleAllRowsSelected(e.target.checked)},getToggleAllPageRowsSelectedHandler:()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}}),createRow:(t,e)=>({toggleSelected:n=>{const r=t.getIsSelected();e.setRowSelection(i=>{if(n=typeof n<"u"?n:!r,r===n)return i;const s={...i};return yv(s,t.id,n,e),s})},getIsSelected:()=>{const{rowSelection:n}=e.getState();return vS(t,n)},getIsSomeSelected:()=>{const{rowSelection:n}=e.getState();return yx(t,n)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=e.getState();return yx(t,n)==="all"},getCanSelect:()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},getCanSelectSubRows:()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},getCanMultiSelect:()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},getToggleSelectedHandler:()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}})},yv=(t,e,n,r)=>{var i;const s=r.getRow(e);n?(s.getCanMultiSelect()||Object.keys(t).forEach(o=>delete t[o]),s.getCanSelect()&&(t[e]=!0)):delete t[e],(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(o=>yv(t,o.id,n,r))};function hm(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(u=>{var c;const d=vS(u,n);if(d&&(r.push(u),i[u.id]=u),(c=u.subRows)!=null&&c.length&&(u={...u,subRows:s(u.subRows)}),d)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function vS(t,e){var n;return(n=e[t.id])!=null?n:!1}function yx(t,e,n){if(t.subRows&&t.subRows.length){let r=!0,i=!1;return t.subRows.forEach(s=>{i&&!r||(vS(s,e)?i=!0:r=!1)}),r?"all":i?"some":!1}return!1}const vv=/([0-9]+)/gm,Bj=(t,e,n)=>iR(to(t.getValue(n)).toLowerCase(),to(e.getValue(n)).toLowerCase()),Fj=(t,e,n)=>iR(to(t.getValue(n)),to(e.getValue(n))),$j=(t,e,n)=>wS(to(t.getValue(n)).toLowerCase(),to(e.getValue(n)).toLowerCase()),Uj=(t,e,n)=>wS(to(t.getValue(n)),to(e.getValue(n))),zj=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},jj=(t,e,n)=>wS(t.getValue(n),e.getValue(n));function wS(t,e){return t===e?0:t>e?1:-1}function to(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function iR(t,e){const n=t.split(vv).filter(Boolean),r=e.split(vv).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),u=[o,a].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const xl={alphanumeric:Bj,alphanumericCaseSensitive:Fj,text:$j,textCaseSensitive:Uj,datetime:zj,basic:jj},Vj={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto"}),getDefaultOptions:t=>({onSortingChange:Jr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>({getAutoSortingFn:()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return xl.datetime;if(typeof s=="string"&&(r=!0,s.split(vv).length>1))return xl.alphanumeric}return r?xl.text:xl.basic},getAutoSortDir:()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},getSortingFn:()=>{var n,r;if(!t)throw new Error;return rp(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:xl[t.columnDef.sortingFn]},toggleSorting:(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const a=o==null?void 0:o.find(w=>w.id===t.id),u=o==null?void 0:o.findIndex(w=>w.id===t.id);let c=[],d,g=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?a?d="toggle":d="add":o!=null&&o.length&&u!==o.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(s||i||(d="remove")),d==="add"){var S;c=[...o,{id:t.id,desc:g}],c.splice(0,c.length-((S=e.options.maxMultiSortColCount)!=null?S:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=o.map(w=>w.id===t.id?{...w,desc:g}:w):d==="remove"?c=o.filter(w=>w.id!==t.id):c=[{id:t.id,desc:g}];return c})},getFirstSortDir:()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},getCanSort:()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},getCanMultiSort:()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},getIsSorted:()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},getSortIndex:()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},clearSorting:()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},getToggleSortingHandler:()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}}),createTable:t=>({setSorting:e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),resetSorting:e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},getPreSortedRowModel:()=>t.getGroupedRowModel(),getSortedRowModel:()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())})},Hj={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Jr("columnVisibility",t)}),createColumn:(t,e)=>({toggleVisibility:n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},getIsVisible:()=>{var n,r;return(n=(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},getCanHide:()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},getToggleVisibilityHandler:()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}}),createRow:(t,e)=>({_getAllVisibleCells:Oe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}}),getVisibleCells:Oe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})}),createTable:t=>{const e=(n,r)=>Oe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),{key:n,debug:()=>{var i;return(i=t.options.debugAll)!=null?i:t.options.debugColumns}});return{getVisibleFlatColumns:e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),getVisibleLeafColumns:e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),getLeftVisibleLeafColumns:e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),getRightVisibleLeafColumns:e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),getCenterVisibleLeafColumns:e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),setColumnVisibility:n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),resetColumnVisibility:n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},toggleAllColumnsVisible:n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),getIsSomeColumnsVisible:()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}}},vx=[yj,Hj,Oj,Dj,Ej,Vj,Rj,Sj,Lj,Pj,vj];function qj(t){var e;(t.debugAll||t.debugTable)&&console.info("Creating Table Instance...");let n={_features:vx};const r=n._features.reduce((d,g)=>Object.assign(d,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),i=d=>n.options.mergeOptions?n.options.mergeOptions(r,d):{...r,...d};let o={...{},...(e=t.initialState)!=null?e:{}};n._features.forEach(d=>{var g;o=(g=d.getInitialState==null?void 0:d.getInitialState(o))!=null?g:o});const a=[];let u=!1;const c={_features:vx,options:{...r,...t},initialState:o,_queue:d=>{a.push(d),u||(u=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();u=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:d=>{const g=Rs(d,n.options);n.options=i(g)},getState:()=>n.options.state,setState:d=>{n.options.onStateChange==null||n.options.onStateChange(d)},_getRowId:(d,g,S)=>{var w;return(w=n.options.getRowId==null?void 0:n.options.getRowId(d,g,S))!=null?w:`${S?[S.id,g].join("."):g}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:d=>{const g=n.getRowModel().rowsById[d];if(!g)throw new Error;return g},_getDefaultColumnDef:Oe(()=>[n.options.defaultColumn],d=>{var g;return d=(g=d)!=null?g:{},{header:S=>{const w=S.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:S=>{var w,C;return(w=(C=S.renderValue())==null||C.toString==null?void 0:C.toString())!=null?w:null},...n._features.reduce((S,w)=>Object.assign(S,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...d}},{debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Oe(()=>[n._getColumnDefs()],d=>{const g=function(S,w,C){return C===void 0&&(C=0),S.map(x=>{const N=mj(n,x,C,w),T=x;return N.columns=T.columns?g(T.columns,N,C+1):[],N})};return g(d)},{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),getAllFlatColumns:Oe(()=>[n.getAllColumns()],d=>d.flatMap(g=>g.getFlatColumns()),{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),_getAllFlatColumnsById:Oe(()=>[n.getAllFlatColumns()],d=>d.reduce((g,S)=>(g[S.id]=S,g),{}),{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),getAllLeafColumns:Oe(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(d,g)=>{let S=d.flatMap(w=>w.getLeafColumns());return g(S)},{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),getColumn:d=>n._getAllFlatColumnsById()[d]};return Object.assign(n,c),n._features.forEach(d=>Object.assign(n,d.createTable==null?void 0:d.createTable(n))),n}function Wj(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Oe(()=>[t,n,e,s],(o,a,u,c)=>({table:o,column:a,row:u,cell:c,getValue:c.getValue,renderValue:c.renderValue}),{key:!1,debug:()=>t.options.debugAll})};return t._features.forEach(o=>{Object.assign(s,o.createCell==null?void 0:o.createCell(s,n,e,t))},{}),s}const SS=(t,e,n,r,i,s,o)=>{let a={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const c=t.getColumn(u);if(c!=null&&c.accessorFn)return a._valuesCache[u]=c.accessorFn(a.original,r),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const c=t.getColumn(u);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var c;return(c=a.getValue(u))!=null?c:t.options.renderFallbackValue},subRows:s??[],getLeafRows:()=>gj(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId):void 0,getParentRows:()=>{let u=[],c=a;for(;;){const d=c.getParentRow();if(!d)break;u.push(d),c=d}return u.reverse()},getAllCells:Oe(()=>[t.getAllLeafColumns()],u=>u.map(c=>Wj(t,a,c,c.id)),{key:!1,debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugRows}}),_getAllCellsByColumnId:Oe(()=>[a.getAllCells()],u=>u.reduce((c,d)=>(c[d.column.id]=d,c),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugRows}})};for(let u=0;u<t._features.length;u++){const c=t._features[u];Object.assign(a,c==null||c.createRow==null?void 0:c.createRow(a,t))}return a};function Kj(){return t=>Oe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let c=0;c<i.length;c++){const d=SS(t,t._getRowId(i[c],c,o),i[c],c,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,a.push(d),t.options.getSubRows){var u;d.originalSubRows=t.options.getSubRows(i[c],c),(u=d.originalSubRows)!=null&&u.length&&(d.subRows=r(d.originalSubRows,s+1,d))}}return a};return n.rows=r(e),n},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable},onChange:()=>{t._autoResetPageIndex()}})}function sR(t,e,n){return n.options.filterFromLeafRows?Gj(t,e,n):Qj(t,e,n)}function Gj(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(u,c){c===void 0&&(c=0);const d=[];for(let S=0;S<u.length;S++){var g;let w=u[S];const C=SS(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);if(C.columnFilters=w.columnFilters,(g=w.subRows)!=null&&g.length&&c<o){if(C.subRows=a(w.subRows,c+1),w=C,e(w)&&!C.subRows.length){d.push(w),s[w.id]=w,s[S]=w;continue}if(e(w)||C.subRows.length){d.push(w),s[w.id]=w,s[S]=w;continue}}else w=C,e(w)&&(d.push(w),s[w.id]=w,s[S]=w)}return d};return{rows:a(t),flatRows:i,rowsById:s}}function Qj(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(u,c){c===void 0&&(c=0);const d=[];for(let S=0;S<u.length;S++){let w=u[S];if(e(w)){var g;if((g=w.subRows)!=null&&g.length&&c<o){const x=SS(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);x.subRows=a(w.subRows,c+1),w=x}d.push(w),i.push(w),s[w.id]=w}}return d};return{rows:a(t),flatRows:i,rowsById:s}}function Yj(){return t=>Oe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let S=0;S<e.flatRows.length;S++)e.flatRows[S].columnFilters={},e.flatRows[S].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(S=>{var w;const C=t.getColumn(S.id);if(!C)return;const x=C.getFilterFn();x&&i.push({id:S.id,filterFn:x,resolvedValue:(w=x.resolveFilterValue==null?void 0:x.resolveFilterValue(S.value))!=null?w:S.value})});const o=n.map(S=>S.id),a=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(S=>S.getCanGlobalFilter());r&&a&&u.length&&(o.push("__global__"),u.forEach(S=>{var w;s.push({id:S.id,filterFn:a,resolvedValue:(w=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?w:r})}));let c,d;for(let S=0;S<e.flatRows.length;S++){const w=e.flatRows[S];if(w.columnFilters={},i.length)for(let C=0;C<i.length;C++){c=i[C];const x=c.id;w.columnFilters[x]=c.filterFn(w,x,c.resolvedValue,N=>{w.columnFiltersMeta[x]=N})}if(s.length){for(let C=0;C<s.length;C++){d=s[C];const x=d.id;if(d.filterFn(w,x,d.resolvedValue,N=>{w.columnFiltersMeta[x]=N})){w.columnFilters.__global__=!0;break}}w.columnFilters.__global__!==!0&&(w.columnFilters.__global__=!1)}}const g=S=>{for(let w=0;w<o.length;w++)if(S.columnFilters[o[w]]===!1)return!1;return!0};return sR(e.rows,g,t)},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable},onChange:()=>{t._autoResetPageIndex()}})}function Zj(){return(t,e)=>Oe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(a=>a.id).filter(a=>a!==e),i?"__global__":void 0].filter(Boolean),o=a=>{for(let u=0;u<s.length;u++)if(a.columnFilters[s[u]]===!1)return!1;return!0};return sR(n.rows,o,t)},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable},onChange:()=>{}})}function Xj(){return(t,e)=>Oe(()=>{var n;return[(n=t.getColumn(e))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(e);for(let a=0;a<o.length;a++){const u=o[a];if(r.has(u)){var i;r.set(u,((i=r.get(u))!=null?i:0)+1)}else r.set(u,1)}}return r},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable},onChange:()=>{}})}function Jj(){return(t,e)=>Oe(()=>{var n;return[(n=t.getColumn(e))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const i=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(e);if(typeof i>"u")return;let s=[i,i];for(let o=0;o<n.flatRows.length;o++){const a=n.flatRows[o].getUniqueValues(e);for(let u=0;u<a.length;u++){const c=a[u];c<s[0]?s[0]=c:c>s[1]&&(s[1]=c)}}return s},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable},onChange:()=>{}})}function eV(){return t=>Oe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(u=>{var c;return(c=t.getColumn(u.id))==null?void 0:c.getCanSort()}),o={};s.forEach(u=>{const c=t.getColumn(u.id);c&&(o[u.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=u=>{const c=[...u];return c.sort((d,g)=>{for(let w=0;w<s.length;w+=1){var S;const C=s[w],x=o[C.id],N=(S=C==null?void 0:C.desc)!=null?S:!1;if(x.sortUndefined){const k=d.getValue(C.id),M=g.getValue(C.id),B=typeof k>"u",L=typeof M>"u";if(B||L){let P=B&&L?0:B?x.sortUndefined:-x.sortUndefined;return N&&P!==0&&(P*=-1),P}}let T=x.sortingFn(d,g,C.id);if(T!==0)return N&&(T*=-1),x.invertSorting&&(T*=-1),T}return d.index-g.index}),c.forEach(d=>{var g;i.push(d),(g=d.subRows)!=null&&g.length&&(d.subRows=a(d.subRows))}),c};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable},onChange:()=>{t._autoResetPageIndex()}})}function tV(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function nV(t){return e=>Oe(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:a,rowsById:u}=r;const c=i*s,d=c+i;o=o.slice(c,d);let g;e.options.paginateExpandedRows?g={rows:o,flatRows:a,rowsById:u}:g=tV({rows:o,flatRows:a,rowsById:u}),g.flatRows=[];const S=w=>{g.flatRows.push(w),w.subRows.length&&w.subRows.forEach(S)};return g.rows.forEach(S),g},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wx(t,e){return t?rV(t)?$.createElement(t,e):t:null}function rV(t){return iV(t)||typeof t=="function"||sV(t)}function iV(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function sV(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function oV(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=$.useState(()=>({current:qj(e)})),[r,i]=$.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}/**
 * match-sorter-utils
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oR={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},aV=Object.keys(oR).join("|"),uV=new RegExp(aV,"g");function lV(t){return t.replace(uV,e=>oR[e])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const lr={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function cV(t,e,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:lr.MATCHES,!n.accessors){const o=Sx(t,e,n);return{rankedValue:t,rank:o,accessorIndex:-1,accessorThreshold:n.threshold,passed:o>=n.threshold}}const i=pV(t,n.accessors),s={rankedValue:t,rank:lr.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let o=0;o<i.length;o++){const a=i[o];let u=Sx(a.itemValue,e,n);const{minRanking:c,maxRanking:d,threshold:g=n.threshold}=a.attributes;u<c&&u>=lr.MATCHES?u=c:u>d&&(u=d),u=Math.min(u,d),u>=g&&u>s.rank&&(s.rank=u,s.passed=!0,s.accessorIndex=o,s.accessorThreshold=g,s.rankedValue=a.itemValue)}return s}function Sx(t,e,n){return t=Ex(t,n),e=Ex(e,n),e.length>t.length?lr.NO_MATCH:t===e?lr.CASE_SENSITIVE_EQUAL:(t=t.toLowerCase(),e=e.toLowerCase(),t===e?lr.EQUAL:t.startsWith(e)?lr.STARTS_WITH:t.includes(` ${e}`)?lr.WORD_STARTS_WITH:t.includes(e)?lr.CONTAINS:e.length===1?lr.NO_MATCH:fV(t).includes(e)?lr.ACRONYM:hV(t,e))}function fV(t){let e="";return t.split(" ").forEach(r=>{r.split("-").forEach(s=>{e+=s.substr(0,1)})}),e}function hV(t,e){let n=0,r=0;function i(u,c,d){for(let g=d,S=c.length;g<S;g++)if(c[g]===u)return n+=1,g+1;return-1}function s(u){const c=1/u,d=n/e.length;return lr.MATCHES+d*c}const o=i(e[0],t,0);if(o<0)return lr.NO_MATCH;r=o;for(let u=1,c=e.length;u<c;u++){const d=e[u];if(r=i(d,t,r),!(r>-1))return lr.NO_MATCH}const a=r-o;return s(a)}function Ex(t,e){let{keepDiacritics:n}=e;return t=`${t}`,n||(t=lV(t)),t}function dV(t,e){let n=e;typeof e=="object"&&(n=e.accessor);const r=n(t);return r==null?[]:Array.isArray(r)?r:[String(r)]}function pV(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r],o=gV(s),a=dV(t,s);for(let u=0,c=a.length;u<c;u++)n.push({itemValue:a[u],attributes:o})}return n}const bx={maxRanking:1/0,minRanking:-1/0};function gV(t){return typeof t=="function"?bx:{...bx,...t}}const mV=({data:t,handleRowClick:e})=>{const[n,r]=Q.useState([]),[i,s]=Q.useState(""),o=[{header:"Amount (Lamports)",accessorKey:"amount",cell:c=>c.getValue(),footer:c=>c.column.id},{header:"Solana Amount",accessorKey:"amount",cell:c=>S7(Number(c.getValue())),id:"solanaAmount",footer:c=>c.column.id,enableColumnFilter:!1},{header:"To Public Key",accessorKey:"toAddress",cell:c=>c.getValue(),footer:c=>c.column.id},{header:"Timestamp",accessorKey:"timestamp",cell:c=>c.getValue().toDate().toString(),footer:c=>c.column.id},{header:"Signature",accessorKey:"signature",cell:c=>c.getValue(),footer:c=>c.column.id}],a=(c,d,g,S)=>{const w=cV(c.getValue(d),g);return S({itemRank:w}),w.passed},u=oV({data:t,columns:o,filterFns:{fuzzy:a},state:{columnFilters:n,globalFilter:i},onGlobalFilterChange:s,onColumnFiltersChange:r,globalFilterFn:a,getCoreRowModel:Kj(),getFilteredRowModel:Yj(),getSortedRowModel:eV(),getPaginationRowModel:nV(),getFacetedRowModel:Zj(),getFacetedUniqueValues:Xj(),getFacetedMinMaxValues:Jj()});return J.jsxs("div",{children:[J.jsx("div",{children:J.jsx(Wh,{value:i??"",onChange:c=>s(String(c)),className:"p-2 font-lg shadow border border-block",placeholder:"Search all columns..."})}),J.jsxs("table",{children:[J.jsx("thead",{children:u.getHeaderGroups().map(c=>J.jsx("tr",{children:c.headers.map(d=>J.jsx("th",{children:d.isPlaceholder?null:J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:d.column.getCanSort()?"cursor-pointer select-none":"",onClick:d.column.getToggleSortingHandler(),children:[wx(d.column.columnDef.header,d.getContext()),{asc:" ",desc:" "}[d.column.getIsSorted()]??null]}),d.column.getCanFilter()?J.jsx("div",{children:J.jsx(yV,{column:d.column,table:u})}):null]})},d.id))},c.id))}),J.jsx("tbody",{children:u.getRowModel().rows.map(c=>J.jsx("tr",{onClick:()=>e(c.original),children:c.getVisibleCells().map(d=>J.jsx("td",{children:wx(d.column.columnDef.cell,d.getContext())},d.id+d.column))},c.id))})]}),J.jsx("div",{className:"h-2"}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("button",{className:"border rounded p-1",onClick:()=>u.setPageIndex(0),disabled:!u.getCanPreviousPage(),children:"<<"}),J.jsx("button",{className:"border rounded p-1",onClick:()=>u.previousPage(),disabled:!u.getCanPreviousPage(),children:"<"}),J.jsx("button",{className:"border rounded p-1",onClick:()=>u.nextPage(),disabled:!u.getCanNextPage(),children:">"}),J.jsx("button",{className:"border rounded p-1",onClick:()=>u.setPageIndex(u.getPageCount()-1),disabled:!u.getCanNextPage(),children:">>"}),J.jsxs("span",{className:"flex items-center gap-1",children:[J.jsx("div",{children:"Page"}),J.jsxs("strong",{children:[u.getState().pagination.pageIndex+1," of"," ",u.getPageCount()]})]}),J.jsxs("span",{className:"flex items-center gap-1",children:["| Go to page:",J.jsx("input",{type:"number",defaultValue:u.getState().pagination.pageIndex+1,onChange:c=>{const d=c.target.value?Number(c.target.value)-1:0;u.setPageIndex(d)},className:"border p-1 rounded w-16"})]}),J.jsx("select",{value:u.getState().pagination.pageSize,onChange:c=>{u.setPageSize(Number(c.target.value))},children:[10,20,30,40,50].map(c=>J.jsxs("option",{value:c,children:["Show ",c]},c))})]}),J.jsxs("div",{children:[u.getPrePaginationRowModel().rows.length," Rows"]})]})};function yV({column:t,table:e}){var s,o,a,u,c,d,g,S,w;const n=(s=e.getPreFilteredRowModel().flatRows[0])==null?void 0:s.getValue(t.id),r=t.getFilterValue(),i=Q.useMemo(()=>typeof n=="number"?[]:Array.from(t.getFacetedUniqueValues().keys()).sort(),[t.getFacetedUniqueValues()]);return typeof n=="number"?J.jsxs("div",{children:[J.jsxs("div",{className:"flex space-x-2",children:[J.jsx(Wh,{type:"number",min:Number(((o=t.getFacetedMinMaxValues())==null?void 0:o[0])??""),max:Number(((a=t.getFacetedMinMaxValues())==null?void 0:a[1])??""),value:(r==null?void 0:r[0])??"",onChange:C=>t.setFilterValue(x=>[C,x==null?void 0:x[1]]),placeholder:`Min ${(u=t.getFacetedMinMaxValues())!=null&&u[0]?`(${(c=t.getFacetedMinMaxValues())==null?void 0:c[0]})`:""}`,className:"w-24 border shadow rounded"}),J.jsx(Wh,{type:"number",min:Number(((d=t.getFacetedMinMaxValues())==null?void 0:d[0])??""),max:Number(((g=t.getFacetedMinMaxValues())==null?void 0:g[1])??""),value:(r==null?void 0:r[1])??"",onChange:C=>t.setFilterValue(x=>[x==null?void 0:x[0],C]),placeholder:`Max ${(S=t.getFacetedMinMaxValues())!=null&&S[1]?`(${(w=t.getFacetedMinMaxValues())==null?void 0:w[1]})`:""}`,className:"w-24 border shadow rounded"})]}),J.jsx("div",{className:"h-1"})]}):J.jsxs(J.Fragment,{children:[J.jsx("datalist",{id:t.id+"list",children:i.slice(0,5e3).map(C=>J.jsx("option",{value:C},C))}),J.jsx(Wh,{type:"text",value:r??"",onChange:C=>t.setFilterValue(C),placeholder:`Search... (${t.getFacetedUniqueValues().size})`,className:"w-36 border shadow rounded",list:t.id+"list"}),J.jsx("div",{className:"h-1"})]})}function Wh({value:t,onChange:e,debounce:n=500,...r}){const[i,s]=Q.useState(t);return Q.useEffect(()=>{s(t)},[t]),Q.useEffect(()=>{const o=setTimeout(()=>{e(i)},n);return()=>clearTimeout(o)},[i]),J.jsx("input",{...r,value:i,onChange:o=>s(o.target.value)})}var vV=({children:t,type:e="reach-portal",containerRef:n})=>{let r=$.useRef(null),i=$.useRef(null),s=uj();return $.useEffect(()=>{n!=null&&(typeof n!="object"||!("current"in n)?console.warn("@reach/portal: Invalid value passed to the `containerRef` of a `Portal`. The portal will be appended to the document body, but if you want to attach it to another DOM node you must pass a valid React ref object to `containerRef`."):n.current==null&&console.warn("@reach/portal: A ref was passed to the `containerRef` prop of a `Portal`, but no DOM node was attached to it. Be sure to pass the ref to a DOM component.\n\nIf you are forwarding the ref from another component, be sure to use the React.forwardRef API. See https://reactjs.org/docs/forwarding-refs.html."))},[n]),lj(()=>{if(!r.current)return;let o=r.current.ownerDocument,a=(n==null?void 0:n.current)||o.body;return i.current=o==null?void 0:o.createElement(e),a.appendChild(i.current),s(),()=>{i.current&&a&&a.removeChild(i.current)}},[e,s,n]),i.current?Zc.createPortal(t,i.current):$.createElement("span",{ref:r})},aR=({unstable_skipInitialRender:t,...e})=>{let[n,r]=$.useState(!1);return $.useEffect(()=>{t&&r(!0)},[t]),t&&!n?null:$.createElement(vV,{...e})};aR.displayName="Portal";function wV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wv="data-focus-lock",uR="data-focus-lock-disabled",SV="data-no-focus-lock",EV="data-autofocus-inside";function bV(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _V(t,e){var n=$.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function lR(t,e){return _V(e||null,function(n){return t.forEach(function(r){return bV(r,n)})})}var dm={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function cR(t){return t}function fR(t,e){e===void 0&&(e=cR);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function ES(t,e){return e===void 0&&(e=cR),fR(t,e)}function hR(t){t===void 0&&(t={});var e=fR(null);return e.options=Bd({async:!0,ssr:!1},t),e}var dR=function(t){var e=t.sideCar,n=M1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,Bd({},n))};dR.isSideCarExport=!0;function xV(t,e){return t.useMedium(e),dR}var pR=ES({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),gR=ES(),IV=ES(),CV=hR({async:!0}),MV=[],bS=$.forwardRef(function(e,n){var r,i=$.useState(),s=i[0],o=i[1],a=$.useRef(),u=$.useRef(!1),c=$.useRef(null),d=e.children,g=e.disabled,S=e.noFocusGuards,w=e.persistentFocus,C=e.crossFrame,x=e.autoFocus;e.allowTextSelection;var N=e.group,T=e.className,k=e.whiteList,M=e.shards,B=M===void 0?MV:M,L=e.as,P=L===void 0?"div":L,F=e.lockProps,U=F===void 0?{}:F,ee=e.sideCar,Z=e.returnFocus,Y=e.onActivation,ce=e.onDeactivation,A=$.useState({}),l=A[0],h=$.useCallback(function(){c.current=c.current||document&&document.activeElement,a.current&&Y&&Y(a.current),u.current=!0},[Y]),p=$.useCallback(function(){u.current=!1,ce&&ce(a.current)},[ce]),y=$.useCallback(function(q){var G=c.current;if(Z&&G&&G.focus){var ae=typeof Z=="object"?Z:void 0;c.current=null,q?Promise.resolve().then(function(){return G.focus(ae)}):G.focus(ae)}},[Z]),m=$.useCallback(function(q){u.current&&pR.useMedium(q)},[]),b=gR.useMedium,R=$.useCallback(function(q){a.current!==q&&(a.current=q,o(q))},[]),v=lt((r={},r[uR]=g&&"disabled",r[wv]=N,r),U),f=S!==!0,I=f&&S!=="tail",K=lR([n,R]);return $.createElement($.Fragment,null,f&&[$.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:dm}),$.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:dm})],!g&&$.createElement(ee,{id:l,sideCar:CV,observed:s,disabled:g,persistentFocus:w,crossFrame:C,autoFocus:x,whiteList:k,shards:B,onActivation:h,onDeactivation:p,returnFocus:y}),$.createElement(P,lt({ref:K},v,{className:T,onBlur:b,onFocus:m}),d),I&&$.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:dm}))});bS.propTypes={};bS.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const mR=bS;function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function AV(t,e){if(Hc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kV(t){var e=AV(t,"string");return Hc(e)==="symbol"?e:String(e)}function TV(t,e,n){return e=kV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(c){return c.props})),e(o)}var u=function(c){Sa(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return o};var g=d.prototype;return g.componentDidMount=function(){s.push(this),a()},g.componentDidUpdate=function(){a()},g.componentWillUnmount=function(){var w=s.indexOf(this);s.splice(w,1),a()},g.render=function(){return Q.createElement(i,this.props)},d}($.PureComponent);return TV(u,"displayName","SideEffect("+n(i)+")"),u}}var no=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},Sv=function(t){return Array.isArray(t)?t:[t]},NV=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},yR=function(t){return t.parentNode?yR(t.parentNode):t},_S=function(t){var e=Sv(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(wv);return n.push.apply(n,i?NV(no(yR(r).querySelectorAll("["+wv+'="'+i+'"]:not(['+uR+'="disabled"])'))):[r]),n},[])},OV=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},LV=function(t,e){return!t||t===document||t&&t.nodeType===Node.DOCUMENT_NODE||!OV(t)&&e(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode)},vR=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=LV(e,vR.bind(void 0,t));return t.set(e,r),r},DV=function(t){return!((t.tagName==="INPUT"||t.tagName==="BUTTON")&&(t.type==="hidden"||t.disabled))},xS=function(t){return!!(t&&t.dataset&&t.dataset.focusGuard)},ip=function(t){return!xS(t)},PV=function(t){return!!t},BV=function(t,e){var n=t.tabIndex-e.tabIndex,r=t.index-e.index;if(n){if(!t.tabIndex)return 1;if(!e.tabIndex)return-1}return n||r},wR=function(t,e,n){return no(t).map(function(r,i){return{node:r,index:i,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!e||r.tabIndex>=0}).sort(BV)},FV=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],Ev=FV.join(","),$V=Ev+", [data-focus-guard]",IS=function(t,e){return t.reduce(function(n,r){return n.concat(no(r.querySelectorAll(e?$V:Ev)),r.parentNode?no(r.parentNode.querySelectorAll(Ev)).filter(function(i){return i===r}):[])},[])},UV=function(t){var e=t.querySelectorAll("["+EV+"]");return no(e).map(function(n){return IS([n])}).reduce(function(n,r){return n.concat(r)},[])},CS=function(t,e){return no(t).filter(function(n){return vR(e,n)}).filter(function(n){return DV(n)})},bv=function(t,e,n){return wR(CS(IS(t,n),e),!0,n)},_x=function(t,e){return wR(CS(IS(t),e),!1)},zV=function(t,e){return CS(UV(t),e)},_v=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&_v(t.parentNode,e),e},pm=function(t,e){for(var n=_v(t),r=_v(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},SR=function(t,e,n){var r=Sv(t),i=Sv(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=pm(o||a,a)||o,n.filter(Boolean).forEach(function(u){var c=pm(s,u);c&&(!o||c.contains(o)?o=c:o=pm(c,o))})}),o},jV=function(t,e){return t.reduce(function(n,r){return n.concat(zV(r,e))},[])},VV=function(t){var e=_S(t).filter(ip),n=SR(t,t,e),r=new Map,i=bv([n],r,!0),s=bv(e,r).filter(function(o){var a=o.node;return ip(a)}).map(function(o){var a=o.node;return a});return i.map(function(o){var a=o.node,u=o.index;return{node:a,index:u,lockItem:s.indexOf(a)>=0,guard:xS(a)}})},HV=function(t){return t===document.activeElement},qV=function(t){return!!no(t.querySelectorAll("iframe")).some(function(e){return HV(e)})},ER=function(t){var e=document&&document.activeElement;return!e||e.dataset&&e.dataset.focusGuard?!1:_S(t).reduce(function(n,r){return n||r.contains(e)||qV(r)},!1)},WV=function(){return document&&no(document.querySelectorAll("["+SV+"]")).some(function(t){return t.contains(document.activeElement)})},bR=function(t){return t.tagName==="INPUT"&&t.type==="radio"},KV=function(t,e){return e.filter(bR).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},MS=function(t,e){return bR(t)&&t.name?KV(t,e):t},GV=function(t){var e=new Set;return t.forEach(function(n){return e.add(MS(n,t))}),t.filter(function(n){return e.has(n)})},xx=function(t){return t[0]&&t.length>1?MS(t[0],t):t[0]},Ix=function(t,e){return t.length>1?t.indexOf(MS(t[e],t)):e},_R="NEW_FOCUS",QV=function(t,e,n,r){var i=t.length,s=t[0],o=t[i-1],a=xS(n);if(!(t.indexOf(n)>=0)){var u=e.indexOf(n),c=r?e.indexOf(r):u,d=r?t.indexOf(r):-1,g=u-c,S=e.indexOf(s),w=e.indexOf(o),C=GV(e),x=C.indexOf(n)-(r?C.indexOf(r):u),N=Ix(t,0),T=Ix(t,i-1);if(u===-1||d===-1)return _R;if(!g&&d>=0)return d;if(u<=S&&a&&Math.abs(g)>1)return T;if(u>=w&&a&&Math.abs(g)>1)return N;if(g&&Math.abs(x)>1)return d;if(u<=S)return T;if(u>w)return N;if(g)return Math.abs(g)>1?d:(i+d+g)%i}},YV=function(t){return function(e){return e.autofocus||e.dataset&&!!e.dataset.autofocus||t.indexOf(e)>=0}},ZV=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(PV)},XV=function(t,e){var n=document&&document.activeElement,r=_S(t).filter(ip),i=SR(n||t,t,r),s=new Map,o=_x(r,s),a=bv(r,s).filter(function(w){var C=w.node;return ip(C)});if(!(!a[0]&&(a=o,!a[0]))){var u=_x([i],s).map(function(w){var C=w.node;return C}),c=ZV(u,a),d=c.map(function(w){var C=w.node;return C}),g=QV(d,u,n,e);if(g===_R){var S=o.map(function(w){var C=w.node;return C}).filter(YV(jV(r,s)));return{node:S&&S.length?xx(S):xx(d)}}return g===void 0?g:c[g]}},JV=function(t){t.focus(),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},gm=0,mm=!1,xR=function(t,e){var n=XV(t,e);if(!mm&&n){if(gm>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),mm=!0,setTimeout(function(){mm=!1},1);return}gm++,JV(n.node),gm--}};function IR(t){var e=window,n=e.setImmediate;typeof n<"u"?n(t):setTimeout(t,1)}var eH=function(){return document&&document.activeElement===document.body},tH=function(){return eH()||WV()},gu=null,Qa=null,mu=null,qc=!1,nH=function(){return!0},rH=function(e){return(gu.whiteList||nH)(e)},iH=function(e,n){mu={observerNode:e,portaledElement:n}},sH=function(e){return mu&&mu.portaledElement===e};function Cx(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var oH=function(e){return e&&"current"in e?e.current:e},aH=function(e){return e?!!qc:qc==="meanwhile"},sp=function(){var e=!1;if(gu){var n=gu,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,u=r||mu&&mu.portaledElement,c=document&&document.activeElement;if(u){var d=[u].concat(o.map(oH).filter(Boolean));if((!c||rH(c))&&(i||aH(a)||!tH()||!Qa&&s)&&(u&&!(ER(d)||sH(c))&&(document&&!Qa&&c&&!s?(c.blur&&c.blur(),document.body.focus()):(e=xR(d,Qa),mu={})),qc=!1,Qa=document&&document.activeElement),document){var g=document&&document.activeElement,S=VV(d),w=S.map(function(C){var x=C.node;return x}).indexOf(g);w>-1&&(S.filter(function(C){var x=C.guard,N=C.node;return x&&N.dataset.focusAutoGuard}).forEach(function(C){var x=C.node;return x.removeAttribute("tabIndex")}),Cx(w,S.length,1,S),Cx(w,-1,-1,S))}}}return e},CR=function(e){sp()&&e&&(e.stopPropagation(),e.preventDefault())},AS=function(){return IR(sp)},uH=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||iH(r,n)},lH=function(){return null},MR=function(){qc="just",setTimeout(function(){qc="meanwhile"},0)},cH=function(){document.addEventListener("focusin",CR,!0),document.addEventListener("focusout",AS),window.addEventListener("blur",MR)},fH=function(){document.removeEventListener("focusin",CR,!0),document.removeEventListener("focusout",AS),window.removeEventListener("blur",MR)};function hH(t){return t.filter(function(e){var n=e.disabled;return!n})}function dH(t){var e=t.slice(-1)[0];e&&!gu&&cH();var n=gu,r=n&&e&&e.id===n.id;gu=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(Qa=null,(!r||n.observed!==e.observed)&&e.onActivation(),sp(),IR(sp)):(fH(),Qa=null)}pR.assignSyncMedium(uH);gR.assignMedium(AS);IV.assignMedium(function(t){return t({moveFocusInside:xR,focusInside:ER})});const pH=RV(hH,dH)(lH);var AR=$.forwardRef(function(e,n){return $.createElement(mR,lt({sideCar:pH,ref:n},e))}),kR=mR.propTypes||{};kR.sideCar;wV(kR,["sideCar"]);AR.propTypes={};const gH=AR;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yu=function(){return yu=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},yu.apply(this,arguments)};function mH(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Kh="right-scroll-bar-position",Gh="width-before-scroll-bar",yH="with-scroll-bars-hidden",vH="--removed-body-scroll-bar-size",TR=hR(),ym=function(){},kg=$.forwardRef(function(t,e){var n=$.useRef(null),r=$.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,g=t.shards,S=t.sideCar,w=t.noIsolation,C=t.inert,x=t.allowPinchZoom,N=t.as,T=N===void 0?"div":N,k=mH(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),M=S,B=lR([n,e]),L=yu({},k,i);return $.createElement($.Fragment,null,d&&$.createElement(M,{sideCar:TR,removeScrollBar:c,shards:g,noIsolation:w,inert:C,setCallbacks:s,allowPinchZoom:!!x,lockRef:n}),o?$.cloneElement($.Children.only(a),yu({},L,{ref:B})):$.createElement(T,yu({},L,{className:u,ref:B}),a))});kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kg.classNames={fullWidth:Gh,zeroRight:Kh};var Mx,wH=function(){if(Mx)return Mx;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wH();return e&&t.setAttribute("nonce",e),t}function EH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _H=function(){var t=0,e=null;return{add:function(n){t==0&&(e=SH())&&(EH(e,n),bH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xH=function(){var t=_H();return function(e,n){$.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RR=function(){var t=xH(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},IH={left:0,top:0,right:0,gap:0},vm=function(t){return parseInt(t||"",10)||0},CH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[vm(n),vm(r),vm(i)]},MH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return IH;var e=CH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},AH=RR(),kH=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kh," .").concat(Kh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gh," .").concat(Gh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(vH,": ").concat(a,`px;
  }
`)},TH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=$.useMemo(function(){return MH(i)},[i]);return $.createElement(AH,{styles:kH(s,!e,i,n?"":"!important")})},RH=function(t){var e=window.getComputedStyle(t);return e.overflowY!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowY==="visible")},NH=function(t){var e=window.getComputedStyle(t);return t.type==="range"?!0:e.overflowX!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowX==="visible")},Ax=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=NR(t,n);if(r){var i=OR(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},OH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},LH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},NR=function(t,e){return t==="v"?RH(e):NH(e)},OR=function(t,e){return t==="v"?OH(e):LH(e)},DH=function(t,e,n,r,i){var s=r,o=n.target,a=e.contains(o),u=!1,c=s>0,d=0,g=0;do{var S=OR(t,o),w=S[0],C=S[1],x=S[2],N=C-x-w;(w||N)&&NR(t,o)&&(d+=N,g+=w),o=o.parentNode}while(!a&&o!==document.body||a&&(e.contains(o)||e===o));return(c&&(i&&d===0||!i&&s>d)||!c&&(i&&g===0||!i&&-s>g))&&(u=!0),u},xv=!1;if(typeof window<"u")try{var dh=Object.defineProperty({},"passive",{get:function(){return xv=!0,!0}});window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,dh)}catch{xv=!1}var xa=xv?{passive:!1}:!1,ph=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kx=function(t){return[t.deltaX,t.deltaY]},Tx=function(t){return t&&"current"in t?t.current:t},PH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},BH=function(t){return`
  .block-interactivity-`+t+` {pointer-events: none;}
  .allow-interactivity-`+t+` {pointer-events: all;}
`},FH=0,Ia=[];function $H(t){var e=$.useRef([]),n=$.useRef([0,0]),r=$.useRef(),i=$.useState(FH++)[0],s=$.useState(function(){return RR()})[0],o=$.useRef(t);$.useEffect(function(){o.current=t},[t]),$.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-"+i);var x=[t.lockRef.current].concat((t.shards||[]).map(Tx)).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-"+i)}),function(){document.body.classList.remove("block-interactivity-"+i),x.forEach(function(N){return N.classList.remove("allow-interactivity-"+i)})}}},[t.inert,t.lockRef.current,t.shards]);var a=$.useCallback(function(x,N){if("touches"in x&&x.touches.length===2)return!o.current.allowPinchZoom;var T=ph(x),k=n.current,M="deltaX"in x?x.deltaX:k[0]-T[0],B="deltaY"in x?x.deltaY:k[1]-T[1],L,P=x.target,F=Math.abs(M)>Math.abs(B)?"h":"v",U=Ax(F,P);if(!U)return!0;if(U?L=F:(L=F==="v"?"h":"v",U=Ax(F,P)),!U)return!1;if(!r.current&&"changedTouches"in x&&(M||B)&&(r.current=L),!L)return!0;var ee=r.current||L;return DH(ee,N,x,ee==="h"?M:B,!0)},[]),u=$.useCallback(function(x){var N=x;if(!(!Ia.length||Ia[Ia.length-1]!==s)){var T="deltaY"in N?kx(N):ph(N),k=e.current.filter(function(L){return L.name===N.type&&L.target===N.target&&PH(L.delta,T)})[0];if(k&&k.should){N.preventDefault();return}if(!k){var M=(o.current.shards||[]).map(Tx).filter(Boolean).filter(function(L){return L.contains(N.target)}),B=M.length>0?a(N,M[0]):!o.current.noIsolation;B&&N.preventDefault()}}},[]),c=$.useCallback(function(x,N,T,k){var M={name:x,delta:N,target:T,should:k};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(B){return B!==M})},1)},[]),d=$.useCallback(function(x){n.current=ph(x),r.current=void 0},[]),g=$.useCallback(function(x){c(x.type,kx(x),x.target,a(x,t.lockRef.current))},[]),S=$.useCallback(function(x){c(x.type,ph(x),x.target,a(x,t.lockRef.current))},[]);$.useEffect(function(){return Ia.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:S}),document.addEventListener("wheel",u,xa),document.addEventListener("touchmove",u,xa),document.addEventListener("touchstart",d,xa),function(){Ia=Ia.filter(function(x){return x!==s}),document.removeEventListener("wheel",u,xa),document.removeEventListener("touchmove",u,xa),document.removeEventListener("touchstart",d,xa)}},[]);var w=t.removeScrollBar,C=t.inert;return $.createElement($.Fragment,null,C?$.createElement(s,{styles:BH(i)}):null,w?$.createElement(TH,{gapMode:"margin"}):null)}const UH=xV(TR,$H);var LR=$.forwardRef(function(t,e){return $.createElement(kg,yu({},t,{ref:e,sideCar:UH}))});LR.classNames=kg.classNames;const zH=LR;var[jH,DR]=aj("DialogContext",{isOpen:!1});function PR({isOpen:t=!0,children:e,...n}){return $.useEffect(()=>{t?window.__REACH_DISABLE_TOOLTIPS=!0:window.requestAnimationFrame(()=>{window.__REACH_DISABLE_TOOLTIPS=!1})},[t]),$.createElement(aR,{"data-reach-dialog-wrapper":"","data-state":t?"open":"closed",...n},$.createElement(jH,{isOpen:t},e))}PR.displayName="unstable_DialogWrapper";var BR=$.forwardRef(function({allowPinchZoom:e,as:n="div",dangerouslyBypassFocusLock:r,dangerouslyBypassScrollLock:i,initialFocusRef:s,onClick:o,onDismiss:a=mS,onKeyDown:u,onMouseDown:c,unstable_lockFocusAcrossFrames:d,...g},S){let{isOpen:w}=DR("DialogInner"),C=d!==void 0;$.useEffect(()=>{C&&console.warn("The unstable_lockFocusAcrossFrames in @reach/dialog is deprecated. It will be removed in the next minor release.")},[C]);const x=$.useRef(null),N=$.useRef(null),T=WT(N,S),k=$.useCallback(()=>{s&&s.current&&s.current.focus()},[s]);function M(P){x.current===P.target&&(P.stopPropagation(),a(P))}function B(P){P.key==="Escape"&&(P.stopPropagation(),a(P))}function L(P){x.current=P.target}return $.useEffect(()=>N.current?VH(N.current):void 0,[]),$.createElement(gH,{autoFocus:!0,returnFocus:!0,onActivation:k,disabled:r??!w,crossFrame:d??!0},$.createElement(zH,{allowPinchZoom:e,enabled:i!=null?!i:w},$.createElement(n,{...g,ref:T,"data-reach-dialog-inner":"","data-state":w?"open":"closed",onClick:qh(o,M),onKeyDown:qh(u,B),onMouseDown:qh(c,L)})))});BR.displayName="DialogInner";var FR=$.forwardRef(function({as:e="div",isOpen:n=!0,...r},i){return n?$.createElement(PR,{isOpen:n},$.createElement(BR,{"data-reach-dialog-overlay":"",ref:i,as:e,...r})):null});FR.displayName="DialogOverlay";var $R=$.forwardRef(function({as:e="div",onClick:n,onKeyDown:r,...i},s){let{isOpen:o}=DR("DialogContent");return $.createElement(e,{"aria-modal":"true",role:"dialog",tabIndex:-1,...i,ref:s,"data-reach-dialog-content":"","data-state":o?"open":"closed",onClick:qh(n,a=>{a.stopPropagation()})})});$R.displayName="DialogContent";var UR=$.forwardRef(function({allowPinchZoom:e=!1,initialFocusRef:n,isOpen:r,onDismiss:i=mS,...s},o){return $.createElement(FR,{allowPinchZoom:e,initialFocusRef:n,isOpen:r,onDismiss:i},$.createElement($R,{ref:o,...s}))});UR.displayName="Dialog";function VH(t){let e=[],n=[],r=KT(t);return t?(Array.prototype.forEach.call(r.querySelectorAll("body > *"),i=>{var u,c;const s=(c=(u=t.parentNode)==null?void 0:u.parentNode)==null?void 0:c.parentNode;if(i===s)return;let o=i.getAttribute("aria-hidden");o!==null&&o!=="false"||(e.push(o),n.push(i),i.setAttribute("aria-hidden","true"))}),()=>{n.forEach((i,s)=>{let o=e[s];o===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",o)})}):(console.warn("A ref has not yet been attached to a dialog node when attempting to call `createAriaHider`."),mS)}const HH=({transaction:t,handleClose:e})=>J.jsx("div",{children:J.jsxs(UR,{isOpen:t!==null,children:[J.jsxs("button",{onClick:()=>e(),children:[J.jsx(gS,{children:"Close"}),J.jsx("span",{"aria-hidden":!0,children:""})]}),J.jsxs(J.Fragment,{children:[J.jsxs("div",{children:[J.jsx("h2",{children:"Transaction Details"}),J.jsxs("div",{children:[J.jsx("h4",{children:"Amount"}),t==null?void 0:t.amount]}),J.jsxs("div",{children:[J.jsx("h4",{children:"Fee"}),t==null?void 0:t.feeAmount]}),J.jsxs("div",{children:[J.jsx("h4",{children:"Block"}),t==null?void 0:t.block]}),J.jsxs("div",{children:[J.jsx("h4",{children:"Signature"}),t==null?void 0:t.signature]})]}),J.jsx("div",{children:J.jsx("a",{href:`https://solscan.io/tx/${t==null?void 0:t.signature}?cluster=devnet`,children:"View on SolScan"})})]})]})}),qH=()=>{const{publicKey:t}=wa(),[e,n]=Q.useState(null),r=()=>n(null),i=c=>{n(c)},{transactionsData:s,getTransactionsError:o,getTransactionsStatus:a}=HT({publicKeyAddress:(t==null?void 0:t.toString())??""}),u=Q.useReducer(()=>({}),{})[1];return Q.useEffect(()=>{const c=document.getElementById("transactionsStatus");a==="loading"?c.innerHTML="Loading transactions...":a==="error"?c.innerHTML="Error loading data":c.innerHTML=""},[a]),J.jsxs("div",{id:"transactionsTableView",children:[J.jsx("div",{children:J.jsx("span",{id:"transactionsStatus"})}),J.jsx("button",{onClick:()=>u(),children:"Refresh"}),s&&J.jsx(mV,{data:s,handleRowClick:i}),J.jsx(HH,{transaction:e,handleClose:r})]})};function WH(){const{publicKey:t}=wa();return window.Buffer=window.Buffer||Ve.Buffer,Q.useEffect(()=>{console.log("publicKey",t)},[t]),yi(hO,{children:t?Hf("div",{css:Il.container,children:[Hf("div",{css:Il.navBar,children:[yi("p",{children:"new page"}),yi(ox,{})]}),yi(dj,{}),yi("div",{css:Il.transactions,children:"transactions"}),yi(qH,{})]}):Hf("div",{css:Il.homeContainer,children:[yi("div",{css:Il.homeHeader,children:"My Sol Transactions"}),Hf("section",{children:[yi("p",{children:"Welcome. please connect a wallet to begin:"}),yi("div",{children:yi(ox,{})})]})]})})}const Il={homeContainer:vl({width:"100%",height:"100%",backgroundColor:"darkslategray",display:"grid",placeContent:"center"}),homeHeader:vl({fontSize:"3rem",fontWeight:700,color:"yellow"}),container:vl({width:"100%",height:"100%",backgroundColor:"darkslategray",display:"block"}),navBar:vl({width:"100%",height:"20%"}),transactions:vl({background:"lightGray",color:"black"})};const KH="modulepreload",GH=function(t){return"/SolTransactions/"+t},Rx={},QH=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=GH(s),s in Rx)return;Rx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const g=i[d];if(g.href===s&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":KH,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,g)=>{c.addEventListener("load",d),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},YH="Coinbase Wallet";class ZH extends Cg{constructor(e={}){super(),this.name=YH,this.url="https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new xf),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Le.Unsupported&&lS(()=>window!=null&&window.coinbaseSolana?(this._readyState=Le.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Le.Installed)throw new Zs;this._connecting=!0;const e=window.coinbaseSolana;try{await e.connect()}catch(r){throw new ua(r==null?void 0:r.message,r)}if(!e.publicKey)throw new hu;let n;try{n=new xe(e.publicKey.toBytes())}catch(r){throw new Xs(r==null?void 0:r.message,r)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ig(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new tn;try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof Dn?s:new Yi(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signTransaction(e)||e}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new tn;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const XH="Phantom";class JH extends Cg{constructor(e={}){super(),this.name=XH,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new xf),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new xe(n.toBytes())}catch(i){this.emit("error",new Xs(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Le.Unsupported&&(ov()?(this._readyState=Le.Loadable,this.emit("readyStateChange",this._readyState)):lS(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=Le.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Le.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Le.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==Le.Installed)throw new Zs;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new ua(i==null?void 0:i.message,i)}if(!n.publicKey)throw new hu;let r;try{r=new xe(n.publicKey.toBytes())}catch(i){throw new Xs(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ig(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new tn;try{const{signers:s,...o}=r;Ts(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof Dn?s:new Yi(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signTransaction(e)||e}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new tn;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Vc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const eq="Solflare";class tq extends Cg{constructor(e={}){super(),this.name=eq,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new xf),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new xe(n.toBytes())}catch(i){this.emit("error",new Xs(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Le.Unsupported&&lS(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=Le.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Le.Loadable&&ov()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Le.Loadable&&this._readyState!==Le.Installed)throw new Zs;if(this.readyState===Le.Loadable&&ov()){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${s}`;return}let e;try{e=(await QH(()=>import("./index-d199d9d8.js"),[])).default}catch(i){throw new ez(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new Xl(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new ua(i==null?void 0:i.message,i)}if(!n.publicKey)throw new ua;let r;try{r=new xe(n.publicKey.toBytes())}catch(i){throw new Xs(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ig(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signTransaction(e)||e}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ir(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new tn;try{return await n.signMessage(e,"utf8")}catch(r){throw new Vc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const nq=({children:t})=>{const e=av.Devnet,n=Q.useMemo(()=>[new JH,new tq,new ZH],[]),r=Q.useMemo(()=>Y9(e),[e]);return J.jsx(Z9,{endpoint:r,children:J.jsx(d7,{wallets:n,autoConnect:!0,children:J.jsx(v7,{children:t})})})};wm.createRoot(document.getElementById("root")).render(J.jsx(Q.StrictMode,{children:J.jsx(W7,{client:new U7,children:J.jsx(nq,{children:J.jsx(WH,{})})})}));export{J9 as E,xe as P,mn as b,v8 as v};
