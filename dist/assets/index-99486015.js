function qR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Dx={exports:{}},up={},Px={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),WR=Symbol.for("react.portal"),KR=Symbol.for("react.fragment"),GR=Symbol.for("react.strict_mode"),QR=Symbol.for("react.profiler"),YR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),XR=Symbol.for("react.forward_ref"),JR=Symbol.for("react.suspense"),e4=Symbol.for("react.memo"),t4=Symbol.for("react.lazy"),RS=Symbol.iterator;function n4(t){return t===null||typeof t!="object"?null:(t=RS&&t[RS]||t["@@iterator"],typeof t=="function"?t:null)}var Bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fx=Object.assign,$x={};function qu(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Bx}qu.prototype.isReactComponent={};qu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ux(){}Ux.prototype=qu.prototype;function Tv(t,e,n){this.props=t,this.context=e,this.refs=$x,this.updater=n||Bx}var Rv=Tv.prototype=new Ux;Rv.constructor=Tv;Fx(Rv,qu.prototype);Rv.isPureReactComponent=!0;var NS=Array.isArray,zx=Object.prototype.hasOwnProperty,Nv={current:null},Vx={key:!0,ref:!0,__self:!0,__source:!0};function jx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zx.call(e,r)&&!Vx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Yc,type:t,key:s,ref:o,props:i,_owner:Nv.current}}function r4(t,e){return{$$typeof:Yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ov(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yc}function i4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var OS=/\/+/g;function Lg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?i4(""+t.key):e.toString(36)}function vh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yc:case WR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lg(o,0):r,NS(i)?(n="",t!=null&&(n=t.replace(OS,"$&/")+"/"),vh(i,e,n,"",function(c){return c})):i!=null&&(Ov(i)&&(i=r4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(OS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",NS(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Lg(s,a);o+=vh(s,e,n,u,i)}else if(u=n4(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Lg(s,a++),o+=vh(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tf(t,e,n){if(t==null)return t;var r=[],i=0;return vh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function s4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lr={current:null},wh={transition:null},o4={ReactCurrentDispatcher:lr,ReactCurrentBatchConfig:wh,ReactCurrentOwner:Nv};dt.Children={map:Tf,forEach:function(t,e,n){Tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tf(t,function(){e++}),e},toArray:function(t){return Tf(t,function(e){return e})||[]},only:function(t){if(!Ov(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dt.Component=qu;dt.Fragment=KR;dt.Profiler=QR;dt.PureComponent=Tv;dt.StrictMode=GR;dt.Suspense=JR;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o4;dt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Nv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)zx.call(e,u)&&!Vx.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yc,type:t.type,key:i,ref:s,props:r,_owner:o}};dt.createContext=function(t){return t={$$typeof:ZR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YR,_context:t},t.Consumer=t};dt.createElement=jx;dt.createFactory=function(t){var e=jx.bind(null,t);return e.type=t,e};dt.createRef=function(){return{current:null}};dt.forwardRef=function(t){return{$$typeof:XR,render:t}};dt.isValidElement=Ov;dt.lazy=function(t){return{$$typeof:t4,_payload:{_status:-1,_result:t},_init:s4}};dt.memo=function(t,e){return{$$typeof:e4,type:t,compare:e===void 0?null:e}};dt.startTransition=function(t){var e=wh.transition;wh.transition={};try{t()}finally{wh.transition=e}};dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dt.useCallback=function(t,e){return lr.current.useCallback(t,e)};dt.useContext=function(t){return lr.current.useContext(t)};dt.useDebugValue=function(){};dt.useDeferredValue=function(t){return lr.current.useDeferredValue(t)};dt.useEffect=function(t,e){return lr.current.useEffect(t,e)};dt.useId=function(){return lr.current.useId()};dt.useImperativeHandle=function(t,e,n){return lr.current.useImperativeHandle(t,e,n)};dt.useInsertionEffect=function(t,e){return lr.current.useInsertionEffect(t,e)};dt.useLayoutEffect=function(t,e){return lr.current.useLayoutEffect(t,e)};dt.useMemo=function(t,e){return lr.current.useMemo(t,e)};dt.useReducer=function(t,e,n){return lr.current.useReducer(t,e,n)};dt.useRef=function(t){return lr.current.useRef(t)};dt.useState=function(t){return lr.current.useState(t)};dt.useSyncExternalStore=function(t,e,n){return lr.current.useSyncExternalStore(t,e,n)};dt.useTransition=function(){return lr.current.useTransition()};dt.version="18.2.0";Px.exports=dt;var $=Px.exports;const Q=ds($),LS=qR({__proto__:null,default:Q},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4=$,u4=Symbol.for("react.element"),l4=Symbol.for("react.fragment"),c4=Object.prototype.hasOwnProperty,f4=a4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h4={key:!0,ref:!0,__self:!0,__source:!0};function Hx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)c4.call(e,r)&&!h4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:u4,type:t,key:s,ref:o,props:i,_owner:f4.current}}up.Fragment=l4;up.jsx=Hx;up.jsxs=Hx;Dx.exports=up;var Zn=Dx.exports,_m={},qx={exports:{}},Pr={},Wx={exports:{}},Kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(m,b){var R=m.length;m.push(b);e:for(;0<R;){var v=R-1>>>1,f=m[v];if(0<i(f,b))m[v]=b,m[R]=f,R=v;else break e}}function n(m){return m.length===0?null:m[0]}function r(m){if(m.length===0)return null;var b=m[0],R=m.pop();if(R!==b){m[0]=R;e:for(var v=0,f=m.length,C=f>>>1;v<C;){var K=2*(v+1)-1,q=m[K],G=K+1,oe=m[G];if(0>i(q,R))G<f&&0>i(oe,q)?(m[v]=oe,m[G]=R,v=G):(m[v]=q,m[K]=R,v=K);else if(G<f&&0>i(oe,R))m[v]=oe,m[G]=R,v=G;else break e}}return b}function i(m,b){var R=m.sortIndex-b.sortIndex;return R!==0?R:m.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,g=null,S=3,w=!1,I=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(m){for(var b=n(c);b!==null;){if(b.callback===null)r(c);else if(b.startTime<=m)r(c),b.sortIndex=b.expirationTime,e(u,b);else break;b=n(c)}}function B(m){if(x=!1,M(m),!I)if(n(u)!==null)I=!0,p(L);else{var b=n(c);b!==null&&y(B,b.startTime-m)}}function L(m,b){I=!1,x&&(x=!1,k(U),U=-1),w=!0;var R=S;try{for(M(b),g=n(u);g!==null&&(!(g.expirationTime>b)||m&&!Y());){var v=g.callback;if(typeof v=="function"){g.callback=null,S=g.priorityLevel;var f=v(g.expirationTime<=b);b=t.unstable_now(),typeof f=="function"?g.callback=f:g===n(u)&&r(u),M(b)}else r(u);g=n(u)}if(g!==null)var C=!0;else{var K=n(c);K!==null&&y(B,K.startTime-b),C=!1}return C}finally{g=null,S=R,w=!1}}var P=!1,F=null,U=-1,J=5,Z=-1;function Y(){return!(t.unstable_now()-Z<J)}function le(){if(F!==null){var m=t.unstable_now();Z=m;var b=!0;try{b=F(!0,m)}finally{b?A():(P=!1,F=null)}}else P=!1}var A;if(typeof T=="function")A=function(){T(le)};else if(typeof MessageChannel<"u"){var l=new MessageChannel,h=l.port2;l.port1.onmessage=le,A=function(){h.postMessage(null)}}else A=function(){N(le,0)};function p(m){F=m,P||(P=!0,A())}function y(m,b){U=N(function(){m(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(m){m.callback=null},t.unstable_continueExecution=function(){I||w||(I=!0,p(L))},t.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<m?Math.floor(1e3/m):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(m){switch(S){case 1:case 2:case 3:var b=3;break;default:b=S}var R=S;S=b;try{return m()}finally{S=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(m,b){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var R=S;S=m;try{return b()}finally{S=R}},t.unstable_scheduleCallback=function(m,b,R){var v=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?v+R:v):R=v,m){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=R+f,m={id:d++,callback:b,priorityLevel:m,startTime:R,expirationTime:f,sortIndex:-1},R>v?(m.sortIndex=R,e(c,m),n(u)===null&&m===n(c)&&(x?(k(U),U=-1):x=!0,y(B,R-v))):(m.sortIndex=f,e(u,m),I||w||(I=!0,p(L))),m},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(m){var b=S;return function(){var R=S;S=b;try{return m.apply(this,arguments)}finally{S=R}}}})(Kx);Wx.exports=Kx;var d4=Wx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=$,Lr=d4;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qx=new Set,oc={};function pa(t,e){xu(t,e),xu(t+"Capture",e)}function xu(t,e){for(oc[t]=e,t=0;t<e.length;t++)Qx.add(e[t])}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,p4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DS={},PS={};function g4(t){return xm.call(PS,t)?!0:xm.call(DS,t)?!1:p4.test(t)?PS[t]=!0:(DS[t]=!0,!1)}function m4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y4(t,e,n,r){if(e===null||typeof e>"u"||m4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lv=/[\-:]([a-z])/g;function Dv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lv,Dv);Pn[e]=new cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lv,Dv);Pn[e]=new cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lv,Dv);Pn[e]=new cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new cr(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pv(t,e,n,r){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y4(e,n,i,r)&&(n=null),r||i===null?g4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rf=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),Bv=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),Fv=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Mm=Symbol.for("react.suspense_list"),$v=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),Xx=Symbol.for("react.offscreen"),BS=Symbol.iterator;function gl(t){return t===null||typeof t!="object"?null:(t=BS&&t[BS]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,Dg;function Tl(t){if(Dg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dg=e&&e[1]||""}return`
`+Dg+t}var Pg=!1;function Bg(t,e){if(!t||Pg)return"";Pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Pg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tl(t):""}function v4(t){switch(t.tag){case 5:return Tl(t.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return t=Bg(t.type,!1),t;case 11:return t=Bg(t.type.render,!1),t;case 1:return t=Bg(t.type,!0),t;default:return""}}function Am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $a:return"Fragment";case Fa:return"Portal";case Cm:return"Profiler";case Bv:return"StrictMode";case Im:return"Suspense";case Mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zx:return(t.displayName||"Context")+".Consumer";case Yx:return(t._context.displayName||"Context")+".Provider";case Fv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $v:return e=t.displayName||null,e!==null?e:Am(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return Am(t(e))}catch{}}return null}function w4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Am(e);case 8:return e===Bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S4(t){var e=Jx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nf(t){t._valueTracker||(t._valueTracker=S4(t))}function e2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function km(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t2(t,e){e=e.checked,e!=null&&Pv(t,"checked",e,!1)}function Tm(t,e){t2(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $S(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||Zh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rl=Array.isArray;function nu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function US(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Rl(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function n2(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function r2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?r2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Of,i2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Of=Of||document.createElement("div"),Of.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Of.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ac(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E4=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(t){E4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ul[e]=Ul[t]})});function s2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ul.hasOwnProperty(t)&&Ul[t]?(""+e).trim():e+"px"}function o2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=s2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var b4=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(t,e){if(e){if(b4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Dm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=null;function Uv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bm=null,ru=null,iu=null;function VS(t){if(t=Jc(t)){if(typeof Bm!="function")throw Error(te(280));var e=t.stateNode;e&&(e=dp(e),Bm(t.stateNode,t.type,e))}}function a2(t){ru?iu?iu.push(t):iu=[t]:ru=t}function u2(){if(ru){var t=ru,e=iu;if(iu=ru=null,VS(t),e)for(t=0;t<e.length;t++)VS(e[t])}}function l2(t,e){return t(e)}function c2(){}var Fg=!1;function f2(t,e,n){if(Fg)return t(e,n);Fg=!0;try{return l2(t,e,n)}finally{Fg=!1,(ru!==null||iu!==null)&&(c2(),u2())}}function uc(t,e){var n=t.stateNode;if(n===null)return null;var r=dp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Fm=!1;if(rs)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Fm=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Fm=!1}function _4(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var zl=!1,Xh=null,Jh=!1,$m=null,x4={onError:function(t){zl=!0,Xh=t}};function C4(t,e,n,r,i,s,o,a,u){zl=!1,Xh=null,_4.apply(x4,arguments)}function I4(t,e,n,r,i,s,o,a,u){if(C4.apply(this,arguments),zl){if(zl){var c=Xh;zl=!1,Xh=null}else throw Error(te(198));Jh||(Jh=!0,$m=c)}}function ga(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jS(t){if(ga(t)!==t)throw Error(te(188))}function M4(t){var e=t.alternate;if(!e){if(e=ga(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return jS(i),t;if(s===r)return jS(i),e;s=s.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function d2(t){return t=M4(t),t!==null?p2(t):null}function p2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p2(t);if(e!==null)return e;t=t.sibling}return null}var g2=Lr.unstable_scheduleCallback,HS=Lr.unstable_cancelCallback,A4=Lr.unstable_shouldYield,k4=Lr.unstable_requestPaint,tn=Lr.unstable_now,T4=Lr.unstable_getCurrentPriorityLevel,zv=Lr.unstable_ImmediatePriority,m2=Lr.unstable_UserBlockingPriority,ed=Lr.unstable_NormalPriority,R4=Lr.unstable_LowPriority,y2=Lr.unstable_IdlePriority,lp=null,Li=null;function N4(t){if(Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(lp,t,void 0,(t.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:D4,O4=Math.log,L4=Math.LN2;function D4(t){return t>>>=0,t===0?32:31-(O4(t)/L4|0)|0}var Lf=64,Df=4194304;function Nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Nl(a):(s&=o,s!==0&&(r=Nl(s)))}else o=n&~i,o!==0?r=Nl(o):s!==0&&(r=Nl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fi(e),i=1<<n,r|=t[n],e&=~i;return r}function P4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fi(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=P4(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v2(){var t=Lf;return Lf<<=1,!(Lf&4194240)&&(Lf=64),t}function $g(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fi(e),t[e]=n}function F4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Vv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var It=0;function w2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S2,jv,E2,b2,_2,zm=!1,Pf=[],Ds=null,Ps=null,Bs=null,lc=new Map,cc=new Map,Is=[],$4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qS(t,e){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function yl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jc(e),e!==null&&jv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function U4(t,e,n,r,i){switch(e){case"focusin":return Ds=yl(Ds,t,e,n,r,i),!0;case"dragenter":return Ps=yl(Ps,t,e,n,r,i),!0;case"mouseover":return Bs=yl(Bs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lc.set(s,yl(lc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cc.set(s,yl(cc.get(s)||null,t,e,n,r,i)),!0}return!1}function x2(t){var e=zo(t.target);if(e!==null){var n=ga(e);if(n!==null){if(e=n.tag,e===13){if(e=h2(n),e!==null){t.blockedOn=e,_2(t.priority,function(){E2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pm=r,n.target.dispatchEvent(r),Pm=null}else return e=Jc(n),e!==null&&jv(e),t.blockedOn=n,!1;e.shift()}return!0}function WS(t,e,n){Sh(t)&&n.delete(e)}function z4(){zm=!1,Ds!==null&&Sh(Ds)&&(Ds=null),Ps!==null&&Sh(Ps)&&(Ps=null),Bs!==null&&Sh(Bs)&&(Bs=null),lc.forEach(WS),cc.forEach(WS)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,z4)))}function fc(t){function e(i){return vl(i,t)}if(0<Pf.length){vl(Pf[0],t);for(var n=1;n<Pf.length;n++){var r=Pf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ds!==null&&vl(Ds,t),Ps!==null&&vl(Ps,t),Bs!==null&&vl(Bs,t),lc.forEach(e),cc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)x2(n),n.blockedOn===null&&Is.shift()}var su=ps.ReactCurrentBatchConfig,nd=!0;function V4(t,e,n,r){var i=It,s=su.transition;su.transition=null;try{It=1,Hv(t,e,n,r)}finally{It=i,su.transition=s}}function j4(t,e,n,r){var i=It,s=su.transition;su.transition=null;try{It=4,Hv(t,e,n,r)}finally{It=i,su.transition=s}}function Hv(t,e,n,r){if(nd){var i=Vm(t,e,n,r);if(i===null)Qg(t,e,r,rd,n),qS(t,r);else if(U4(i,t,e,n,r))r.stopPropagation();else if(qS(t,r),e&4&&-1<$4.indexOf(t)){for(;i!==null;){var s=Jc(i);if(s!==null&&S2(s),s=Vm(t,e,n,r),s===null&&Qg(t,e,r,rd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qg(t,e,r,null,n)}}var rd=null;function Vm(t,e,n,r){if(rd=null,t=Uv(r),t=zo(t),t!==null)if(e=ga(t),e===null)t=null;else if(n=e.tag,n===13){if(t=h2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rd=t,null}function C2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T4()){case zv:return 1;case m2:return 4;case ed:case R4:return 16;case y2:return 536870912;default:return 16}default:return 16}}var As=null,qv=null,Eh=null;function I2(){if(Eh)return Eh;var t,e=qv,n=e.length,r,i="value"in As?As.value:As.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Eh=i.slice(t,1<r?1-r:void 0)}function bh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bf(){return!0}function KS(){return!1}function Br(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bf:KS,this.isPropagationStopped=KS,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),e}var Wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wv=Br(Wu),Xc=Gt({},Wu,{view:0,detail:0}),H4=Br(Xc),Ug,zg,wl,cp=Gt({},Xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(Ug=t.screenX-wl.screenX,zg=t.screenY-wl.screenY):zg=Ug=0,wl=t),Ug)},movementY:function(t){return"movementY"in t?t.movementY:zg}}),GS=Br(cp),q4=Gt({},cp,{dataTransfer:0}),W4=Br(q4),K4=Gt({},Xc,{relatedTarget:0}),Vg=Br(K4),G4=Gt({},Wu,{animationName:0,elapsedTime:0,pseudoElement:0}),Q4=Br(G4),Y4=Gt({},Wu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z4=Br(Y4),X4=Gt({},Wu,{data:0}),QS=Br(X4),J4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t3[t])?!!e[t]:!1}function Kv(){return n3}var r3=Gt({},Xc,{key:function(t){if(t.key){var e=J4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kv,charCode:function(t){return t.type==="keypress"?bh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i3=Br(r3),s3=Gt({},cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YS=Br(s3),o3=Gt({},Xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kv}),a3=Br(o3),u3=Gt({},Wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),l3=Br(u3),c3=Gt({},cp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f3=Br(c3),h3=[9,13,27,32],Gv=rs&&"CompositionEvent"in window,Vl=null;rs&&"documentMode"in document&&(Vl=document.documentMode);var d3=rs&&"TextEvent"in window&&!Vl,M2=rs&&(!Gv||Vl&&8<Vl&&11>=Vl),ZS=String.fromCharCode(32),XS=!1;function A2(t,e){switch(t){case"keyup":return h3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function p3(t,e){switch(t){case"compositionend":return k2(e);case"keypress":return e.which!==32?null:(XS=!0,ZS);case"textInput":return t=e.data,t===ZS&&XS?null:t;default:return null}}function g3(t,e){if(Ua)return t==="compositionend"||!Gv&&A2(t,e)?(t=I2(),Eh=qv=As=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M2&&e.locale!=="ko"?null:e.data;default:return null}}var m3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!m3[t.type]:e==="textarea"}function T2(t,e,n,r){a2(r),e=id(e,"onChange"),0<e.length&&(n=new Wv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,hc=null;function y3(t){z2(t,0)}function fp(t){var e=ja(t);if(e2(e))return t}function v3(t,e){if(t==="change")return e}var R2=!1;if(rs){var jg;if(rs){var Hg="oninput"in document;if(!Hg){var eE=document.createElement("div");eE.setAttribute("oninput","return;"),Hg=typeof eE.oninput=="function"}jg=Hg}else jg=!1;R2=jg&&(!document.documentMode||9<document.documentMode)}function tE(){jl&&(jl.detachEvent("onpropertychange",N2),hc=jl=null)}function N2(t){if(t.propertyName==="value"&&fp(hc)){var e=[];T2(e,hc,t,Uv(t)),f2(y3,e)}}function w3(t,e,n){t==="focusin"?(tE(),jl=e,hc=n,jl.attachEvent("onpropertychange",N2)):t==="focusout"&&tE()}function S3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fp(hc)}function E3(t,e){if(t==="click")return fp(e)}function b3(t,e){if(t==="input"||t==="change")return fp(e)}function _3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gi=typeof Object.is=="function"?Object.is:_3;function dc(t,e){if(gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xm.call(e,i)||!gi(t[i],e[i]))return!1}return!0}function nE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rE(t,e){var n=nE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nE(n)}}function O2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L2(){for(var t=window,e=Zh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zh(t.document)}return e}function Qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x3(t){var e=L2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O2(n.ownerDocument.documentElement,n)){if(r!==null&&Qv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rE(n,s);var o=rE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C3=rs&&"documentMode"in document&&11>=document.documentMode,za=null,jm=null,Hl=null,Hm=!1;function iE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hm||za==null||za!==Zh(r)||(r=za,"selectionStart"in r&&Qv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&dc(Hl,r)||(Hl=r,r=id(jm,"onSelect"),0<r.length&&(e=new Wv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=za)))}function Ff(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Va={animationend:Ff("Animation","AnimationEnd"),animationiteration:Ff("Animation","AnimationIteration"),animationstart:Ff("Animation","AnimationStart"),transitionend:Ff("Transition","TransitionEnd")},qg={},D2={};rs&&(D2=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function hp(t){if(qg[t])return qg[t];if(!Va[t])return t;var e=Va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in D2)return qg[t]=e[n];return t}var P2=hp("animationend"),B2=hp("animationiteration"),F2=hp("animationstart"),$2=hp("transitionend"),U2=new Map,sE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){U2.set(t,e),pa(e,[t])}for(var Wg=0;Wg<sE.length;Wg++){var Kg=sE[Wg],I3=Kg.toLowerCase(),M3=Kg[0].toUpperCase()+Kg.slice(1);oo(I3,"on"+M3)}oo(P2,"onAnimationEnd");oo(B2,"onAnimationIteration");oo(F2,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo($2,"onTransitionEnd");xu("onMouseEnter",["mouseout","mouseover"]);xu("onMouseLeave",["mouseout","mouseover"]);xu("onPointerEnter",["pointerout","pointerover"]);xu("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function oE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I4(r,e,void 0,t),t.currentTarget=null}function z2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;oE(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;oE(i,a,c),s=u}}}if(Jh)throw t=$m,Jh=!1,$m=null,t}function Ot(t,e){var n=e[Qm];n===void 0&&(n=e[Qm]=new Set);var r=t+"__bubble";n.has(r)||(V2(e,t,2,!1),n.add(r))}function Gg(t,e,n){var r=0;e&&(r|=4),V2(n,t,r,e)}var $f="_reactListening"+Math.random().toString(36).slice(2);function pc(t){if(!t[$f]){t[$f]=!0,Qx.forEach(function(n){n!=="selectionchange"&&(A3.has(n)||Gg(n,!1,t),Gg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$f]||(e[$f]=!0,Gg("selectionchange",!1,e))}}function V2(t,e,n,r){switch(C2(e)){case 1:var i=V4;break;case 4:i=j4;break;default:i=Hv}n=i.bind(null,e,n,t),i=void 0,!Fm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zo(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}f2(function(){var c=s,d=Uv(n),g=[];e:{var S=U2.get(t);if(S!==void 0){var w=Wv,I=t;switch(t){case"keypress":if(bh(n)===0)break e;case"keydown":case"keyup":w=i3;break;case"focusin":I="focus",w=Vg;break;case"focusout":I="blur",w=Vg;break;case"beforeblur":case"afterblur":w=Vg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=GS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=W4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=a3;break;case P2:case B2:case F2:w=Q4;break;case $2:w=l3;break;case"scroll":w=H4;break;case"wheel":w=f3;break;case"copy":case"cut":case"paste":w=Z4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=YS}var x=(e&4)!==0,N=!x&&t==="scroll",k=x?S!==null?S+"Capture":null:S;x=[];for(var T=c,M;T!==null;){M=T;var B=M.stateNode;if(M.tag===5&&B!==null&&(M=B,k!==null&&(B=uc(T,k),B!=null&&x.push(gc(T,B,M)))),N)break;T=T.return}0<x.length&&(S=new w(S,I,null,n,d),g.push({event:S,listeners:x}))}}if(!(e&7)){e:{if(S=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",S&&n!==Pm&&(I=n.relatedTarget||n.fromElement)&&(zo(I)||I[is]))break e;if((w||S)&&(S=d.window===d?d:(S=d.ownerDocument)?S.defaultView||S.parentWindow:window,w?(I=n.relatedTarget||n.toElement,w=c,I=I?zo(I):null,I!==null&&(N=ga(I),I!==N||I.tag!==5&&I.tag!==6)&&(I=null)):(w=null,I=c),w!==I)){if(x=GS,B="onMouseLeave",k="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(x=YS,B="onPointerLeave",k="onPointerEnter",T="pointer"),N=w==null?S:ja(w),M=I==null?S:ja(I),S=new x(B,T+"leave",w,n,d),S.target=N,S.relatedTarget=M,B=null,zo(d)===c&&(x=new x(k,T+"enter",I,n,d),x.target=M,x.relatedTarget=N,B=x),N=B,w&&I)t:{for(x=w,k=I,T=0,M=x;M;M=Ia(M))T++;for(M=0,B=k;B;B=Ia(B))M++;for(;0<T-M;)x=Ia(x),T--;for(;0<M-T;)k=Ia(k),M--;for(;T--;){if(x===k||k!==null&&x===k.alternate)break t;x=Ia(x),k=Ia(k)}x=null}else x=null;w!==null&&aE(g,S,w,x,!1),I!==null&&N!==null&&aE(g,N,I,x,!0)}}e:{if(S=c?ja(c):window,w=S.nodeName&&S.nodeName.toLowerCase(),w==="select"||w==="input"&&S.type==="file")var L=v3;else if(JS(S))if(R2)L=b3;else{L=S3;var P=w3}else(w=S.nodeName)&&w.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(L=E3);if(L&&(L=L(t,c))){T2(g,L,n,d);break e}P&&P(t,S,c),t==="focusout"&&(P=S._wrapperState)&&P.controlled&&S.type==="number"&&Rm(S,"number",S.value)}switch(P=c?ja(c):window,t){case"focusin":(JS(P)||P.contentEditable==="true")&&(za=P,jm=c,Hl=null);break;case"focusout":Hl=jm=za=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,iE(g,n,d);break;case"selectionchange":if(C3)break;case"keydown":case"keyup":iE(g,n,d)}var F;if(Gv)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ua?A2(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(M2&&n.locale!=="ko"&&(Ua||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ua&&(F=I2()):(As=d,qv="value"in As?As.value:As.textContent,Ua=!0)),P=id(c,U),0<P.length&&(U=new QS(U,t,null,n,d),g.push({event:U,listeners:P}),F?U.data=F:(F=k2(n),F!==null&&(U.data=F)))),(F=d3?p3(t,n):g3(t,n))&&(c=id(c,"onBeforeInput"),0<c.length&&(d=new QS("onBeforeInput","beforeinput",null,n,d),g.push({event:d,listeners:c}),d.data=F))}z2(g,e)})}function gc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function id(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uc(t,n),s!=null&&r.unshift(gc(t,s,i)),s=uc(t,e),s!=null&&r.push(gc(t,s,i))),t=t.return}return r}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=uc(n,s),u!=null&&o.unshift(gc(n,u,a))):i||(u=uc(n,s),u!=null&&o.push(gc(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var k3=/\r\n?/g,T3=/\u0000|\uFFFD/g;function uE(t){return(typeof t=="string"?t:""+t).replace(k3,`
`).replace(T3,"")}function Uf(t,e,n){if(e=uE(e),uE(t)!==e&&n)throw Error(te(425))}function sd(){}var qm=null,Wm=null;function Km(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,R3=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,N3=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(t){return lE.resolve(null).then(t).catch(O3)}:Gm;function O3(t){setTimeout(function(){throw t})}function Yg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fc(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ku=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Ku,mc="__reactProps$"+Ku,is="__reactContainer$"+Ku,Qm="__reactEvents$"+Ku,L3="__reactListeners$"+Ku,D3="__reactHandles$"+Ku;function zo(t){var e=t[Mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[is]||n[Mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cE(t);t!==null;){if(n=t[Mi])return n;t=cE(t)}return e}t=n,n=t.parentNode}return null}function Jc(t){return t=t[Mi]||t[is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function dp(t){return t[mc]||null}var Ym=[],Ha=-1;function ao(t){return{current:t}}function Bt(t){0>Ha||(t.current=Ym[Ha],Ym[Ha]=null,Ha--)}function Nt(t,e){Ha++,Ym[Ha]=t.current,t.current=e}var Ys={},nr=ao(Ys),yr=ao(!1),ta=Ys;function Cu(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vr(t){return t=t.childContextTypes,t!=null}function od(){Bt(yr),Bt(nr)}function fE(t,e,n){if(nr.current!==Ys)throw Error(te(168));Nt(nr,e),Nt(yr,n)}function j2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,w4(t)||"Unknown",i));return Gt({},n,r)}function ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,ta=nr.current,Nt(nr,t),Nt(yr,yr.current),!0}function hE(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=j2(t,e,ta),r.__reactInternalMemoizedMergedChildContext=t,Bt(yr),Bt(nr),Nt(nr,t)):Bt(yr),Nt(yr,n)}var Ki=null,pp=!1,Zg=!1;function H2(t){Ki===null?Ki=[t]:Ki.push(t)}function P3(t){pp=!0,H2(t)}function uo(){if(!Zg&&Ki!==null){Zg=!0;var t=0,e=It;try{var n=Ki;for(It=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ki=null,pp=!1}catch(i){throw Ki!==null&&(Ki=Ki.slice(t+1)),g2(zv,uo),i}finally{It=e,Zg=!1}}return null}var qa=[],Wa=0,ud=null,ld=0,qr=[],Wr=0,na=null,Yi=1,Zi="";function Do(t,e){qa[Wa++]=ld,qa[Wa++]=ud,ud=t,ld=e}function q2(t,e,n){qr[Wr++]=Yi,qr[Wr++]=Zi,qr[Wr++]=na,na=t;var r=Yi;t=Zi;var i=32-fi(r)-1;r&=~(1<<i),n+=1;var s=32-fi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-fi(e)+i|n<<i|r,Zi=s+t}else Yi=1<<s|n<<i|r,Zi=t}function Yv(t){t.return!==null&&(Do(t,1),q2(t,1,0))}function Zv(t){for(;t===ud;)ud=qa[--Wa],qa[Wa]=null,ld=qa[--Wa],qa[Wa]=null;for(;t===na;)na=qr[--Wr],qr[Wr]=null,Zi=qr[--Wr],qr[Wr]=null,Yi=qr[--Wr],qr[Wr]=null}var Nr=null,Rr=null,Vt=!1,ui=null;function W2(t,e){var n=Qr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nr=t,Rr=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nr=t,Rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=na!==null?{id:Yi,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nr=t,Rr=null,!0):!1;default:return!1}}function Zm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if(Vt){var e=Rr;if(e){var n=e;if(!dE(t,e)){if(Zm(t))throw Error(te(418));e=Fs(n.nextSibling);var r=Nr;e&&dE(t,e)?W2(r,n):(t.flags=t.flags&-4097|2,Vt=!1,Nr=t)}}else{if(Zm(t))throw Error(te(418));t.flags=t.flags&-4097|2,Vt=!1,Nr=t}}}function pE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nr=t}function zf(t){if(t!==Nr)return!1;if(!Vt)return pE(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Km(t.type,t.memoizedProps)),e&&(e=Rr)){if(Zm(t))throw K2(),Error(te(418));for(;e;)W2(t,e),e=Fs(e.nextSibling)}if(pE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rr=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rr=null}}else Rr=Nr?Fs(t.stateNode.nextSibling):null;return!0}function K2(){for(var t=Rr;t;)t=Fs(t.nextSibling)}function Iu(){Rr=Nr=null,Vt=!1}function Xv(t){ui===null?ui=[t]:ui.push(t)}var B3=ps.ReactCurrentBatchConfig;function oi(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var cd=ao(null),fd=null,Ka=null,Jv=null;function ew(){Jv=Ka=fd=null}function tw(t){var e=cd.current;Bt(cd),t._currentValue=e}function Jm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ou(t,e){fd=t,Jv=Ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mr=!0),t.firstContext=null)}function ei(t){var e=t._currentValue;if(Jv!==t)if(t={context:t,memoizedValue:e,next:null},Ka===null){if(fd===null)throw Error(te(308));Ka=t,fd.dependencies={lanes:0,firstContext:t}}else Ka=Ka.next=t;return e}var Vo=null;function nw(t){Vo===null?Vo=[t]:Vo.push(t)}function G2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ss(t,r)}function ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _s=!1;function rw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ss(t,n)}return i=r.interleaved,i===null?(e.next=e,nw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ss(t,n)}function _h(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}function gE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hd(t,e,n,r){var i=t.updateQueue;_s=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;o=0,d=c=u=null,a=s;do{var S=a.lane,w=a.eventTime;if((r&S)===S){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,x=a;switch(S=e,w=n,x.tag){case 1:if(I=x.payload,typeof I=="function"){g=I.call(w,g,S);break e}g=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=x.payload,S=typeof I=="function"?I.call(w,g,S):I,S==null)break e;g=Gt({},g,S);break e;case 2:_s=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,S=i.effects,S===null?i.effects=[a]:S.push(a))}else w={eventTime:w,lane:S,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,u=g):d=d.next=w,o|=S;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;S=a,a=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(d===null&&(u=g),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ia|=o,t.lanes=o,t.memoizedState=g}}function mE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Y2=new Gx.Component().refs;function ey(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gp={isMounted:function(t){return(t=t._reactInternals)?ga(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ur(),i=zs(t),s=es(r,i);s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(hi(e,t,i,r),_h(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ur(),i=zs(t),s=es(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(hi(e,t,i,r),_h(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ur(),r=zs(t),i=es(n,r);i.tag=2,e!=null&&(i.callback=e),e=$s(t,i,r),e!==null&&(hi(e,t,r,n),_h(e,t,r))}};function yE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(i,s):!0}function Z2(t,e,n){var r=!1,i=Ys,s=e.contextType;return typeof s=="object"&&s!==null?s=ei(s):(i=vr(e)?ta:nr.current,r=e.contextTypes,s=(r=r!=null)?Cu(t,i):Ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gp.enqueueReplaceState(e,e.state,null)}function ty(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Y2,rw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ei(s):(s=vr(e)?ta:nr.current,i.context=Cu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ey(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gp.enqueueReplaceState(i,i.state,null),hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Y2&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function Vf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wE(t){var e=t._init;return e(t._payload)}function X2(t){function e(k,T){if(t){var M=k.deletions;M===null?(k.deletions=[T],k.flags|=16):M.push(T)}}function n(k,T){if(!t)return null;for(;T!==null;)e(k,T),T=T.sibling;return null}function r(k,T){for(k=new Map;T!==null;)T.key!==null?k.set(T.key,T):k.set(T.index,T),T=T.sibling;return k}function i(k,T){return k=Vs(k,T),k.index=0,k.sibling=null,k}function s(k,T,M){return k.index=M,t?(M=k.alternate,M!==null?(M=M.index,M<T?(k.flags|=2,T):M):(k.flags|=2,T)):(k.flags|=1048576,T)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function a(k,T,M,B){return T===null||T.tag!==6?(T=i0(M,k.mode,B),T.return=k,T):(T=i(T,M),T.return=k,T)}function u(k,T,M,B){var L=M.type;return L===$a?d(k,T,M.props.children,B,M.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===bs&&wE(L)===T.type)?(B=i(T,M.props),B.ref=Sl(k,T,M),B.return=k,B):(B=kh(M.type,M.key,M.props,null,k.mode,B),B.ref=Sl(k,T,M),B.return=k,B)}function c(k,T,M,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==M.containerInfo||T.stateNode.implementation!==M.implementation?(T=s0(M,k.mode,B),T.return=k,T):(T=i(T,M.children||[]),T.return=k,T)}function d(k,T,M,B,L){return T===null||T.tag!==7?(T=Zo(M,k.mode,B,L),T.return=k,T):(T=i(T,M),T.return=k,T)}function g(k,T,M){if(typeof T=="string"&&T!==""||typeof T=="number")return T=i0(""+T,k.mode,M),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Rf:return M=kh(T.type,T.key,T.props,null,k.mode,M),M.ref=Sl(k,null,T),M.return=k,M;case Fa:return T=s0(T,k.mode,M),T.return=k,T;case bs:var B=T._init;return g(k,B(T._payload),M)}if(Rl(T)||gl(T))return T=Zo(T,k.mode,M,null),T.return=k,T;Vf(k,T)}return null}function S(k,T,M,B){var L=T!==null?T.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return L!==null?null:a(k,T,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Rf:return M.key===L?u(k,T,M,B):null;case Fa:return M.key===L?c(k,T,M,B):null;case bs:return L=M._init,S(k,T,L(M._payload),B)}if(Rl(M)||gl(M))return L!==null?null:d(k,T,M,B,null);Vf(k,M)}return null}function w(k,T,M,B,L){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(M)||null,a(T,k,""+B,L);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Rf:return k=k.get(B.key===null?M:B.key)||null,u(T,k,B,L);case Fa:return k=k.get(B.key===null?M:B.key)||null,c(T,k,B,L);case bs:var P=B._init;return w(k,T,M,P(B._payload),L)}if(Rl(B)||gl(B))return k=k.get(M)||null,d(T,k,B,L,null);Vf(T,B)}return null}function I(k,T,M,B){for(var L=null,P=null,F=T,U=T=0,J=null;F!==null&&U<M.length;U++){F.index>U?(J=F,F=null):J=F.sibling;var Z=S(k,F,M[U],B);if(Z===null){F===null&&(F=J);break}t&&F&&Z.alternate===null&&e(k,F),T=s(Z,T,U),P===null?L=Z:P.sibling=Z,P=Z,F=J}if(U===M.length)return n(k,F),Vt&&Do(k,U),L;if(F===null){for(;U<M.length;U++)F=g(k,M[U],B),F!==null&&(T=s(F,T,U),P===null?L=F:P.sibling=F,P=F);return Vt&&Do(k,U),L}for(F=r(k,F);U<M.length;U++)J=w(F,k,U,M[U],B),J!==null&&(t&&J.alternate!==null&&F.delete(J.key===null?U:J.key),T=s(J,T,U),P===null?L=J:P.sibling=J,P=J);return t&&F.forEach(function(Y){return e(k,Y)}),Vt&&Do(k,U),L}function x(k,T,M,B){var L=gl(M);if(typeof L!="function")throw Error(te(150));if(M=L.call(M),M==null)throw Error(te(151));for(var P=L=null,F=T,U=T=0,J=null,Z=M.next();F!==null&&!Z.done;U++,Z=M.next()){F.index>U?(J=F,F=null):J=F.sibling;var Y=S(k,F,Z.value,B);if(Y===null){F===null&&(F=J);break}t&&F&&Y.alternate===null&&e(k,F),T=s(Y,T,U),P===null?L=Y:P.sibling=Y,P=Y,F=J}if(Z.done)return n(k,F),Vt&&Do(k,U),L;if(F===null){for(;!Z.done;U++,Z=M.next())Z=g(k,Z.value,B),Z!==null&&(T=s(Z,T,U),P===null?L=Z:P.sibling=Z,P=Z);return Vt&&Do(k,U),L}for(F=r(k,F);!Z.done;U++,Z=M.next())Z=w(F,k,U,Z.value,B),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?U:Z.key),T=s(Z,T,U),P===null?L=Z:P.sibling=Z,P=Z);return t&&F.forEach(function(le){return e(k,le)}),Vt&&Do(k,U),L}function N(k,T,M,B){if(typeof M=="object"&&M!==null&&M.type===$a&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Rf:e:{for(var L=M.key,P=T;P!==null;){if(P.key===L){if(L=M.type,L===$a){if(P.tag===7){n(k,P.sibling),T=i(P,M.props.children),T.return=k,k=T;break e}}else if(P.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===bs&&wE(L)===P.type){n(k,P.sibling),T=i(P,M.props),T.ref=Sl(k,P,M),T.return=k,k=T;break e}n(k,P);break}else e(k,P);P=P.sibling}M.type===$a?(T=Zo(M.props.children,k.mode,B,M.key),T.return=k,k=T):(B=kh(M.type,M.key,M.props,null,k.mode,B),B.ref=Sl(k,T,M),B.return=k,k=B)}return o(k);case Fa:e:{for(P=M.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===M.containerInfo&&T.stateNode.implementation===M.implementation){n(k,T.sibling),T=i(T,M.children||[]),T.return=k,k=T;break e}else{n(k,T);break}else e(k,T);T=T.sibling}T=s0(M,k.mode,B),T.return=k,k=T}return o(k);case bs:return P=M._init,N(k,T,P(M._payload),B)}if(Rl(M))return I(k,T,M,B);if(gl(M))return x(k,T,M,B);Vf(k,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,T!==null&&T.tag===6?(n(k,T.sibling),T=i(T,M),T.return=k,k=T):(n(k,T),T=i0(M,k.mode,B),T.return=k,k=T),o(k)):n(k,T)}return N}var Mu=X2(!0),J2=X2(!1),ef={},Di=ao(ef),yc=ao(ef),vc=ao(ef);function jo(t){if(t===ef)throw Error(te(174));return t}function iw(t,e){switch(Nt(vc,e),Nt(yc,t),Nt(Di,ef),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Om(e,t)}Bt(Di),Nt(Di,e)}function Au(){Bt(Di),Bt(yc),Bt(vc)}function eC(t){jo(vc.current);var e=jo(Di.current),n=Om(e,t.type);e!==n&&(Nt(yc,t),Nt(Di,n))}function sw(t){yc.current===t&&(Bt(Di),Bt(yc))}var Ht=ao(0);function dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xg=[];function ow(){for(var t=0;t<Xg.length;t++)Xg[t]._workInProgressVersionPrimary=null;Xg.length=0}var xh=ps.ReactCurrentDispatcher,Jg=ps.ReactCurrentBatchConfig,ra=0,Kt=null,pn=null,yn=null,pd=!1,ql=!1,wc=0,F3=0;function Fn(){throw Error(te(321))}function aw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gi(t[n],e[n]))return!1;return!0}function uw(t,e,n,r,i,s){if(ra=s,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xh.current=t===null||t.memoizedState===null?V3:j3,t=n(r,i),ql){s=0;do{if(ql=!1,wc=0,25<=s)throw Error(te(301));s+=1,yn=pn=null,e.updateQueue=null,xh.current=H3,t=n(r,i)}while(ql)}if(xh.current=gd,e=pn!==null&&pn.next!==null,ra=0,yn=pn=Kt=null,pd=!1,e)throw Error(te(300));return t}function lw(){var t=wc!==0;return wc=0,t}function Ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Kt.memoizedState=yn=t:yn=yn.next=t,yn}function ti(){if(pn===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=pn.next;var e=yn===null?Kt.memoizedState:yn.next;if(e!==null)yn=e,pn=t;else{if(t===null)throw Error(te(310));pn=t,t={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},yn===null?Kt.memoizedState=yn=t:yn=yn.next=t}return yn}function Sc(t,e){return typeof e=="function"?e(t):e}function e0(t){var e=ti(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=pn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((ra&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=g,o=r):u=u.next=g,Kt.lanes|=d,ia|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,gi(r,e.memoizedState)||(mr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Kt.lanes|=s,ia|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function t0(t){var e=ti(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gi(s,e.memoizedState)||(mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tC(){}function nC(t,e){var n=Kt,r=ti(),i=e(),s=!gi(r.memoizedState,i);if(s&&(r.memoizedState=i,mr=!0),r=r.queue,cw(sC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,Ec(9,iC.bind(null,n,r,i,e),void 0,null),Sn===null)throw Error(te(349));ra&30||rC(n,e,i)}return i}function rC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iC(t,e,n,r){e.value=n,e.getSnapshot=r,oC(e)&&aC(t)}function sC(t,e,n){return n(function(){oC(e)&&aC(t)})}function oC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gi(t,n)}catch{return!0}}function aC(t){var e=ss(t,1);e!==null&&hi(e,t,1,-1)}function SE(t){var e=Ei();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:t},e.queue=t,t=t.dispatch=z3.bind(null,Kt,t),[e.memoizedState,t]}function Ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return ti().memoizedState}function Ch(t,e,n,r){var i=Ei();Kt.flags|=t,i.memoizedState=Ec(1|e,n,void 0,r===void 0?null:r)}function mp(t,e,n,r){var i=ti();r=r===void 0?null:r;var s=void 0;if(pn!==null){var o=pn.memoizedState;if(s=o.destroy,r!==null&&aw(r,o.deps)){i.memoizedState=Ec(e,n,s,r);return}}Kt.flags|=t,i.memoizedState=Ec(1|e,n,s,r)}function EE(t,e){return Ch(8390656,8,t,e)}function cw(t,e){return mp(2048,8,t,e)}function lC(t,e){return mp(4,2,t,e)}function cC(t,e){return mp(4,4,t,e)}function fC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hC(t,e,n){return n=n!=null?n.concat([t]):null,mp(4,4,fC.bind(null,e,t),n)}function fw(){}function dC(t,e){var n=ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pC(t,e){var n=ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&aw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gC(t,e,n){return ra&21?(gi(n,e)||(n=v2(),Kt.lanes|=n,ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mr=!0),t.memoizedState=n)}function $3(t,e){var n=It;It=n!==0&&4>n?n:4,t(!0);var r=Jg.transition;Jg.transition={};try{t(!1),e()}finally{It=n,Jg.transition=r}}function mC(){return ti().memoizedState}function U3(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yC(t))vC(e,n);else if(n=G2(t,e,n,r),n!==null){var i=ur();hi(n,t,r,i),wC(n,e,r)}}function z3(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yC(t))vC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gi(a,o)){var u=e.interleaved;u===null?(i.next=i,nw(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=G2(t,e,i,r),n!==null&&(i=ur(),hi(n,t,r,i),wC(n,e,r))}}function yC(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function vC(t,e){ql=pd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vv(t,n)}}var gd={readContext:ei,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},V3={readContext:ei,useCallback:function(t,e){return Ei().memoizedState=[t,e===void 0?null:e],t},useContext:ei,useEffect:EE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4194308,4,fC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ch(4,2,t,e)},useMemo:function(t,e){var n=Ei();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ei();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=U3.bind(null,Kt,t),[r.memoizedState,t]},useRef:function(t){var e=Ei();return t={current:t},e.memoizedState=t},useState:SE,useDebugValue:fw,useDeferredValue:function(t){return Ei().memoizedState=t},useTransition:function(){var t=SE(!1),e=t[0];return t=$3.bind(null,t[1]),Ei().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Kt,i=Ei();if(Vt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Sn===null)throw Error(te(349));ra&30||rC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,EE(sC.bind(null,r,s,t),[t]),r.flags|=2048,Ec(9,iC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ei(),e=Sn.identifierPrefix;if(Vt){var n=Zi,r=Yi;n=(r&~(1<<32-fi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=F3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},j3={readContext:ei,useCallback:dC,useContext:ei,useEffect:cw,useImperativeHandle:hC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:pC,useReducer:e0,useRef:uC,useState:function(){return e0(Sc)},useDebugValue:fw,useDeferredValue:function(t){var e=ti();return gC(e,pn.memoizedState,t)},useTransition:function(){var t=e0(Sc)[0],e=ti().memoizedState;return[t,e]},useMutableSource:tC,useSyncExternalStore:nC,useId:mC,unstable_isNewReconciler:!1},H3={readContext:ei,useCallback:dC,useContext:ei,useEffect:cw,useImperativeHandle:hC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:pC,useReducer:t0,useRef:uC,useState:function(){return t0(Sc)},useDebugValue:fw,useDeferredValue:function(t){var e=ti();return pn===null?e.memoizedState=t:gC(e,pn.memoizedState,t)},useTransition:function(){var t=t0(Sc)[0],e=ti().memoizedState;return[t,e]},useMutableSource:tC,useSyncExternalStore:nC,useId:mC,unstable_isNewReconciler:!1};function ku(t,e){try{var n="",r=e;do n+=v4(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function n0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ny(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var q3=typeof WeakMap=="function"?WeakMap:Map;function SC(t,e,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yd||(yd=!0,hy=r),ny(t,e)},n}function EC(t,e,n){n=es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ny(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ny(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new q3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sN.bind(null,t,e,n),e.then(t,t))}function _E(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=es(-1,1),e.tag=2,$s(n,e,1))),n.lanes|=1),t)}var W3=ps.ReactCurrentOwner,mr=!1;function ir(t,e,n,r){e.child=t===null?J2(e,null,n,r):Mu(e,t.child,n,r)}function CE(t,e,n,r,i){n=n.render;var s=e.ref;return ou(e,i),r=uw(t,e,n,r,s,i),n=lw(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,os(t,e,i)):(Vt&&n&&Yv(e),e.flags|=1,ir(t,e,r,i),e.child)}function IE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ww(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bC(t,e,s,r,i)):(t=kh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(o,r)&&t.ref===e.ref)return os(t,e,i)}return e.flags|=1,t=Vs(s,r),t.ref=e.ref,t.return=e,e.child=t}function bC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dc(s,r)&&t.ref===e.ref)if(mr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mr=!0);else return e.lanes=t.lanes,os(t,e,i)}return ry(t,e,n,r,i)}function _C(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Qa,xr),xr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(Qa,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Nt(Qa,xr),xr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Nt(Qa,xr),xr|=r;return ir(t,e,i,n),e.child}function xC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ry(t,e,n,r,i){var s=vr(n)?ta:nr.current;return s=Cu(e,s),ou(e,i),n=uw(t,e,n,r,s,i),r=lw(),t!==null&&!mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,os(t,e,i)):(Vt&&r&&Yv(e),e.flags|=1,ir(t,e,n,i),e.child)}function ME(t,e,n,r,i){if(vr(n)){var s=!0;ad(e)}else s=!1;if(ou(e,i),e.stateNode===null)Ih(t,e),Z2(e,n,r),ty(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ei(c):(c=vr(n)?ta:nr.current,c=Cu(e,c));var d=n.getDerivedStateFromProps,g=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&vE(e,o,r,c),_s=!1;var S=e.memoizedState;o.state=S,hd(e,r,o,i),u=e.memoizedState,a!==r||S!==u||yr.current||_s?(typeof d=="function"&&(ey(e,n,d,r),u=e.memoizedState),(a=_s||yE(e,n,a,r,S,u,c))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Q2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:oi(e.type,a),o.props=c,g=e.pendingProps,S=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ei(u):(u=vr(n)?ta:nr.current,u=Cu(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||S!==u)&&vE(e,o,r,u),_s=!1,S=e.memoizedState,o.state=S,hd(e,r,o,i);var I=e.memoizedState;a!==g||S!==I||yr.current||_s?(typeof w=="function"&&(ey(e,n,w,r),I=e.memoizedState),(c=_s||yE(e,n,c,r,S,I,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),r=!1)}return iy(t,e,n,r,s,i)}function iy(t,e,n,r,i,s){xC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hE(e,n,!1),os(t,e,s);r=e.stateNode,W3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mu(e,t.child,null,s),e.child=Mu(e,null,a,s)):ir(t,e,a,s),e.memoizedState=r.state,i&&hE(e,n,!0),e.child}function CC(t){var e=t.stateNode;e.pendingContext?fE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fE(t,e.context,!1),iw(t,e.containerInfo)}function AE(t,e,n,r,i){return Iu(),Xv(i),e.flags|=256,ir(t,e,n,r),e.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function oy(t){return{baseLanes:t,cachePool:null,transitions:null}}function IC(t,e,n){var r=e.pendingProps,i=Ht.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nt(Ht,i&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wp(o,r,0,null),t=Zo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=oy(n),e.memoizedState=sy,t):hw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return K3(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Vs(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vs(a,s):(s=Zo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?oy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sy,r}return s=t.child,t=s.sibling,r=Vs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hw(t,e){return e=wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jf(t,e,n,r){return r!==null&&Xv(r),Mu(e,t.child,null,n),t=hw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K3(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=n0(Error(te(422))),jf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wp({mode:"visible",children:r.children},i,0,null),s=Zo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mu(e,t.child,null,o),e.child.memoizedState=oy(o),e.memoizedState=sy,s);if(!(e.mode&1))return jf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(te(419)),r=n0(s,r,void 0),jf(t,e,o,r)}if(a=(o&t.childLanes)!==0,mr||a){if(r=Sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ss(t,i),hi(r,t,i,-1))}return vw(),r=n0(Error(te(421))),jf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rr=Fs(i.nextSibling),Nr=e,Vt=!0,ui=null,t!==null&&(qr[Wr++]=Yi,qr[Wr++]=Zi,qr[Wr++]=na,Yi=t.id,Zi=t.overflow,na=e),e=hw(e,r.children),e.flags|=4096,e)}function kE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jm(t.return,e,n)}function r0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function MC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ir(t,e,r.children,n),r=Ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kE(t,n,e);else if(t.tag===19)kE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Nt(Ht,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),r0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}r0(e,!0,n,null,s);break;case"together":r0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ih(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function G3(t,e,n){switch(e.tag){case 3:CC(e),Iu();break;case 5:eC(e);break;case 1:vr(e.type)&&ad(e);break;case 4:iw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Nt(cd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nt(Ht,Ht.current&1),e.flags|=128,null):n&e.child.childLanes?IC(t,e,n):(Nt(Ht,Ht.current&1),t=os(t,e,n),t!==null?t.sibling:null);Nt(Ht,Ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(Ht,Ht.current),r)break;return null;case 22:case 23:return e.lanes=0,_C(t,e,n)}return os(t,e,n)}var AC,ay,kC,TC;AC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ay=function(){};kC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jo(Di.current);var s=null;switch(n){case"input":i=km(t,i),r=km(t,r),s=[];break;case"select":i=Gt({},i,{value:void 0}),r=Gt({},r,{value:void 0}),s=[];break;case"textarea":i=Nm(t,i),r=Nm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sd)}Lm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(oc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(oc.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ot("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TC=function(t,e,n,r){n!==r&&(e.flags|=4)};function El(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q3(t,e,n){var r=e.pendingProps;switch(Zv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return vr(e.type)&&od(),$n(e),null;case 3:return r=e.stateNode,Au(),Bt(yr),Bt(nr),ow(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(gy(ui),ui=null))),ay(t,e),$n(e),null;case 5:sw(e);var i=jo(vc.current);if(n=e.type,t!==null&&e.stateNode!=null)kC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return $n(e),null}if(t=jo(Di.current),zf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mi]=e,r[mc]=s,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<Ol.length;i++)Ot(Ol[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":FS(r,s),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ot("invalid",r);break;case"textarea":US(r,s),Ot("invalid",r)}Lm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Uf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Uf(r.textContent,a,t),i=["children",""+a]):oc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",r)}switch(n){case"input":Nf(r),$S(r,s,!0);break;case"textarea":Nf(r),zS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=r2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mi]=e,t[mc]=r,AC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dm(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),i=r;break;case"iframe":case"object":case"embed":Ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ol.length;i++)Ot(Ol[i],t);i=r;break;case"source":Ot("error",t),i=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),i=r;break;case"details":Ot("toggle",t),i=r;break;case"input":FS(t,r),i=km(t,r),Ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":US(t,r),i=Nm(t,r),Ot("invalid",t);break;default:i=r}Lm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?o2(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&i2(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ac(t,u):typeof u=="number"&&ac(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ot("scroll",t):u!=null&&Pv(t,s,u,o))}switch(n){case"input":Nf(t),$S(t,r,!1);break;case"textarea":Nf(t),zS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?nu(t,!!r.multiple,s,!1):r.defaultValue!=null&&nu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)TC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=jo(vc.current),jo(Di.current),zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mi]=e,(s=r.nodeValue!==n)&&(t=Nr,t!==null))switch(t.tag){case 3:Uf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mi]=e,e.stateNode=r}return $n(e),null;case 13:if(Bt(Ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Rr!==null&&e.mode&1&&!(e.flags&128))K2(),Iu(),e.flags|=98560,s=!1;else if(s=zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Mi]=e}else Iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),s=!1}else ui!==null&&(gy(ui),ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ht.current&1?gn===0&&(gn=3):vw())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return Au(),ay(t,e),t===null&&pc(e.stateNode.containerInfo),$n(e),null;case 10:return tw(e.type._context),$n(e),null;case 17:return vr(e.type)&&od(),$n(e),null;case 19:if(Bt(Ht),s=e.memoizedState,s===null)return $n(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)El(s,!1);else{if(gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dd(t),o!==null){for(e.flags|=128,El(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nt(Ht,Ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&tn()>Tu&&(e.flags|=128,r=!0,El(s,!1),e.lanes=4194304)}else{if(!r)if(t=dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),El(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Vt)return $n(e),null}else 2*tn()-s.renderingStartTime>Tu&&n!==1073741824&&(e.flags|=128,r=!0,El(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tn(),e.sibling=null,n=Ht.current,Nt(Ht,r?n&1|2:n&1),e):($n(e),null);case 22:case 23:return yw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xr&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function Y3(t,e){switch(Zv(e),e.tag){case 1:return vr(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Au(),Bt(yr),Bt(nr),ow(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sw(e),null;case 13:if(Bt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Iu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Ht),null;case 4:return Au(),null;case 10:return tw(e.type._context),null;case 22:case 23:return yw(),null;case 24:return null;default:return null}}var Hf=!1,Gn=!1,Z3=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function uy(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var TE=!1;function X3(t,e){if(qm=nd,t=L2(),Qv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,g=t,S=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(w=g.firstChild)!==null;)S=g,g=w;for(;;){if(g===t)break t;if(S===n&&++c===i&&(a=o),S===s&&++d===r&&(u=o),(w=g.nextSibling)!==null)break;g=S,S=g.parentNode}g=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wm={focusedElem:t,selectionRange:n},nd=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var x=I.memoizedProps,N=I.memoizedState,k=e.stateNode,T=k.getSnapshotBeforeUpdate(e.elementType===e.type?x:oi(e.type,x),N);k.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(B){Zt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return I=TE,TE=!1,I}function Wl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&uy(e,n,s)}i=i.next}while(i!==r)}}function yp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ly(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RC(t){var e=t.alternate;e!==null&&(t.alternate=null,RC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mi],delete e[mc],delete e[Qm],delete e[L3],delete e[D3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NC(t){return t.tag===5||t.tag===3||t.tag===4}function RE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sd));else if(r!==4&&(t=t.child,t!==null))for(cy(t,e,n),t=t.sibling;t!==null;)cy(t,e,n),t=t.sibling}function fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fy(t,e,n),t=t.sibling;t!==null;)fy(t,e,n),t=t.sibling}var Mn=null,ai=!1;function gs(t,e,n){for(n=n.child;n!==null;)OC(t,e,n),n=n.sibling}function OC(t,e,n){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(lp,n)}catch{}switch(n.tag){case 5:Gn||Ga(n,e);case 6:var r=Mn,i=ai;Mn=null,gs(t,e,n),Mn=r,ai=i,Mn!==null&&(ai?(t=Mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(ai?(t=Mn,n=n.stateNode,t.nodeType===8?Yg(t.parentNode,n):t.nodeType===1&&Yg(t,n),fc(t)):Yg(Mn,n.stateNode));break;case 4:r=Mn,i=ai,Mn=n.stateNode.containerInfo,ai=!0,gs(t,e,n),Mn=r,ai=i;break;case 0:case 11:case 14:case 15:if(!Gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&uy(n,e,o),i=i.next}while(i!==r)}gs(t,e,n);break;case 1:if(!Gn&&(Ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zt(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(Gn=(r=Gn)||n.memoizedState!==null,gs(t,e,n),Gn=r):gs(t,e,n);break;default:gs(t,e,n)}}function NE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z3),e.forEach(function(r){var i=aN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ri(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mn=a.stateNode,ai=!1;break e;case 3:Mn=a.stateNode.containerInfo,ai=!0;break e;case 4:Mn=a.stateNode.containerInfo,ai=!0;break e}a=a.return}if(Mn===null)throw Error(te(160));OC(s,o,i),Mn=null,ai=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Zt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LC(e,t),e=e.sibling}function LC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ri(e,t),wi(t),r&4){try{Wl(3,t,t.return),yp(3,t)}catch(x){Zt(t,t.return,x)}try{Wl(5,t,t.return)}catch(x){Zt(t,t.return,x)}}break;case 1:ri(e,t),wi(t),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(ri(e,t),wi(t),r&512&&n!==null&&Ga(n,n.return),t.flags&32){var i=t.stateNode;try{ac(i,"")}catch(x){Zt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&t2(i,s),Dm(a,o);var c=Dm(a,s);for(o=0;o<u.length;o+=2){var d=u[o],g=u[o+1];d==="style"?o2(i,g):d==="dangerouslySetInnerHTML"?i2(i,g):d==="children"?ac(i,g):Pv(i,d,g,c)}switch(a){case"input":Tm(i,s);break;case"textarea":n2(i,s);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?nu(i,!!s.multiple,w,!1):S!==!!s.multiple&&(s.defaultValue!=null?nu(i,!!s.multiple,s.defaultValue,!0):nu(i,!!s.multiple,s.multiple?[]:"",!1))}i[mc]=s}catch(x){Zt(t,t.return,x)}}break;case 6:if(ri(e,t),wi(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Zt(t,t.return,x)}}break;case 3:if(ri(e,t),wi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fc(e.containerInfo)}catch(x){Zt(t,t.return,x)}break;case 4:ri(e,t),wi(t);break;case 13:ri(e,t),wi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gw=tn())),r&4&&NE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Gn=(c=Gn)||d,ri(e,t),Gn=c):ri(e,t),wi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(g=pe=d;pe!==null;){switch(S=pe,w=S.child,S.tag){case 0:case 11:case 14:case 15:Wl(4,S,S.return);break;case 1:Ga(S,S.return);var I=S.stateNode;if(typeof I.componentWillUnmount=="function"){r=S,n=S.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(x){Zt(r,n,x)}}break;case 5:Ga(S,S.return);break;case 22:if(S.memoizedState!==null){LE(g);continue}}w!==null?(w.return=S,pe=w):LE(g)}d=d.sibling}e:for(d=null,g=t;;){if(g.tag===5){if(d===null){d=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=s2("display",o))}catch(x){Zt(t,t.return,x)}}}else if(g.tag===6){if(d===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(x){Zt(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;d===g&&(d=null),g=g.return}d===g&&(d=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ri(e,t),wi(t),r&4&&NE(t);break;case 21:break;default:ri(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NC(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ac(i,""),r.flags&=-33);var s=RE(t);fy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=RE(t);cy(t,a,o);break;default:throw Error(te(161))}}catch(u){Zt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J3(t,e,n){pe=t,DC(t)}function DC(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Hf;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Gn;a=Hf;var c=Gn;if(Hf=o,(Gn=u)&&!c)for(pe=i;pe!==null;)o=pe,u=o.child,o.tag===22&&o.memoizedState!==null?DE(i):u!==null?(u.return=o,pe=u):DE(i);for(;s!==null;)pe=s,DC(s),s=s.sibling;pe=i,Hf=a,Gn=c}OE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):OE(t)}}function OE(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gn||yp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:oi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var g=d.dehydrated;g!==null&&fc(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Gn||e.flags&512&&ly(e)}catch(S){Zt(e,e.return,S)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function LE(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function DE(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yp(4,e)}catch(u){Zt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Zt(e,i,u)}}var s=e.return;try{ly(e)}catch(u){Zt(e,s,u)}break;case 5:var o=e.return;try{ly(e)}catch(u){Zt(e,o,u)}}}catch(u){Zt(e,e.return,u)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var eN=Math.ceil,md=ps.ReactCurrentDispatcher,dw=ps.ReactCurrentOwner,Yr=ps.ReactCurrentBatchConfig,mt=0,Sn=null,ln=null,Ln=0,xr=0,Qa=ao(0),gn=0,bc=null,ia=0,vp=0,pw=0,Kl=null,dr=null,gw=0,Tu=1/0,Wi=null,yd=!1,hy=null,Us=null,qf=!1,ks=null,vd=0,Gl=0,dy=null,Mh=-1,Ah=0;function ur(){return mt&6?tn():Mh!==-1?Mh:Mh=tn()}function zs(t){return t.mode&1?mt&2&&Ln!==0?Ln&-Ln:B3.transition!==null?(Ah===0&&(Ah=v2()),Ah):(t=It,t!==0||(t=window.event,t=t===void 0?16:C2(t.type)),t):1}function hi(t,e,n,r){if(50<Gl)throw Gl=0,dy=null,Error(te(185));Zc(t,n,r),(!(mt&2)||t!==Sn)&&(t===Sn&&(!(mt&2)&&(vp|=n),gn===4&&Ms(t,Ln)),wr(t,r),n===1&&mt===0&&!(e.mode&1)&&(Tu=tn()+500,pp&&uo()))}function wr(t,e){var n=t.callbackNode;B4(t,e);var r=td(t,t===Sn?Ln:0);if(r===0)n!==null&&HS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HS(n),e===1)t.tag===0?P3(PE.bind(null,t)):H2(PE.bind(null,t)),N3(function(){!(mt&6)&&uo()}),n=null;else{switch(w2(r)){case 1:n=zv;break;case 4:n=m2;break;case 16:n=ed;break;case 536870912:n=y2;break;default:n=ed}n=jC(n,PC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PC(t,e){if(Mh=-1,Ah=0,mt&6)throw Error(te(327));var n=t.callbackNode;if(au()&&t.callbackNode!==n)return null;var r=td(t,t===Sn?Ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wd(t,r);else{e=r;var i=mt;mt|=2;var s=FC();(Sn!==t||Ln!==e)&&(Wi=null,Tu=tn()+500,Yo(t,e));do try{rN();break}catch(a){BC(t,a)}while(1);ew(),md.current=s,mt=i,ln!==null?e=0:(Sn=null,Ln=0,e=gn)}if(e!==0){if(e===2&&(i=Um(t),i!==0&&(r=i,e=py(t,i))),e===1)throw n=bc,Yo(t,0),Ms(t,r),wr(t,tn()),n;if(e===6)Ms(t,r);else{if(i=t.current.alternate,!(r&30)&&!tN(i)&&(e=wd(t,r),e===2&&(s=Um(t),s!==0&&(r=s,e=py(t,s))),e===1))throw n=bc,Yo(t,0),Ms(t,r),wr(t,tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Po(t,dr,Wi);break;case 3:if(Ms(t,r),(r&130023424)===r&&(e=gw+500-tn(),10<e)){if(td(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gm(Po.bind(null,t,dr,Wi),e);break}Po(t,dr,Wi);break;case 4:if(Ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eN(r/1960))-r,10<r){t.timeoutHandle=Gm(Po.bind(null,t,dr,Wi),r);break}Po(t,dr,Wi);break;case 5:Po(t,dr,Wi);break;default:throw Error(te(329))}}}return wr(t,tn()),t.callbackNode===n?PC.bind(null,t):null}function py(t,e){var n=Kl;return t.current.memoizedState.isDehydrated&&(Yo(t,e).flags|=256),t=wd(t,e),t!==2&&(e=dr,dr=n,e!==null&&gy(e)),t}function gy(t){dr===null?dr=t:dr.push.apply(dr,t)}function tN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ms(t,e){for(e&=~pw,e&=~vp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fi(e),r=1<<n;t[n]=-1,e&=~r}}function PE(t){if(mt&6)throw Error(te(327));au();var e=td(t,0);if(!(e&1))return wr(t,tn()),null;var n=wd(t,e);if(t.tag!==0&&n===2){var r=Um(t);r!==0&&(e=r,n=py(t,r))}if(n===1)throw n=bc,Yo(t,0),Ms(t,e),wr(t,tn()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Po(t,dr,Wi),wr(t,tn()),null}function mw(t,e){var n=mt;mt|=1;try{return t(e)}finally{mt=n,mt===0&&(Tu=tn()+500,pp&&uo())}}function sa(t){ks!==null&&ks.tag===0&&!(mt&6)&&au();var e=mt;mt|=1;var n=Yr.transition,r=It;try{if(Yr.transition=null,It=1,t)return t()}finally{It=r,Yr.transition=n,mt=e,!(mt&6)&&uo()}}function yw(){xr=Qa.current,Bt(Qa)}function Yo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,R3(n)),ln!==null)for(n=ln.return;n!==null;){var r=n;switch(Zv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:Au(),Bt(yr),Bt(nr),ow();break;case 5:sw(r);break;case 4:Au();break;case 13:Bt(Ht);break;case 19:Bt(Ht);break;case 10:tw(r.type._context);break;case 22:case 23:yw()}n=n.return}if(Sn=t,ln=t=Vs(t.current,null),Ln=xr=e,gn=0,bc=null,pw=vp=ia=0,dr=Kl=null,Vo!==null){for(e=0;e<Vo.length;e++)if(n=Vo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vo=null}return t}function BC(t,e){do{var n=ln;try{if(ew(),xh.current=gd,pd){for(var r=Kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pd=!1}if(ra=0,yn=pn=Kt=null,ql=!1,wc=0,dw.current=null,n===null||n.return===null){gn=1,bc=e,ln=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Ln,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,g=d.tag;if(!(d.mode&1)&&(g===0||g===11||g===15)){var S=d.alternate;S?(d.updateQueue=S.updateQueue,d.memoizedState=S.memoizedState,d.lanes=S.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=_E(o);if(w!==null){w.flags&=-257,xE(w,o,a,s,e),w.mode&1&&bE(s,c,e),e=w,u=c;var I=e.updateQueue;if(I===null){var x=new Set;x.add(u),e.updateQueue=x}else I.add(u);break e}else{if(!(e&1)){bE(s,c,e),vw();break e}u=Error(te(426))}}else if(Vt&&a.mode&1){var N=_E(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),xE(N,o,a,s,e),Xv(ku(u,a));break e}}s=u=ku(u,a),gn!==4&&(gn=2),Kl===null?Kl=[s]:Kl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var k=SC(s,u,e);gE(s,k);break e;case 1:a=u;var T=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Us===null||!Us.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=EC(s,a,e);gE(s,B);break e}}s=s.return}while(s!==null)}UC(n)}catch(L){e=L,ln===n&&n!==null&&(ln=n=n.return);continue}break}while(1)}function FC(){var t=md.current;return md.current=gd,t===null?gd:t}function vw(){(gn===0||gn===3||gn===2)&&(gn=4),Sn===null||!(ia&268435455)&&!(vp&268435455)||Ms(Sn,Ln)}function wd(t,e){var n=mt;mt|=2;var r=FC();(Sn!==t||Ln!==e)&&(Wi=null,Yo(t,e));do try{nN();break}catch(i){BC(t,i)}while(1);if(ew(),mt=n,md.current=r,ln!==null)throw Error(te(261));return Sn=null,Ln=0,gn}function nN(){for(;ln!==null;)$C(ln)}function rN(){for(;ln!==null&&!A4();)$C(ln)}function $C(t){var e=VC(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?UC(t):ln=e,dw.current=null}function UC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Y3(n,e),n!==null){n.flags&=32767,ln=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gn=6,ln=null;return}}else if(n=Q3(n,e,xr),n!==null){ln=n;return}if(e=e.sibling,e!==null){ln=e;return}ln=e=t}while(e!==null);gn===0&&(gn=5)}function Po(t,e,n){var r=It,i=Yr.transition;try{Yr.transition=null,It=1,iN(t,e,n,r)}finally{Yr.transition=i,It=r}return null}function iN(t,e,n,r){do au();while(ks!==null);if(mt&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(F4(t,s),t===Sn&&(ln=Sn=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qf||(qf=!0,jC(ed,function(){return au(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yr.transition,Yr.transition=null;var o=It;It=1;var a=mt;mt|=4,dw.current=null,X3(t,n),LC(n,t),x3(Wm),nd=!!qm,Wm=qm=null,t.current=n,J3(n),k4(),mt=a,It=o,Yr.transition=s}else t.current=n;if(qf&&(qf=!1,ks=t,vd=i),s=t.pendingLanes,s===0&&(Us=null),N4(n.stateNode),wr(t,tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yd)throw yd=!1,t=hy,hy=null,t;return vd&1&&t.tag!==0&&au(),s=t.pendingLanes,s&1?t===dy?Gl++:(Gl=0,dy=t):Gl=0,uo(),null}function au(){if(ks!==null){var t=w2(vd),e=Yr.transition,n=It;try{if(Yr.transition=null,It=16>t?16:t,ks===null)var r=!1;else{if(t=ks,ks=null,vd=0,mt&6)throw Error(te(331));var i=mt;for(mt|=4,pe=t.current;pe!==null;){var s=pe,o=s.child;if(pe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(pe=c;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:Wl(8,d,s)}var g=d.child;if(g!==null)g.return=d,pe=g;else for(;pe!==null;){d=pe;var S=d.sibling,w=d.return;if(RC(d),d===c){pe=null;break}if(S!==null){S.return=w,pe=S;break}pe=w}}}var I=s.alternate;if(I!==null){var x=I.child;if(x!==null){I.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,pe=o;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wl(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,pe=k;break e}pe=s.return}}var T=t.current;for(pe=T;pe!==null;){o=pe;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,pe=M;else e:for(o=T;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yp(9,a)}}catch(L){Zt(a,a.return,L)}if(a===o){pe=null;break e}var B=a.sibling;if(B!==null){B.return=a.return,pe=B;break e}pe=a.return}}if(mt=i,uo(),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(lp,t)}catch{}r=!0}return r}finally{It=n,Yr.transition=e}}return!1}function BE(t,e,n){e=ku(n,e),e=SC(t,e,1),t=$s(t,e,1),e=ur(),t!==null&&(Zc(t,1,e),wr(t,e))}function Zt(t,e,n){if(t.tag===3)BE(t,t,n);else for(;e!==null;){if(e.tag===3){BE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=ku(n,t),t=EC(e,t,1),e=$s(e,t,1),t=ur(),e!==null&&(Zc(e,1,t),wr(e,t));break}}e=e.return}}function sN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&n,Sn===t&&(Ln&n)===n&&(gn===4||gn===3&&(Ln&130023424)===Ln&&500>tn()-gw?Yo(t,0):pw|=n),wr(t,e)}function zC(t,e){e===0&&(t.mode&1?(e=Df,Df<<=1,!(Df&130023424)&&(Df=4194304)):e=1);var n=ur();t=ss(t,e),t!==null&&(Zc(t,e,n),wr(t,n))}function oN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zC(t,n)}function aN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),zC(t,n)}var VC;VC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yr.current)mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mr=!1,G3(t,e,n);mr=!!(t.flags&131072)}else mr=!1,Vt&&e.flags&1048576&&q2(e,ld,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ih(t,e),t=e.pendingProps;var i=Cu(e,nr.current);ou(e,n),i=uw(null,e,r,t,i,n);var s=lw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vr(r)?(s=!0,ad(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rw(e),i.updater=gp,e.stateNode=i,i._reactInternals=e,ty(e,r,t,n),e=iy(null,e,r,!0,s,n)):(e.tag=0,Vt&&s&&Yv(e),ir(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ih(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lN(r),t=oi(r,t),i){case 0:e=ry(null,e,r,t,n);break e;case 1:e=ME(null,e,r,t,n);break e;case 11:e=CE(null,e,r,t,n);break e;case 14:e=IE(null,e,r,oi(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),ry(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),ME(t,e,r,i,n);case 3:e:{if(CC(e),t===null)throw Error(te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Q2(t,e),hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ku(Error(te(423)),e),e=AE(t,e,r,n,i);break e}else if(r!==i){i=ku(Error(te(424)),e),e=AE(t,e,r,n,i);break e}else for(Rr=Fs(e.stateNode.containerInfo.firstChild),Nr=e,Vt=!0,ui=null,n=J2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Iu(),r===i){e=os(t,e,n);break e}ir(t,e,r,n)}e=e.child}return e;case 5:return eC(e),t===null&&Xm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Km(r,i)?o=null:s!==null&&Km(r,s)&&(e.flags|=32),xC(t,e),ir(t,e,o,n),e.child;case 6:return t===null&&Xm(e),null;case 13:return IC(t,e,n);case 4:return iw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mu(e,null,r,n):ir(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),CE(t,e,r,i,n);case 7:return ir(t,e,e.pendingProps,n),e.child;case 8:return ir(t,e,e.pendingProps.children,n),e.child;case 12:return ir(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Nt(cd,r._currentValue),r._currentValue=o,s!==null)if(gi(s.value,o)){if(s.children===i.children&&!yr.current){e=os(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=es(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Jm(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ir(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ou(e,n),i=ei(i),r=r(i),e.flags|=1,ir(t,e,r,n),e.child;case 14:return r=e.type,i=oi(r,e.pendingProps),i=oi(r.type,i),IE(t,e,r,i,n);case 15:return bC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),Ih(t,e),e.tag=1,vr(r)?(t=!0,ad(e)):t=!1,ou(e,n),Z2(e,r,i),ty(e,r,i,n),iy(null,e,r,!0,t,n);case 19:return MC(t,e,n);case 22:return _C(t,e,n)}throw Error(te(156,e.tag))};function jC(t,e){return g2(t,e)}function uN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(t,e,n,r){return new uN(t,e,n,r)}function ww(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lN(t){if(typeof t=="function")return ww(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fv)return 11;if(t===$v)return 14}return 2}function Vs(t,e){var n=t.alternate;return n===null?(n=Qr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ww(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $a:return Zo(n.children,i,s,e);case Bv:o=8,i|=8;break;case Cm:return t=Qr(12,n,e,i|2),t.elementType=Cm,t.lanes=s,t;case Im:return t=Qr(13,n,e,i),t.elementType=Im,t.lanes=s,t;case Mm:return t=Qr(19,n,e,i),t.elementType=Mm,t.lanes=s,t;case Xx:return wp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yx:o=10;break e;case Zx:o=9;break e;case Fv:o=11;break e;case $v:o=14;break e;case bs:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Qr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zo(t,e,n,r){return t=Qr(7,t,r,e),t.lanes=n,t}function wp(t,e,n,r){return t=Qr(22,t,r,e),t.elementType=Xx,t.lanes=n,t.stateNode={isHidden:!1},t}function i0(t,e,n){return t=Qr(6,t,null,e),t.lanes=n,t}function s0(t,e,n){return e=Qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sw(t,e,n,r,i,s,o,a,u){return t=new cN(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rw(s),t}function fN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HC(t){if(!t)return Ys;t=t._reactInternals;e:{if(ga(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(vr(n))return j2(t,n,e)}return e}function qC(t,e,n,r,i,s,o,a,u){return t=Sw(n,r,!0,t,i,s,o,a,u),t.context=HC(null),n=t.current,r=ur(),i=zs(n),s=es(r,i),s.callback=e??null,$s(n,s,i),t.current.lanes=i,Zc(t,i,r),wr(t,r),t}function Sp(t,e,n,r){var i=e.current,s=ur(),o=zs(i);return n=HC(n),e.context===null?e.context=n:e.pendingContext=n,e=es(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$s(i,e,o),t!==null&&(hi(t,i,o,s),_h(t,i,o)),o}function Sd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ew(t,e){FE(t,e),(t=t.alternate)&&FE(t,e)}function hN(){return null}var WC=typeof reportError=="function"?reportError:function(t){console.error(t)};function bw(t){this._internalRoot=t}Ep.prototype.render=bw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Sp(t,e,null,null)};Ep.prototype.unmount=bw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){Sp(null,t,null,null)}),e[is]=null}};function Ep(t){this._internalRoot=t}Ep.prototype.unstable_scheduleHydration=function(t){if(t){var e=b2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&x2(t)}};function _w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $E(){}function dN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sd(o);s.call(c)}}var o=qC(e,r,t,0,null,!1,!1,"",$E);return t._reactRootContainer=o,t[is]=o.current,pc(t.nodeType===8?t.parentNode:t),sa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sd(u);a.call(c)}}var u=Sw(t,0,!1,null,null,!1,!1,"",$E);return t._reactRootContainer=u,t[is]=u.current,pc(t.nodeType===8?t.parentNode:t),sa(function(){Sp(e,u,n,r)}),u}function _p(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Sd(o);a.call(u)}}Sp(e,o,t,i)}else o=dN(n,e,t,i,r);return Sd(o)}S2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nl(e.pendingLanes);n!==0&&(Vv(e,n|1),wr(e,tn()),!(mt&6)&&(Tu=tn()+500,uo()))}break;case 13:sa(function(){var r=ss(t,1);if(r!==null){var i=ur();hi(r,t,1,i)}}),Ew(t,1)}};jv=function(t){if(t.tag===13){var e=ss(t,134217728);if(e!==null){var n=ur();hi(e,t,134217728,n)}Ew(t,134217728)}};E2=function(t){if(t.tag===13){var e=zs(t),n=ss(t,e);if(n!==null){var r=ur();hi(n,t,e,r)}Ew(t,e)}};b2=function(){return It};_2=function(t,e){var n=It;try{return It=t,e()}finally{It=n}};Bm=function(t,e,n){switch(e){case"input":if(Tm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dp(r);if(!i)throw Error(te(90));e2(r),Tm(r,i)}}}break;case"textarea":n2(t,n);break;case"select":e=n.value,e!=null&&nu(t,!!n.multiple,e,!1)}};l2=mw;c2=sa;var pN={usingClientEntryPoint:!1,Events:[Jc,ja,dp,a2,u2,mw]},bl={findFiberByHostInstance:zo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gN={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d2(t),t===null?null:t.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||hN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{lp=Wf.inject(gN),Li=Wf}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pN;Pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_w(e))throw Error(te(200));return fN(t,e,null,n)};Pr.createRoot=function(t,e){if(!_w(t))throw Error(te(299));var n=!1,r="",i=WC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sw(t,1,!1,null,null,n,!1,r,i),t[is]=e.current,pc(t.nodeType===8?t.parentNode:t),new bw(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=d2(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return sa(t)};Pr.hydrate=function(t,e,n){if(!bp(e))throw Error(te(200));return _p(null,t,e,!0,n)};Pr.hydrateRoot=function(t,e,n){if(!_w(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=WC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qC(e,null,t,1,n??null,i,!1,s,o),t[is]=e.current,pc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ep(e)};Pr.render=function(t,e,n){if(!bp(e))throw Error(te(200));return _p(null,t,e,!1,n)};Pr.unmountComponentAtNode=function(t){if(!bp(t))throw Error(te(40));return t._reactRootContainer?(sa(function(){_p(null,null,t,!1,function(){t._reactRootContainer=null,t[is]=null})}),!0):!1};Pr.unstable_batchedUpdates=mw;Pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bp(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return _p(t,e,n,!1,r)};Pr.version="18.2.0-next-9e3b772b8-20220608";function KC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KC)}catch(t){console.error(t)}}KC(),qx.exports=Pr;var tf=qx.exports;const mN=ds(tf);var UE=tf;_m.createRoot=UE.createRoot,_m.hydrateRoot=UE.hydrateRoot;function yN(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function vN(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wN=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vN(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=yN(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),qn="-ms-",Ed="-moz-",St="-webkit-",GC="comm",xw="rule",Cw="decl",SN="@import",QC="@keyframes",EN="@layer",bN=Math.abs,xp=String.fromCharCode,_N=Object.assign;function xN(t,e){return Nn(t,0)^45?(((e<<2^Nn(t,0))<<2^Nn(t,1))<<2^Nn(t,2))<<2^Nn(t,3):0}function YC(t){return t.trim()}function CN(t,e){return(t=e.exec(t))?t[0]:t}function Et(t,e,n){return t.replace(e,n)}function my(t,e){return t.indexOf(e)}function Nn(t,e){return t.charCodeAt(e)|0}function _c(t,e,n){return t.slice(e,n)}function Ci(t){return t.length}function Iw(t){return t.length}function Kf(t,e){return e.push(t),t}function IN(t,e){return t.map(e).join("")}var Cp=1,Ru=1,ZC=0,Sr=0,un=0,Gu="";function Ip(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Cp,column:Ru,length:o,return:""}}function _l(t,e){return _N(Ip("",null,null,"",null,null,0),t,{length:-t.length},e)}function MN(){return un}function AN(){return un=Sr>0?Nn(Gu,--Sr):0,Ru--,un===10&&(Ru=1,Cp--),un}function Or(){return un=Sr<ZC?Nn(Gu,Sr++):0,Ru++,un===10&&(Ru=1,Cp++),un}function Pi(){return Nn(Gu,Sr)}function Th(){return Sr}function nf(t,e){return _c(Gu,t,e)}function xc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XC(t){return Cp=Ru=1,ZC=Ci(Gu=t),Sr=0,[]}function JC(t){return Gu="",t}function Rh(t){return YC(nf(Sr-1,yy(t===91?t+2:t===40?t+1:t)))}function kN(t){for(;(un=Pi())&&un<33;)Or();return xc(t)>2||xc(un)>3?"":" "}function TN(t,e){for(;--e&&Or()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return nf(t,Th()+(e<6&&Pi()==32&&Or()==32))}function yy(t){for(;Or();)switch(un){case t:return Sr;case 34:case 39:t!==34&&t!==39&&yy(un);break;case 40:t===41&&yy(t);break;case 92:Or();break}return Sr}function RN(t,e){for(;Or()&&t+un!==47+10;)if(t+un===42+42&&Pi()===47)break;return"/*"+nf(e,Sr-1)+"*"+xp(t===47?t:Or())}function NN(t){for(;!xc(Pi());)Or();return nf(t,Sr)}function ON(t){return JC(Nh("",null,null,null,[""],t=XC(t),0,[0],t))}function Nh(t,e,n,r,i,s,o,a,u){for(var c=0,d=0,g=o,S=0,w=0,I=0,x=1,N=1,k=1,T=0,M="",B=i,L=s,P=r,F=M;N;)switch(I=T,T=Or()){case 40:if(I!=108&&Nn(F,g-1)==58){my(F+=Et(Rh(T),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:F+=Rh(T);break;case 9:case 10:case 13:case 32:F+=kN(I);break;case 92:F+=TN(Th()-1,7);continue;case 47:switch(Pi()){case 42:case 47:Kf(LN(RN(Or(),Th()),e,n),u);break;default:F+="/"}break;case 123*x:a[c++]=Ci(F)*k;case 125*x:case 59:case 0:switch(T){case 0:case 125:N=0;case 59+d:k==-1&&(F=Et(F,/\f/g,"")),w>0&&Ci(F)-g&&Kf(w>32?VE(F+";",r,n,g-1):VE(Et(F," ","")+";",r,n,g-2),u);break;case 59:F+=";";default:if(Kf(P=zE(F,e,n,c,d,i,a,M,B=[],L=[],g),s),T===123)if(d===0)Nh(F,e,P,P,B,s,g,a,L);else switch(S===99&&Nn(F,3)===110?100:S){case 100:case 108:case 109:case 115:Nh(t,P,P,r&&Kf(zE(t,P,P,0,0,i,a,M,i,B=[],g),L),i,L,g,a,r?B:L);break;default:Nh(F,P,P,P,[""],L,0,a,L)}}c=d=w=0,x=k=1,M=F="",g=o;break;case 58:g=1+Ci(F),w=I;default:if(x<1){if(T==123)--x;else if(T==125&&x++==0&&AN()==125)continue}switch(F+=xp(T),T*x){case 38:k=d>0?1:(F+="\f",-1);break;case 44:a[c++]=(Ci(F)-1)*k,k=1;break;case 64:Pi()===45&&(F+=Rh(Or())),S=Pi(),d=g=Ci(M=F+=NN(Th())),T++;break;case 45:I===45&&Ci(F)==2&&(x=0)}}return s}function zE(t,e,n,r,i,s,o,a,u,c,d){for(var g=i-1,S=i===0?s:[""],w=Iw(S),I=0,x=0,N=0;I<r;++I)for(var k=0,T=_c(t,g+1,g=bN(x=o[I])),M=t;k<w;++k)(M=YC(x>0?S[k]+" "+T:Et(T,/&\f/g,S[k])))&&(u[N++]=M);return Ip(t,e,n,i===0?xw:a,u,c,d)}function LN(t,e,n){return Ip(t,e,n,GC,xp(MN()),_c(t,2,-2),0)}function VE(t,e,n,r){return Ip(t,e,n,Cw,_c(t,0,r),_c(t,r+1,-1),r)}function uu(t,e){for(var n="",r=Iw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function DN(t,e,n,r){switch(t.type){case EN:if(t.children.length)break;case SN:case Cw:return t.return=t.return||t.value;case GC:return"";case QC:return t.return=t.value+"{"+uu(t.children,r)+"}";case xw:t.value=t.props.join(",")}return Ci(n=uu(t.children,r))?t.return=t.value+"{"+n+"}":""}function PN(t){var e=Iw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function BN(t){return function(e){e.root||(e=e.return)&&t(e)}}function FN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var $N=function(e,n,r){for(var i=0,s=0;i=s,s=Pi(),i===38&&s===12&&(n[r]=1),!xc(s);)Or();return nf(e,Sr)},UN=function(e,n){var r=-1,i=44;do switch(xc(i)){case 0:i===38&&Pi()===12&&(n[r]=1),e[r]+=$N(Sr-1,n,r);break;case 2:e[r]+=Rh(i);break;case 4:if(i===44){e[++r]=Pi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xp(i)}while(i=Or());return e},zN=function(e,n){return JC(UN(XC(e),n))},jE=new WeakMap,VN=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jE.get(r))&&!i){jE.set(e,!0);for(var s=[],o=zN(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[d]):a[d]+" "+o[u]}}},jN=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function eI(t,e){switch(xN(t,e)){case 5103:return St+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return St+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return St+t+Ed+t+qn+t+t;case 6828:case 4268:return St+t+qn+t+t;case 6165:return St+t+qn+"flex-"+t+t;case 5187:return St+t+Et(t,/(\w+).+(:[^]+)/,St+"box-$1$2"+qn+"flex-$1$2")+t;case 5443:return St+t+qn+"flex-item-"+Et(t,/flex-|-self/,"")+t;case 4675:return St+t+qn+"flex-line-pack"+Et(t,/align-content|flex-|-self/,"")+t;case 5548:return St+t+qn+Et(t,"shrink","negative")+t;case 5292:return St+t+qn+Et(t,"basis","preferred-size")+t;case 6060:return St+"box-"+Et(t,"-grow","")+St+t+qn+Et(t,"grow","positive")+t;case 4554:return St+Et(t,/([^-])(transform)/g,"$1"+St+"$2")+t;case 6187:return Et(Et(Et(t,/(zoom-|grab)/,St+"$1"),/(image-set)/,St+"$1"),t,"")+t;case 5495:case 3959:return Et(t,/(image-set\([^]*)/,St+"$1$`$1");case 4968:return Et(Et(t,/(.+:)(flex-)?(.*)/,St+"box-pack:$3"+qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+St+t+t;case 4095:case 3583:case 4068:case 2532:return Et(t,/(.+)-inline(.+)/,St+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ci(t)-1-e>6)switch(Nn(t,e+1)){case 109:if(Nn(t,e+4)!==45)break;case 102:return Et(t,/(.+:)(.+)-([^]+)/,"$1"+St+"$2-$3$1"+Ed+(Nn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~my(t,"stretch")?eI(Et(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nn(t,e+1)!==115)break;case 6444:switch(Nn(t,Ci(t)-3-(~my(t,"!important")&&10))){case 107:return Et(t,":",":"+St)+t;case 101:return Et(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+St+(Nn(t,14)===45?"inline-":"")+"box$3$1"+St+"$2$3$1"+qn+"$2box$3")+t}break;case 5936:switch(Nn(t,e+11)){case 114:return St+t+qn+Et(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return St+t+qn+Et(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return St+t+qn+Et(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return St+t+qn+t+t}return t}var HN=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Cw:e.return=eI(e.value,e.length);break;case QC:return uu([_l(e,{value:Et(e.value,"@","@"+St)})],i);case xw:if(e.length)return IN(e.props,function(s){switch(CN(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uu([_l(e,{props:[Et(s,/:(read-\w+)/,":"+Ed+"$1")]})],i);case"::placeholder":return uu([_l(e,{props:[Et(s,/:(plac\w+)/,":"+St+"input-$1")]}),_l(e,{props:[Et(s,/:(plac\w+)/,":"+Ed+"$1")]}),_l(e,{props:[Et(s,/:(plac\w+)/,qn+"input-$1")]})],i)}return""})}},qN=[HN],WN=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var N=x.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||qN,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var N=x.getAttribute("data-emotion").split(" "),k=1;k<N.length;k++)s[N[k]]=!0;a.push(x)});var u,c=[VN,jN];{var d,g=[DN,BN(function(x){d.insert(x)})],S=PN(c.concat(i,g)),w=function(N){return uu(ON(N),S)};u=function(N,k,T,M){d=T,w(N?N+"{"+k.styles+"}":k.styles),M&&(I.inserted[k.name]=!0)}}var I={key:n,sheet:new wN({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return I.sheet.hydrate(a),I};function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lt.apply(this,arguments)}var tI={exports:{}},kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bn=typeof Symbol=="function"&&Symbol.for,Mw=bn?Symbol.for("react.element"):60103,Aw=bn?Symbol.for("react.portal"):60106,Mp=bn?Symbol.for("react.fragment"):60107,Ap=bn?Symbol.for("react.strict_mode"):60108,kp=bn?Symbol.for("react.profiler"):60114,Tp=bn?Symbol.for("react.provider"):60109,Rp=bn?Symbol.for("react.context"):60110,kw=bn?Symbol.for("react.async_mode"):60111,Np=bn?Symbol.for("react.concurrent_mode"):60111,Op=bn?Symbol.for("react.forward_ref"):60112,Lp=bn?Symbol.for("react.suspense"):60113,KN=bn?Symbol.for("react.suspense_list"):60120,Dp=bn?Symbol.for("react.memo"):60115,Pp=bn?Symbol.for("react.lazy"):60116,GN=bn?Symbol.for("react.block"):60121,QN=bn?Symbol.for("react.fundamental"):60117,YN=bn?Symbol.for("react.responder"):60118,ZN=bn?Symbol.for("react.scope"):60119;function Fr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Mw:switch(t=t.type,t){case kw:case Np:case Mp:case kp:case Ap:case Lp:return t;default:switch(t=t&&t.$$typeof,t){case Rp:case Op:case Pp:case Dp:case Tp:return t;default:return e}}case Aw:return e}}}function nI(t){return Fr(t)===Np}kt.AsyncMode=kw;kt.ConcurrentMode=Np;kt.ContextConsumer=Rp;kt.ContextProvider=Tp;kt.Element=Mw;kt.ForwardRef=Op;kt.Fragment=Mp;kt.Lazy=Pp;kt.Memo=Dp;kt.Portal=Aw;kt.Profiler=kp;kt.StrictMode=Ap;kt.Suspense=Lp;kt.isAsyncMode=function(t){return nI(t)||Fr(t)===kw};kt.isConcurrentMode=nI;kt.isContextConsumer=function(t){return Fr(t)===Rp};kt.isContextProvider=function(t){return Fr(t)===Tp};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mw};kt.isForwardRef=function(t){return Fr(t)===Op};kt.isFragment=function(t){return Fr(t)===Mp};kt.isLazy=function(t){return Fr(t)===Pp};kt.isMemo=function(t){return Fr(t)===Dp};kt.isPortal=function(t){return Fr(t)===Aw};kt.isProfiler=function(t){return Fr(t)===kp};kt.isStrictMode=function(t){return Fr(t)===Ap};kt.isSuspense=function(t){return Fr(t)===Lp};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mp||t===Np||t===kp||t===Ap||t===Lp||t===KN||typeof t=="object"&&t!==null&&(t.$$typeof===Pp||t.$$typeof===Dp||t.$$typeof===Tp||t.$$typeof===Rp||t.$$typeof===Op||t.$$typeof===QN||t.$$typeof===YN||t.$$typeof===ZN||t.$$typeof===GN)};kt.typeOf=Fr;tI.exports=kt;var XN=tI.exports,rI=XN,JN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iI={};iI[rI.ForwardRef]=JN;iI[rI.Memo]=eO;var tO=!0;function nO(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var sI=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||tO===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},rO=function(e,n,r){sI(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function iO(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var sO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oO=/[A-Z]|^ms/g,aO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oI=function(e){return e.charCodeAt(1)===45},HE=function(e){return e!=null&&typeof e!="boolean"},o0=FN(function(t){return oI(t)?t:t.replace(oO,"-$&").toLowerCase()}),qE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(aO,function(r,i,s){return Ii={name:i,styles:s,next:Ii},i})}return sO[e]!==1&&!oI(e)&&typeof n=="number"&&n!==0?n+"px":n};function Cc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ii={name:n.name,styles:n.styles,next:Ii},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ii={name:r.name,styles:r.styles,next:Ii},r=r.next;var i=n.styles+";";return i}return uO(t,e,n)}case"function":{if(t!==void 0){var s=Ii,o=n(t);return Ii=s,Cc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function uO(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Cc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":HE(o)&&(r+=o0(s)+":"+qE(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)HE(o[a])&&(r+=o0(s)+":"+qE(s,o[a])+";");else{var u=Cc(t,e,o);switch(s){case"animation":case"animationName":{r+=o0(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var WE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ii,aI=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ii=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Cc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Cc(r,n,e[a]),i&&(s+=o[a]);WE.lastIndex=0;for(var u="",c;(c=WE.exec(s))!==null;)u+="-"+c[1];var d=iO(s)+u;return{name:d,styles:s,next:Ii}},lO=function(e){return e()},cO=LS["useInsertionEffect"]?LS["useInsertionEffect"]:!1,fO=cO||lO,Bp={}.hasOwnProperty,uI=$.createContext(typeof HTMLElement<"u"?WN({key:"css"}):null);uI.Provider;var hO=function(e){return $.forwardRef(function(n,r){var i=$.useContext(uI);return e(n,i,r)})},dO=$.createContext({}),vy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",lI=function(e,n){var r={};for(var i in n)Bp.call(n,i)&&(r[i]=n[i]);return r[vy]=e,r},pO=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return sI(n,r,i),fO(function(){return rO(n,r,i)}),null},gO=hO(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[vy],s=[r],o="";typeof t.className=="string"?o=nO(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=aI(s,void 0,$.useContext(dO));o+=e.key+"-"+a.name;var u={};for(var c in t)Bp.call(t,c)&&c!=="css"&&c!==vy&&(u[c]=t[c]);return u.ref=n,u.className=o,$.createElement($.Fragment,null,$.createElement(pO,{cache:e,serialized:a,isStringTag:typeof i=="string"}),$.createElement(i,u))}),cI=gO,Fp=Zn.Fragment;function me(t,e,n){return Bp.call(e,"css")?Zn.jsx(cI,lI(t,e),n):Zn.jsx(t,e,n)}function yt(t,e,n){return Bp.call(e,"css")?Zn.jsxs(cI,lI(t,e),n):Zn.jsxs(t,e,n)}function en(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return aI(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,g=(s&3)<<4|a>>4;let S=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(S=64)),r.push(n[d],n[g],n[S],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||g==null)throw new yO;const S=s<<2|a>>4;if(r.push(S),c!==64){const w=a<<4&240|c>>2;if(r.push(w),g!==64){const I=c<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vO=function(t){const e=fI(t);return hI.encodeByteArray(e,!0)},bd=function(t){return vO(t).replace(/\./g,"")},dI=function(t){try{return hI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=()=>wO().__FIREBASE_DEFAULTS__,EO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},Tw=()=>{try{return SO()||EO()||bO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_O=t=>{var e,n;return(n=(e=Tw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xO=t=>{const e=_O(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pI=()=>{var t;return(t=Tw())===null||t===void 0?void 0:t.config},CO=t=>{var e;return(e=Tw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[bd(JSON.stringify(n)),bd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())}function kO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RO(){try{return typeof indexedDB=="object"}catch{return!1}}function NO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="FirebaseError";class lo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OO,Object.setPrototypeOf(this,lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rf.prototype.create)}}class rf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lo(i,a,r)}}function LO(t,e){return t.replace(DO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DO=/\{\$([^}]+)}/g;function wy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(KE(s)&&KE(o)){if(!wy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function PO(t,e){const n=new BO(t,e);return n.subscribe.bind(n)}class BO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=a0),i.error===void 0&&(i.error=a0),i.complete===void 0&&(i.complete=a0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function a0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t){return t&&t._delegate?t._delegate:t}class oa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new IO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zO(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UO(t){return t===Bo?void 0:t}function zO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $O(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(vt||(vt={}));const jO={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},HO=vt.INFO,qO={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},WO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rw{constructor(e){this.name=e,this._logLevel=HO,this._logHandler=WO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const KO=(t,e)=>e.some(n=>t instanceof n);let GE,QE;function GO(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QO(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mI=new WeakMap,Sy=new WeakMap,yI=new WeakMap,u0=new WeakMap,Nw=new WeakMap;function YO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(js(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mI.set(n,t)}).catch(()=>{}),Nw.set(e,t),e}function ZO(t){if(Sy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sy.set(t,e)}let Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XO(t){Ey=t(Ey)}function JO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(l0(this),e,...n);return yI.set(r,e.sort?e.sort():[e]),js(r)}:QO().includes(t)?function(...e){return t.apply(l0(this),e),js(mI.get(this))}:function(...e){return js(t.apply(l0(this),e))}}function eL(t){return typeof t=="function"?JO(t):(t instanceof IDBTransaction&&ZO(t),KO(t,GO())?new Proxy(t,Ey):t)}function js(t){if(t instanceof IDBRequest)return YO(t);if(u0.has(t))return u0.get(t);const e=eL(t);return e!==t&&(u0.set(t,e),Nw.set(e,t)),e}const l0=t=>Nw.get(t);function tL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",u=>{r(js(o.result),u.oldVersion,u.newVersion,js(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nL=["get","getKey","getAll","getAllKeys","count"],rL=["put","add","delete","clear"],c0=new Map;function YE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c0.get(e))return c0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nL.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return c0.set(e,s),s}XO(t=>({...t,get:(e,n,r)=>YE(e,n)||t.get(e,n,r),has:(e,n)=>!!YE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const by="@firebase/app",ZE="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Rw("@firebase/app"),oL="@firebase/app-compat",aL="@firebase/analytics-compat",uL="@firebase/analytics",lL="@firebase/app-check-compat",cL="@firebase/app-check",fL="@firebase/auth",hL="@firebase/auth-compat",dL="@firebase/database",pL="@firebase/database-compat",gL="@firebase/functions",mL="@firebase/functions-compat",yL="@firebase/installations",vL="@firebase/installations-compat",wL="@firebase/messaging",SL="@firebase/messaging-compat",EL="@firebase/performance",bL="@firebase/performance-compat",_L="@firebase/remote-config",xL="@firebase/remote-config-compat",CL="@firebase/storage",IL="@firebase/storage-compat",ML="@firebase/firestore",AL="@firebase/firestore-compat",kL="firebase",TL="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",RL={[by]:"fire-core",[oL]:"fire-core-compat",[uL]:"fire-analytics",[aL]:"fire-analytics-compat",[cL]:"fire-app-check",[lL]:"fire-app-check-compat",[fL]:"fire-auth",[hL]:"fire-auth-compat",[dL]:"fire-rtdb",[pL]:"fire-rtdb-compat",[gL]:"fire-fn",[mL]:"fire-fn-compat",[yL]:"fire-iid",[vL]:"fire-iid-compat",[wL]:"fire-fcm",[SL]:"fire-fcm-compat",[EL]:"fire-perf",[bL]:"fire-perf-compat",[_L]:"fire-rc",[xL]:"fire-rc-compat",[CL]:"fire-gcs",[IL]:"fire-gcs-compat",[ML]:"fire-fst",[AL]:"fire-fst-compat","fire-js":"fire-js",[kL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,xy=new Map;function NL(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nu(t){const e=t.name;if(xy.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of _d.values())NL(n,t);return!0}function OL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hs=new rf("app","Firebase",LL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=TL;function vI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hs.create("bad-app-name",{appName:String(i)});if(n||(n=pI()),!n)throw Hs.create("no-options");const s=_d.get(i);if(s){if(wy(n,s.options)&&wy(r,s.config))return s;throw Hs.create("duplicate-app",{appName:i})}const o=new VO(i);for(const u of xy.values())o.addComponent(u);const a=new DL(n,r,o);return _d.set(i,a),a}function PL(t=_y){const e=_d.get(t);if(!e&&t===_y&&pI())return vI();if(!e)throw Hs.create("no-app",{appName:t});return e}function qs(t,e,n){var r;let i=(r=RL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}Nu(new oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="firebase-heartbeat-database",FL=1,Ic="firebase-heartbeat-store";let f0=null;function wI(){return f0||(f0=tL(BL,FL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ic)}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),f0}async function $L(t){try{return await(await wI()).transaction(Ic).objectStore(Ic).get(SI(t))}catch(e){if(e instanceof lo)aa.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function XE(t,e){try{const r=(await wI()).transaction(Ic,"readwrite");await r.objectStore(Ic).put(e,SI(t)),await r.done}catch(n){if(n instanceof lo)aa.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function SI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1024,zL=30*24*60*60*1e3;class VL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=JE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=zL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=JE(),{heartbeatsToSend:n,unsentEntries:r}=jL(this._heartbeatsCache.heartbeats),i=bd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function JE(){return new Date().toISOString().substring(0,10)}function jL(t,e=UL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RO()?NO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $L(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eb(t){return bd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){Nu(new oa("platform-logger",e=>new iL(e),"PRIVATE")),Nu(new oa("heartbeat",e=>new VL(e),"PRIVATE")),qs(by,ZE,t),qs(by,ZE,"esm2017"),qs("fire-js","")}qL("");var WL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,Ow=Ow||{},ze=WL||self;function Up(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function KL(t){return Object.prototype.hasOwnProperty.call(t,h0)&&t[h0]||(t[h0]=++GL)}var h0="closure_uid_"+(1e9*Math.random()>>>0),GL=0;function QL(t,e,n){return t.call.apply(t.bind,arguments)}function YL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jn=QL:Jn=YL,Jn.apply(null,arguments)}function Gf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _n(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function co(){this.s=this.s,this.o=this.o}var ZL=0;co.prototype.s=!1;co.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ZL!=0)&&KL(this)};co.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Up(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function er(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}er.prototype.h=function(){this.defaultPrevented=!0};var XL=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ze.addEventListener("test",()=>{},e),ze.removeEventListener("test",()=>{},e)}catch{}return t}();function Mc(t){return/^[\s\xa0]*$/.test(t)}function zp(){var t=ze.navigator;return t&&(t=t.userAgent)?t:""}function Ai(t){return zp().indexOf(t)!=-1}function Dw(t){return Dw[" "](t),t}Dw[" "]=function(){};function JL(t,e){var n=q6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var e6=Ai("Opera"),Ou=Ai("Trident")||Ai("MSIE"),bI=Ai("Edge"),Cy=bI||Ou,_I=Ai("Gecko")&&!(zp().toLowerCase().indexOf("webkit")!=-1&&!Ai("Edge"))&&!(Ai("Trident")||Ai("MSIE"))&&!Ai("Edge"),t6=zp().toLowerCase().indexOf("webkit")!=-1&&!Ai("Edge");function xI(){var t=ze.document;return t?t.documentMode:void 0}var Iy;e:{var d0="",p0=function(){var t=zp();if(_I)return/rv:([^\);]+)(\)|;)/.exec(t);if(bI)return/Edge\/([\d\.]+)/.exec(t);if(Ou)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(t6)return/WebKit\/(\S+)/.exec(t);if(e6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(p0&&(d0=p0?p0[1]:""),Ou){var g0=xI();if(g0!=null&&g0>parseFloat(d0)){Iy=String(g0);break e}}Iy=d0}var My;if(ze.document&&Ou){var nb=xI();My=nb||parseInt(Iy,10)||void 0}else My=void 0;var n6=My;function Ac(t,e){if(er.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_I){e:{try{Dw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:r6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ac.$.h.call(this)}}_n(Ac,er);var r6={2:"touch",3:"pen",4:"mouse"};Ac.prototype.h=function(){Ac.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var of="closure_listenable_"+(1e6*Math.random()|0),i6=0;function s6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++i6,this.fa=this.ia=!1}function Vp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function o6(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function CI(t){const e={};for(const n in t)e[n]=t[n];return e}const rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function II(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<rb.length;s++)n=rb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jp(t){this.src=t,this.g={},this.h=0}jp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ky(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new s6(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ay(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=EI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ky(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bw="closure_lm_"+(1e6*Math.random()|0),m0={};function MI(t,e,n,r,i){if(r&&r.once)return kI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)MI(t,e[s],n,r,i);return null}return n=Uw(n),t&&t[of]?t.O(e,n,sf(r)?!!r.capture:!!r,i):AI(t,e,n,!1,r,i)}function AI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sf(i)?!!i.capture:!!i,a=$w(t);if(a||(t[Bw]=a=new jp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=a6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)XL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(RI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a6(){function t(n){return e.call(t.src,t.listener,n)}const e=u6;return t}function kI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kI(t,e[s],n,r,i);return null}return n=Uw(n),t&&t[of]?t.P(e,n,sf(r)?!!r.capture:!!r,i):AI(t,e,n,!0,r,i)}function TI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)TI(t,e[s],n,r,i);else r=sf(r)?!!r.capture:!!r,n=Uw(n),t&&t[of]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ky(s,n,r,i),-1<n&&(Vp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$w(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ky(e,n,r,i)),(n=-1<t?e[t]:null)&&Fw(n))}function Fw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[of])Ay(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$w(e))?(Ay(n,t),n.h==0&&(n.src=null,e[Bw]=null)):Vp(t)}}}function RI(t){return t in m0?m0[t]:m0[t]="on"+t}function u6(t,e){if(t.fa)t=!0;else{e=new Ac(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Fw(t),t=n.call(r,e)}return t}function $w(t){return t=t[Bw],t instanceof jp?t:null}var y0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uw(t){return typeof t=="function"?t:(t[y0]||(t[y0]=function(e){return t.handleEvent(e)}),t[y0])}function En(){co.call(this),this.i=new jp(this),this.S=this,this.J=null}_n(En,co);En.prototype[of]=!0;En.prototype.removeEventListener=function(t,e,n,r){TI(this,t,e,n,r)};function Dn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new er(e,t);else if(e instanceof er)e.target=e.target||t;else{var i=e;e=new er(r,t),II(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qf(o,r,!0,e)&&i}if(o=e.g=t,i=Qf(o,r,!0,e)&&i,i=Qf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qf(o,r,!1,e)&&i}En.prototype.N=function(){if(En.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vp(n[r]);delete t.g[e],t.h--}}this.J=null};En.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};En.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Ay(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var zw=ze.JSON.stringify;class l6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function c6(){var t=Vw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class f6{constructor(){this.h=this.g=null}add(e,n){const r=NI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var NI=new l6(()=>new h6,t=>t.reset());class h6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function d6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function p6(t){ze.setTimeout(()=>{throw t},0)}let kc,Tc=!1,Vw=new f6,OI=()=>{const t=ze.Promise.resolve(void 0);kc=()=>{t.then(g6)}};var g6=()=>{for(var t;t=c6();){try{t.h.call(t.g)}catch(n){p6(n)}var e=NI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Tc=!1};function Hp(t,e){En.call(this),this.h=t||1,this.g=e||ze,this.j=Jn(this.qb,this),this.l=Date.now()}_n(Hp,En);ae=Hp.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(jw(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){Hp.$.N.call(this),jw(this),delete this.g};function Hw(t,e,n){if(typeof t=="function")n&&(t=Jn(t,n));else if(t&&typeof t.handleEvent=="function")t=Jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ze.setTimeout(t,e||0)}function LI(t){t.g=Hw(()=>{t.g=null,t.i&&(t.i=!1,LI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class m6 extends co{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LI(this)}N(){super.N(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rc(t){co.call(this),this.h=t,this.g={}}_n(Rc,co);var ib=[];function DI(t,e,n,r){Array.isArray(n)||(n&&(ib[0]=n.toString()),n=ib);for(var i=0;i<n.length;i++){var s=MI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function PI(t){Pw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fw(e)},t),t.g={}}Rc.prototype.N=function(){Rc.$.N.call(this),PI(this)};Rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qp(){this.g=!0}qp.prototype.Ea=function(){this.g=!1};function y6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var d=c[0];c=c[1];var g=d.split("_");o=2<=g.length&&g[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function v6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+S6(t,n)+(r?" "+r:"")})}function w6(t,e){t.info(function(){return"TIMEOUT: "+e})}qp.prototype.info=function(){};function S6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zw(n)}catch{return e}}var ma={},sb=null;function Wp(){return sb=sb||new En}ma.Ta="serverreachability";function BI(t){er.call(this,ma.Ta,t)}_n(BI,er);function Nc(t){const e=Wp();Dn(e,new BI(e))}ma.STAT_EVENT="statevent";function FI(t,e){er.call(this,ma.STAT_EVENT,t),this.stat=e}_n(FI,er);function sr(t){const e=Wp();Dn(e,new FI(e,t))}ma.Ua="timingevent";function $I(t,e){er.call(this,ma.Ua,t),this.size=e}_n($I,er);function af(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){t()},e)}var Kp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qw(){}qw.prototype.h=null;function ob(t){return t.h||(t.h=t.i())}function zI(){}var uf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ww(){er.call(this,"d")}_n(Ww,er);function Kw(){er.call(this,"c")}_n(Kw,er);var Ty;function Gp(){}_n(Gp,qw);Gp.prototype.g=function(){return new XMLHttpRequest};Gp.prototype.i=function(){return{}};Ty=new Gp;function lf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rc(this),this.P=E6,t=Cy?125:void 0,this.V=new Hp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VI}function VI(){this.i=null,this.g="",this.h=!1}var E6=45e3,Ry={},xd={};ae=lf.prototype;ae.setTimeout=function(t){this.P=t};function Ny(t,e,n){t.L=1,t.v=Yp(as(e)),t.s=n,t.S=!0,jI(t,null)}function jI(t,e){t.G=Date.now(),cf(t),t.A=as(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ZI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new VI,t.g=vM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new m6(Jn(t.Pa,t,t.g),t.O)),DI(t.U,t.g,"readystatechange",t.nb),e=t.I?CI(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nc(),y6(t.j,t.u,t.A,t.m,t.W,t.s)}ae.nb=function(t){t=t.target;const e=this.M;e&&Ri(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const d=Ri(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>d)&&(d!=3||Cy||this.g&&(this.h.h||this.g.ja()||cb(this.g)))){this.J||d!=4||e==7||(e==8||0>=g?Nc(3):Nc(2)),Qp(this);var n=this.g.da();this.ca=n;t:if(HI(this)){var r=cb(this.g);t="";var i=r.length,s=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ho(this),Ql(this);var o="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,v6(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mc(a)){var c=a;break t}}c=null}if(n=c)Ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oy(this,n);else{this.i=!1,this.o=3,sr(12),Ho(this),Ql(this);break e}}this.S?(qI(this,d,o),Cy&&this.i&&d==3&&(DI(this.U,this.V,"tick",this.mb),this.V.start())):(Ya(this.j,this.m,o,null),Oy(this,o)),d==4&&Ho(this),this.i&&!this.J&&(d==4?pM(this.l,this):(this.i=!1,cf(this)))}else V6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,sr(12)):(this.o=0,sr(13)),Ho(this),Ql(this)}}}catch{}finally{}};function HI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function qI(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=b6(t,n),i==xd){e==4&&(t.o=4,sr(14),r=!1),Ya(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ry){t.o=4,sr(15),Ya(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ya(t.j,t.m,i,null),Oy(t,i);HI(t)&&i!=xd&&i!=Ry&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jw(e),e.M=!0,sr(11))):(Ya(t.j,t.m,n,"[Invalid Chunked Response]"),Ho(t),Ql(t))}ae.mb=function(){if(this.g){var t=Ri(this.g),e=this.g.ja();this.C<e.length&&(Qp(this),qI(this,t,e),this.i&&t!=4&&cf(this))}};function b6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?xd:(n=Number(e.substring(n,r)),isNaN(n)?Ry:(r+=1,r+n>e.length?xd:(e=e.slice(r,r+n),t.C=r+n,e)))}ae.cancel=function(){this.J=!0,Ho(this)};function cf(t){t.Y=Date.now()+t.P,WI(t,t.P)}function WI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=af(Jn(t.lb,t),e)}function Qp(t){t.B&&(ze.clearTimeout(t.B),t.B=null)}ae.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(w6(this.j,this.A),this.L!=2&&(Nc(),sr(17)),Ho(this),this.o=2,Ql(this)):WI(this,this.Y-t)};function Ql(t){t.l.H==0||t.J||pM(t.l,t)}function Ho(t){Qp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jw(t.V),PI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Oy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ly(n.i,t))){if(!t.K&&Ly(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Md(n),Jp(n);else break e;Xw(n),sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=af(Jn(n.ib,n),6e3));if(1>=eM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qo(n,11)}else if((t.K||n.g==t)&&Md(n),!Mc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const g=c[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const S=c[5];S!=null&&typeof S=="number"&&0<S&&(r=1.5*S,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const I=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=r.i;s.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Gw(s,s.h),s.h=null))}if(r.F){const x=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,Pt(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=yM(r,r.J?r.pa:null,r.Y),o.K){tM(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Qp(a),cf(a)),r.g=o}else hM(r);0<n.j.length&&eg(n)}else c[0]!="stop"&&c[0]!="close"||qo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?qo(n,7):Zw(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Nc(4)}catch{}}function _6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Up(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function x6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Up(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function KI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Up(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=x6(t),r=_6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var GI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xo){this.h=t.h,Cd(this,t.j),this.s=t.s,this.g=t.g,Id(this,t.m),this.l=t.l;var e=t.i,n=new Oc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ab(this,n),this.o=t.o}else t&&(e=String(t).match(GI))?(this.h=!1,Cd(this,e[1]||"",!0),this.s=Ll(e[2]||""),this.g=Ll(e[3]||"",!0),Id(this,e[4]),this.l=Ll(e[5]||"",!0),ab(this,e[6]||"",!0),this.o=Ll(e[7]||"")):(this.h=!1,this.i=new Oc(null,this.h))}Xo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Dl(e,ub,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Dl(e,ub,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Dl(n,n.charAt(0)=="/"?A6:M6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Dl(n,T6)),t.join("")};function as(t){return new Xo(t)}function Cd(t,e,n){t.j=n?Ll(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Id(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ab(t,e,n){e instanceof Oc?(t.i=e,R6(t.i,t.h)):(n||(e=Dl(e,k6)),t.i=new Oc(e,t.h))}function Pt(t,e,n){t.i.set(e,n)}function Yp(t){return Pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ll(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,I6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function I6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ub=/[#\/\?@]/g,M6=/[#\?:]/g,A6=/[#\?]/g,k6=/[#\?@]/g,T6=/#/g;function Oc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fo(t){t.g||(t.g=new Map,t.h=0,t.i&&C6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=Oc.prototype;ae.add=function(t,e){fo(this),this.i=null,t=Qu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function QI(t,e){fo(t),e=Qu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function YI(t,e){return fo(t),e=Qu(t,e),t.g.has(e)}ae.forEach=function(t,e){fo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){fo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ae.Z=function(t){fo(this);let e=[];if(typeof t=="string")YI(this,t)&&(e=e.concat(this.g.get(Qu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return fo(this),this.i=null,t=Qu(this,t),YI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ZI(t,e,n){QI(t,e),0<n.length&&(t.i=null,t.g.set(Qu(t,e),Lw(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Qu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function R6(t,e){e&&!t.j&&(fo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(QI(this,r),ZI(this,i,n))},t)),t.j=e}var N6=class{constructor(t,e){this.g=t,this.map=e}};function XI(t){this.l=t||O6,ze.PerformanceNavigationTiming?(t=ze.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ze.g&&ze.g.Ka&&ze.g.Ka()&&ze.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var O6=10;function JI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function eM(t){return t.h?1:t.g?t.g.size:0}function Ly(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gw(t,e){t.g?t.g.add(e):t.h=e}function tM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}XI.prototype.cancel=function(){if(this.i=nM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function nM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lw(t.i)}var L6=class{stringify(t){return ze.JSON.stringify(t,void 0)}parse(t){return ze.JSON.parse(t,void 0)}};function D6(){this.g=new L6}function P6(t,e,n){const r=n||"";try{KI(t,function(i,s){let o=i;sf(i)&&(o=zw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function B6(t,e){const n=new qp;if(ze.Image){const r=new Image;r.onload=Gf(Yf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gf(Yf,n,r,"TestLoadImage: error",!1,e),r.onabort=Gf(Yf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gf(Yf,n,r,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ff(t){this.l=t.fc||null,this.j=t.ob||!1}_n(ff,qw);ff.prototype.g=function(){return new Zp(this.l,this.j)};ff.prototype.i=function(t){return function(){return t}}({});function Zp(t,e){En.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n(Zp,En);var Qw=0;ae=Zp.prototype;ae.open=function(t,e){if(this.readyState!=Qw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Lc(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hf(this)),this.readyState=Qw};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ze.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function rM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hf(this):Lc(this),this.readyState==3&&rM(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,hf(this))};ae.Ya=function(t){this.g&&(this.response=t,hf(this))};ae.ka=function(){this.g&&hf(this)};function hf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Lc(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Lc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Zp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var F6=ze.JSON.parse;function Xt(t){En.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iM,this.L=this.M=!1}_n(Xt,En);var iM="",$6=/^https?$/i,U6=["POST","PUT"];ae=Xt.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ty.g(),this.C=this.u?ob(this.u):ob(Ty),this.g.onreadystatechange=Jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){lb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ze.FormData&&t instanceof ze.FormData,!(0<=EI(U6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{aM(this),0<this.B&&((this.L=z6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.ua,this)):this.A=Hw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lb(this,s)}};function z6(t){return Ou&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof Ow<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))};function lb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sM(t),Xp(t)}function sM(t){t.F||(t.F=!0,Dn(t,"complete"),Dn(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dn(this,"complete"),Dn(this,"abort"),Xp(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xp(this,!0)),Xt.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?oM(this):this.kb())};ae.kb=function(){oM(this)};function oM(t){if(t.h&&typeof Ow<"u"&&(!t.C[1]||Ri(t)!=4||t.da()!=2)){if(t.v&&Ri(t)==4)Hw(t.La,0,t);else if(Dn(t,"readystatechange"),Ri(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(GI)[1]||null;!i&&ze.self&&ze.self.location&&(i=ze.self.location.protocol.slice(0,-1)),r=!$6.test(i?i.toLowerCase():"")}n=r}if(n)Dn(t,"complete"),Dn(t,"success");else{t.m=6;try{var s=2<Ri(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",sM(t)}}finally{Xp(t)}}}}function Xp(t,e){if(t.g){aM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Dn(t,"ready");try{n.onreadystatechange=r}catch{}}}function aM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ze.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function Ri(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),F6(e)}};function cb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case iM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function V6(t){const e={};t=(t.g&&2<=Ri(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Mc(t[r]))continue;var n=d6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}o6(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uM(t){let e="";return Pw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pt(t,e,n))}function xl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lM(t){this.Ga=0,this.j=[],this.l=new qp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xl("baseRetryDelayMs",5e3,t),this.hb=xl("retryDelaySeedMs",1e4,t),this.eb=xl("forwardChannelMaxRetries",2,t),this.xa=xl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new XI(t&&t.concurrentRequestLimit),this.Ja=new D6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=lM.prototype;ae.ra=8;ae.H=1;function Zw(t){if(cM(t),t.H==3){var e=t.W++,n=as(t.I);if(Pt(n,"SID",t.K),Pt(n,"RID",e),Pt(n,"TYPE","terminate"),df(t,n),e=new lf(t,t.l,e),e.L=2,e.v=Yp(as(n)),n=!1,ze.navigator&&ze.navigator.sendBeacon)try{n=ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ze.Image&&(new Image().src=e.v,n=!0),n||(e.g=vM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cf(e)}mM(t)}function Jp(t){t.g&&(Jw(t),t.g.cancel(),t.g=null)}function cM(t){Jp(t),t.u&&(ze.clearTimeout(t.u),t.u=null),Md(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ze.clearTimeout(t.m),t.m=null)}function eg(t){if(!JI(t.i)&&!t.m){t.m=!0;var e=t.Na;kc||OI(),Tc||(kc(),Tc=!0),Vw.add(e,t),t.C=0}}function j6(t,e){return eM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=af(Jn(t.Na,t,e),gM(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=CI(s),II(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fM(this,i,e),n=as(this.I),Pt(n,"RID",t),Pt(n,"CVER",22),this.F&&Pt(n,"X-HTTP-Session-Id",this.F),df(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(uM(s)))+"&"+e:this.o&&Yw(n,this.o,s)),Gw(this.i,i),this.bb&&Pt(n,"TYPE","init"),this.P?(Pt(n,"$req",e),Pt(n,"SID","null"),i.aa=!0,Ny(i,n,null)):Ny(i,n,e),this.H=2}}else this.H==3&&(t?fb(this,t):this.j.length==0||JI(this.i)||fb(this))};function fb(t,e){var n;e?n=e.m:n=t.W++;const r=as(t.I);Pt(r,"SID",t.K),Pt(r,"RID",n),Pt(r,"AID",t.V),df(t,r),t.o&&t.s&&Yw(r,t.o,t.s),n=new lf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gw(t.i,n),Ny(n,r,e)}function df(t,e){t.na&&Pw(t.na,function(n,r){Pt(e,r,n)}),t.h&&KI({},function(n,r){Pt(e,r,n)})}function fM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const d=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{P6(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function hM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;kc||OI(),Tc||(kc(),Tc=!0),Vw.add(e,t),t.A=0}}function Xw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=af(Jn(t.Ma,t),gM(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,dM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=af(Jn(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sr(10),Jp(this),dM(this))};function Jw(t){t.B!=null&&(ze.clearTimeout(t.B),t.B=null)}function dM(t){t.g=new lf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=as(t.wa);Pt(e,"RID","rpc"),Pt(e,"SID",t.K),Pt(e,"AID",t.V),Pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pt(e,"TO",t.qa),Pt(e,"TYPE","xmlhttp"),df(t,e),t.o&&t.s&&Yw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Yp(as(e)),n.s=null,n.S=!0,jI(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,Jp(this),Xw(this),sr(19))};function Md(t){t.v!=null&&(ze.clearTimeout(t.v),t.v=null)}function pM(t,e){var n=null;if(t.g==e){Md(t),Jw(t),t.g=null;var r=2}else if(Ly(t.i,e))n=e.F,tM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Wp(),Dn(r,new $I(r,n)),eg(t)}else hM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&j6(t,e)||r==2&&Xw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qo(t,5);break;case 4:qo(t,10);break;case 3:qo(t,6);break;default:qo(t,2)}}}function gM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function qo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Jn(t.pb,t);n||(n=new Xo("//www.google.com/images/cleardot.gif"),ze.location&&ze.location.protocol=="http"||Cd(n,"https"),Yp(n)),B6(n.toString(),r)}else sr(2);t.H=0,t.h&&t.h.za(e),mM(t),cM(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sr(2)):(this.l.info("Failed to ping google.com"),sr(1))};function mM(t){if(t.H=0,t.ma=[],t.h){const e=nM(t.i);(e.length!=0||t.j.length!=0)&&(tb(t.ma,e),tb(t.ma,t.j),t.i.i.length=0,Lw(t.j),t.j.length=0),t.h.ya()}}function yM(t,e,n){var r=n instanceof Xo?as(n):new Xo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Id(r,r.m);else{var i=ze.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xo(null);r&&Cd(s,r),e&&(s.g=e),i&&Id(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Pt(r,n,e),Pt(r,"VER",t.ra),df(t,r),r}function vM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Xt(new ff({ob:!0})):new Xt(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function wM(){}ae=wM.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function Ad(){if(Ou&&!(10<=Number(n6)))throw Error("Environmental error: no available transport.")}Ad.prototype.g=function(t,e){return new Dr(t,e)};function Dr(t,e){En.call(this),this.g=new lM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Mc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Yu(this)}_n(Dr,En);Dr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=yM(t,null,t.Y),eg(t)};Dr.prototype.close=function(){Zw(this.g)};Dr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zw(t),t=n);e.j.push(new N6(e.fb++,t)),e.H==3&&eg(e)};Dr.prototype.N=function(){this.g.h=null,delete this.j,Zw(this.g),delete this.g,Dr.$.N.call(this)};function SM(t){Ww.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_n(SM,Ww);function EM(){Kw.call(this),this.status=1}_n(EM,Kw);function Yu(t){this.g=t}_n(Yu,wM);Yu.prototype.Ba=function(){Dn(this.g,"a")};Yu.prototype.Aa=function(t){Dn(this.g,new SM(t))};Yu.prototype.za=function(t){Dn(this.g,new EM)};Yu.prototype.ya=function(){Dn(this.g,"b")};function H6(){this.blockSize=-1}function mi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_n(mi,H6);mi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function v0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}mi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)v0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){v0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){v0(this,r),i=0;break}}this.h=i,this.i+=e};mi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Mt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var q6={};function e1(t){return-128<=t&&128>t?JL(t,function(e){return new Mt([e|0],0>e?-1:0)}):new Mt([t|0],0>t?-1:0)}function Ni(t){if(isNaN(t)||!isFinite(t))return lu;if(0>t)return On(Ni(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dy;return new Mt(e,0)}function bM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return On(bM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ni(Math.pow(e,8)),r=lu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ni(Math.pow(e,s)),r=r.R(s).add(Ni(o))):(r=r.R(n),r=r.add(Ni(o)))}return r}var Dy=4294967296,lu=e1(0),Py=e1(1),hb=e1(16777216);ae=Mt.prototype;ae.ea=function(){if(Kr(this))return-On(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dy+r)*e,e*=Dy}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xi(this))return"0";if(Kr(this))return"-"+On(this).toString(t);for(var e=Ni(Math.pow(t,6)),n=this,r="";;){var i=Td(n,e).g;n=kd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kr(t){return t.h==-1}ae.X=function(t){return t=kd(this,t),Kr(t)?-1:Xi(t)?0:1};function On(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Mt(n,~t.h).add(Py)}ae.abs=function(){return Kr(this)?On(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Mt(n,n[n.length-1]&-2147483648?-1:0)};function kd(t,e){return t.add(On(e))}ae.R=function(t){if(Xi(this)||Xi(t))return lu;if(Kr(this))return Kr(t)?On(this).R(On(t)):On(On(this).R(t));if(Kr(t))return On(this.R(On(t)));if(0>this.X(hb)&&0>t.X(hb))return Ni(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Zf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Zf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Zf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Zf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Mt(n,0)};function Zf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cl(t,e){this.g=t,this.h=e}function Td(t,e){if(Xi(e))throw Error("division by zero");if(Xi(t))return new Cl(lu,lu);if(Kr(t))return e=Td(On(t),e),new Cl(On(e.g),On(e.h));if(Kr(e))return e=Td(t,On(e)),new Cl(On(e.g),e.h);if(30<t.g.length){if(Kr(t)||Kr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Py,r=e;0>=r.X(t);)n=db(n),r=db(r);var i=Ma(n,1),s=Ma(r,1);for(r=Ma(r,2),n=Ma(n,2);!Xi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ma(r,1),n=Ma(n,1)}return e=kd(t,i.R(e)),new Cl(i,e)}for(i=lu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ni(n),o=s.R(e);Kr(o)||0<o.X(t);)n-=r,s=Ni(n),o=s.R(e);Xi(s)&&(s=Py),i=i.add(s),t=kd(t,o)}return new Cl(i,t)}ae.gb=function(t){return Td(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Mt(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Mt(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Mt(n,this.h^t.h)};function db(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Mt(n,t.h)}function Ma(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Mt(i,t.h)}Ad.prototype.createWebChannel=Ad.prototype.g;Dr.prototype.send=Dr.prototype.u;Dr.prototype.open=Dr.prototype.m;Dr.prototype.close=Dr.prototype.close;Kp.NO_ERROR=0;Kp.TIMEOUT=8;Kp.HTTP_ERROR=6;UI.COMPLETE="complete";zI.EventType=uf;uf.OPEN="a";uf.CLOSE="b";uf.ERROR="c";uf.MESSAGE="d";En.prototype.listen=En.prototype.O;Xt.prototype.listenOnce=Xt.prototype.P;Xt.prototype.getLastError=Xt.prototype.Sa;Xt.prototype.getLastErrorCode=Xt.prototype.Ia;Xt.prototype.getStatus=Xt.prototype.da;Xt.prototype.getResponseJson=Xt.prototype.Wa;Xt.prototype.getResponseText=Xt.prototype.ja;Xt.prototype.send=Xt.prototype.ha;Xt.prototype.setWithCredentials=Xt.prototype.Oa;mi.prototype.digest=mi.prototype.l;mi.prototype.reset=mi.prototype.reset;mi.prototype.update=mi.prototype.j;Mt.prototype.add=Mt.prototype.add;Mt.prototype.multiply=Mt.prototype.R;Mt.prototype.modulo=Mt.prototype.gb;Mt.prototype.compare=Mt.prototype.X;Mt.prototype.toNumber=Mt.prototype.ea;Mt.prototype.toString=Mt.prototype.toString;Mt.prototype.getBits=Mt.prototype.D;Mt.fromNumber=Ni;Mt.fromString=bM;var W6=function(){return new Ad},K6=function(){return Wp()},w0=Kp,G6=UI,Q6=ma,pb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Y6=ff,Xf=zI,Z6=Xt,X6=mi,cu=Mt;const gb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Rw("@firebase/firestore");function mb(){return ua.logLevel}function be(t,...e){if(ua.logLevel<=vt.DEBUG){const n=e.map(t1);ua.debug(`Firestore (${Zu}): ${t}`,...n)}}function us(t,...e){if(ua.logLevel<=vt.ERROR){const n=e.map(t1);ua.error(`Firestore (${Zu}): ${t}`,...n)}}function Lu(t,...e){if(ua.logLevel<=vt.WARN){const n=e.map(t1);ua.warn(`Firestore (${Zu}): ${t}`,...n)}}function t1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: `+t;throw us(e),new Error(e)}function Ft(t,e){t||Fe()}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends lo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wn.UNAUTHENTICATED))}shutdown(){}}class eD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tD{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ws,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string"),new _M(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new Wn(e)}}class nD{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rD{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new nD(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft(typeof n.token=="string"),this.T=n.token,new iD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function Du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new fn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.timestamp=e}static fromTimestamp(e){return new He(e)}static min(){return new He(new fn(0,0))}static max(){return new He(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}let nn=class Oh extends Dc{construct(e,n,r){return new Oh(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oh(n)}static emptyPath(){return new Oh([])}};const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Dc{construct(e,n,r){return new Yn(e,n,r)}static isValidIdentifier(e){return aD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ye(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ye(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ye(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(nn.fromString(e))}static fromName(e){return new Ce(nn.fromString(e).popFirst(5))}static empty(){return new Ce(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new nn(e.slice()))}}function uD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Zs(i,Ce.empty(),e)}function lD(t){return new Zs(t.readTime,t.key,-1)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(He.min(),Ce.empty(),-1)}static max(){return new Zs(He.max(),Ce.empty(),-1)}}function cD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==fD)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function gf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}n1.ct=-1;function tg(t){return t==null}function Rd(t){return t===0&&1/t==-1/0}function dD(t){return typeof t=="number"&&Number.isInteger(t)&&!Rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jf(this.root,e,this.comparator,!0)}}class Jf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(e){return new vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new ci([])}unionWith(e){let n=new tr(Yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IM("Invalid base64 string: "+i):i}}(e);return new rr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const pD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if(Ft(!!t),typeof t=="string"){let e=0;const n=pD.exec(t);if(Ft(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i1(t){const e=t.mapValue.fields.__previous_value__;return r1(e)?i1(e):e}function Pc(t){const e=Xs(t.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Bc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r1(t)?4:mD(t)?9007199254740991:10:Fe()}function Ui(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Xs(r.timestampValue),o=Xs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return la(r.bytesValue).isEqual(la(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return on(r.geoPointValue.latitude)===on(i.geoPointValue.latitude)&&on(r.geoPointValue.longitude)===on(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return on(r.integerValue)===on(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=on(r.doubleValue),o=on(i.doubleValue);return s===o?Rd(s)===Rd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Du(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(yb(s)!==yb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ui(s[a],o[a])))return!1;return!0}(t,e);default:return Fe()}}function Fc(t,e){return(t.values||[]).find(n=>Ui(n,e))!==void 0}function Pu(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=on(i.integerValue||i.doubleValue),a=on(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return wb(t.timestampValue,e.timestampValue);case 4:return wb(Pc(t),Pc(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=la(i),a=la(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=bt(o[u],a[u]);if(c!==0)return c}return bt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=bt(on(i.latitude),on(s.latitude));return o!==0?o:bt(on(i.longitude),on(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Pu(o[u],a[u]);if(c)return c}return bt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===eh.mapValue&&s===eh.mapValue)return 0;if(i===eh.mapValue)return 1;if(s===eh.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const g=bt(a[d],c[d]);if(g!==0)return g;const S=Pu(o[a[d]],u[c[d]]);if(S!==0)return S}return bt(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function wb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=Xs(t),r=Xs(e),i=bt(n.seconds,r.seconds);return i!==0?i:bt(n.nanos,r.nanos)}function Bu(t){return By(t)}function By(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Xs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?la(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ce.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=By(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${By(r.fields[a])}`;return s+"}"}(t.mapValue):Fe();var e,n}function Sb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fy(t){return!!t&&"integerValue"in t}function s1(t){return!!t&&"arrayValue"in t}function Eb(t){return!!t&&"nullValue"in t}function bb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function Yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Yn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gr(Yl(this.value))}}function MM(t){const e=[];return Xu(t.fields,(n,r)=>{const i=new Yn([n]);if(Lh(r)){const s=MM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qn(e,0,He.min(),He.min(),He.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,i){return new Qn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Qn(e,2,n,He.min(),He.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new Qn(e,3,n,He.min(),He.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.position=e,this.inclusive=n}}function _b(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ce.comparator(Ce.fromName(o.referenceValue),n.key):r=Pu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function yD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{}class cn extends AM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wD(e,n,r):n==="array-contains"?new bD(e,r):n==="in"?new _D(e,r):n==="not-in"?new xD(e,r):n==="array-contains-any"?new CD(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SD(e,r):new ED(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Pu(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yi extends AM{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new yi(e,n)}matches(e){return kM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function kM(t){return t.op==="and"}function TM(t){return vD(t)&&kM(t)}function vD(t){for(const e of t.filters)if(e instanceof yi)return!1;return!0}function $y(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Bu(t.value);if(TM(t))return t.filters.map(e=>$y(e)).join(",");{const e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function RM(t,e){return t instanceof cn?function(n,r){return r instanceof cn&&n.op===r.op&&n.field.isEqual(r.field)&&Ui(n.value,r.value)}(t,e):t instanceof yi?function(n,r){return r instanceof yi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&RM(s,r.filters[o]),!0):!1}(t,e):void Fe()}function NM(t){return t instanceof cn?function(e){return`${e.field.canonicalString()} ${e.op} ${Bu(e.value)}`}(t):t instanceof yi?function(e){return e.op.toString()+" {"+e.getFilters().map(NM).join(" ,")+"}"}(t):"Filter"}class wD extends cn{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}let SD=class extends cn{constructor(e,n){super(e,"in",n),this.keys=OM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}};class ED extends cn{constructor(e,n){super(e,"not-in",n),this.keys=OM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class bD extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s1(n)&&Fc(n.arrayValue,this.value)}}class _D extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class xD extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fc(this.value.arrayValue,n)}}class CD extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Cb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ID(t,e,n,r,i,s,o)}function o1(t){const e=qe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bu(r)).join(",")),e.dt=n}return e.dt}function a1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xb(t.startAt,e.startAt)&&xb(t.endAt,e.endAt)}function Uy(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function MD(t,e,n,r,i,s,o,a){return new mf(t,e,n,r,i,s,o,a)}function LM(t){return new mf(t)}function Ib(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DM(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function u1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function PM(t){return t.collectionGroup!==null}function fu(t){const e=qe(t);if(e.wt===null){e.wt=[];const n=u1(e),r=DM(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Zl(n)),e.wt.push(new Zl(Yn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zl(Yn.keyField(),s))}}}return e.wt}function ls(t){const e=qe(t);if(!e._t)if(e.limitType==="F")e._t=Cb(e.path,e.collectionGroup,fu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Zl(s.field,o))}const r=e.endAt?new Nd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Nd(e.startAt.position,e.startAt.inclusive):null;e._t=Cb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function zy(t,e){e.getFirstInequalityField(),u1(t);const n=t.filters.concat([e]);return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vy(t,e,n){return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ng(t,e){return a1(ls(t),ls(e))&&t.limitType===e.limitType}function BM(t){return`${o1(ls(t))}|lt:${t.limitType}`}function jy(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>NM(r)).join(", ")}]`),tg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bu(r)).join(",")),`Target(${n})`}(ls(t))}; limitType=${t.limitType})`}function rg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ce.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of fu(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=_b(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fu(n),r)||n.endAt&&!function(i,s,o){const a=_b(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fu(n),r))}(t,e)}function AD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FM(t){return(e,n)=>{let r=!1;for(const i of fu(t)){const s=kD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kD(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?Pu(a,u):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Qt(Ce.comparator);function cs(){return TD}const $M=new Qt(Ce.comparator);function Pl(...t){let e=$M;for(const n of t)e=e.insert(n.key,n);return e}function UM(t){let e=$M;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wo(){return Xl()}function zM(){return Xl()}function Xl(){return new Ju(t=>t.toString(),(t,e)=>t.isEqual(e))}const RD=new Qt(Ce.comparator),ND=new tr(Ce.comparator);function ht(...t){let e=ND;for(const n of t)e=e.add(n);return e}const OD=new tr(bt);function LD(){return OD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rd(e)?"-0":e}}function jM(t){return{integerValue:""+t}}function DD(t,e){return dD(e)?jM(e):VM(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this._=void 0}}function PD(t,e,n){return t instanceof Od?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&r1(i)&&(i=i1(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof $c?qM(t,e):t instanceof Uc?WM(t,e):function(r,i){const s=HM(r,i),o=Mb(s)+Mb(r.gt);return Fy(s)&&Fy(r.gt)?jM(o):VM(r.serializer,o)}(t,e)}function BD(t,e,n){return t instanceof $c?qM(t,e):t instanceof Uc?WM(t,e):n}function HM(t,e){return t instanceof Ld?Fy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Od extends ig{}class $c extends ig{constructor(e){super(),this.elements=e}}function qM(t,e){const n=KM(e);for(const r of t.elements)n.some(i=>Ui(i,r))||n.push(r);return{arrayValue:{values:n}}}class Uc extends ig{constructor(e){super(),this.elements=e}}function WM(t,e){let n=KM(e);for(const r of t.elements)n=n.filter(i=>!Ui(i,r));return{arrayValue:{values:n}}}class Ld extends ig{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Mb(t){return on(t.integerValue||t.doubleValue)}function KM(t){return s1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function FD(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof $c&&r instanceof $c||n instanceof Uc&&r instanceof Uc?Du(n.elements,r.elements,Ui):n instanceof Ld&&r instanceof Ld?Ui(n.gt,r.gt):n instanceof Od&&r instanceof Od}(t.transform,e.transform)}class $D{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sg{}function GM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YM(t.key,ts.none()):new yf(t.key,t.data,ts.none());{const n=t.data,r=Gr.empty();let i=new tr(Yn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ya(t.key,r,new ci(i.toArray()),ts.none())}}function UD(t,e,n){t instanceof yf?function(r,i,s){const o=r.value.clone(),a=kb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ya?function(r,i,s){if(!Dh(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=kb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(QM(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Jl(t,e,n,r){return t instanceof yf?function(i,s,o,a){if(!Dh(i.precondition,s))return o;const u=i.value.clone(),c=Tb(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ya?function(i,s,o,a){if(!Dh(i.precondition,s))return o;const u=Tb(i.fieldTransforms,a,s),c=s.data;return c.setAll(QM(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,s,o){return Dh(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function zD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=HM(r.transform,i||null);s!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,s))}return n||null}function Ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Du(n,r,(i,s)=>FD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends sg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ya extends sg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kb(t,e,n){const r=new Map;Ft(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,BD(o,a,n[i]))}return r}function Tb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,PD(s,o,e))}return r}class YM extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&UD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=GM(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,(n,r)=>Ab(n,r))&&Du(this.baseMutations,e.baseMutations,(n,r)=>Ab(n,r))}}class l1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length);let i=RD;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,gt;function WD(t){switch(t){default:return Fe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function ZM(t){if(t===void 0)return us("GRPC error has no .code"),X.UNKNOWN;switch(t){case sn.OK:return X.OK;case sn.CANCELLED:return X.CANCELLED;case sn.UNKNOWN:return X.UNKNOWN;case sn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case sn.INTERNAL:return X.INTERNAL;case sn.UNAVAILABLE:return X.UNAVAILABLE;case sn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case sn.NOT_FOUND:return X.NOT_FOUND;case sn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case sn.ABORTED:return X.ABORTED;case sn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case sn.DATA_LOSS:return X.DATA_LOSS;default:return Fe()}}(gt=sn||(sn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return th}static getOrCreateInstance(){return th===null&&(th=new c1),th}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let th=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new cu([4294967295,4294967295],0);function Rb(t){const e=KD().encode(t),n=new X6;return n.update(e),new Uint8Array(n.digest())}function Nb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cu([n,r],0),new cu([i,s],0)]}class f1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=cu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(cu.fromNumber(r)));return i.compare(GD)===1&&(i=new cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Rb(e),[r,i]=Nb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new f1(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Rb(e),[r,i]=Nb(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new og(He.min(),i,new Qt(bt),cs(),ht())}}class vf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vf(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class XM{constructor(e,n){this.targetId=e,this.Vt=n}}class JM{constructor(e,n,r=rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ob{constructor(){this.St=0,this.Dt=Db(),this.Ct=rr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ht(),n=ht(),r=ht();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Fe()}}),new vf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Db()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class QD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=cs(),this.zt=Lb(),this.Wt=new Qt(bt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Uy(o))if(i===0){const a=new Ce(o.path);this.Yt(r,a,Qn.newNoDocument(a,He.min()))}else Ft(i===1);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);if(u!==0){this.ee(r);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=c1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,g){var S,w,I,x,N,k;const T={localCacheCount:d,existenceFilterCount:g.count},M=g.unchangedNames;return M&&(T.bloomFilter={applied:c===0,hashCount:(S=M==null?void 0:M.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(x=(I=(w=M==null?void 0:M.bits)===null||w===void 0?void 0:w.bitmap)===null||I===void 0?void 0:I.length)!==null&&x!==void 0?x:0,padding:(k=(N=M==null?void 0:M.bits)===null||N===void 0?void 0:N.padding)!==null&&k!==void 0?k:0}),T}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=la(s).toUint8Array()}catch(d){if(d instanceof IM)return Lu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new f1(u,o,a)}catch(d){return Lu(d instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Uy(a.target)){const u=new Ce(a.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,Qn.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ht();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new og(e,n,this.Wt,this.jt,r);return this.jt=cs(),this.zt=Lb(),this.Wt=new Qt(bt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Ob,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new tr(bt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ob),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Lb(){return new Qt(Ce.comparator)}function Db(){return new Qt(Ce.comparator)}const YD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ZD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),XD=(()=>({and:"AND",or:"OR"}))();class JD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hy(t,e){return t.useProto3Json||tg(e)?e:{value:e}}function Dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eP(t,e){return Dd(t,e.toTimestamp())}function Bi(t){return Ft(!!t),He.fromTimestamp(function(e){const n=Xs(e);return new fn(n.seconds,n.nanos)}(t))}function h1(t,e){return function(n){return new nn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function tA(t){const e=nn.fromString(t);return Ft(sA(e)),e}function qy(t,e){return h1(t.databaseId,e.path)}function S0(t,e){const n=tA(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(nA(n))}function Wy(t,e){return h1(t.databaseId,e)}function tP(t){const e=tA(t);return e.length===4?nn.emptyPath():nA(e)}function Ky(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nA(t){return Ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Pb(t,e,n){return{name:qy(t,e),fields:n.value.mapValue.fields}}function nP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ft(c===void 0||typeof c=="string"),rr.fromBase64String(c||"")):(Ft(c===void 0||c instanceof Uint8Array),rr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?X.UNKNOWN:ZM(u.code);return new ye(c,u.message||"")}(o);n=new JM(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=S0(t,r.document.name),s=Bi(r.document.updateTime),o=r.document.createTime?Bi(r.document.createTime):He.min(),a=new Gr({mapValue:{fields:r.document.fields}}),u=Qn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ph(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=S0(t,r.document),s=r.readTime?Bi(r.readTime):He.min(),o=Qn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ph([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=S0(t,r.document),s=r.removedTargetIds||[];n=new Ph([],s,i,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new qD(i,s),a=r.targetId;n=new XM(a,o)}}return n}function rP(t,e){let n;if(e instanceof yf)n={update:Pb(t,e.key,e.value)};else if(e instanceof YM)n={delete:qy(t,e.key)};else if(e instanceof ya)n={update:Pb(t,e.key,e.data),updateMask:hP(e.fieldMask)};else{if(!(e instanceof VD))return Fe();n={verify:qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Od)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof $c)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Uc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ld)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:eP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Fe()}(t,e.precondition)),n}function iP(t,e){return t&&t.length>0?(Ft(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Bi(r.updateTime):Bi(i);return s.isEqual(He.min())&&(s=Bi(i)),new $D(s,r.transformResults||[])}(n,e))):[]}function sP(t,e){return{documents:[Wy(t,e.path)]}}function oP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Wy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return iA(yi.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ra(d.field),direction:lP(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Hy(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function aP(t){let e=tP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(d){const g=rA(d);return g instanceof yi&&TM(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(g){return new Zl(Na(g.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d)));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,tg(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(d){const g=!!d.before,S=d.values||[];return new Nd(S,g)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const g=!d.before,S=d.values||[];return new Nd(S,g)}(n.endAt)),MD(e,i,o,s,a,"F",u,c)}function uP(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rA(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Na(e.unaryFilter.field);return cn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Na(e.unaryFilter.field);return cn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Na(e.unaryFilter.field);return cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Na(e.unaryFilter.field);return cn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(e){return cn.create(Na(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return yi.create(e.compositeFilter.filters.map(n=>rA(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Fe()}}(e.compositeFilter.op))}(t):Fe()}function lP(t){return YD[t]}function cP(t){return ZD[t]}function fP(t){return XD[t]}function Ra(t){return{fieldPath:t.canonicalString()}}function Na(t){return Yn.fromServerFormat(t.fieldPath)}function iA(t){return t instanceof cn?function(e){if(e.op==="=="){if(bb(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NAN"}};if(Eb(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bb(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NAN"}};if(Eb(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(e.field),op:cP(e.op),value:e.value}}}(t):t instanceof yi?function(e){const n=e.getFilters().map(r=>iA(r));return n.length===1?n[0]:{compositeFilter:{op:fP(e.op),filters:n}}}(t):Fe()}function hP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r,i,s=He.min(),o=He.min(),a=rr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.fe=e}}function pP(t){const e=aP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.rn=new mP}addToCollectionParentIndex(e,n){return this.rn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Zs.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class mP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(nn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fu(0)}static Mn(){return new Fu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.changes=new Ju(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jl(r.mutation,i,ci.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=Wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cs();const o=Xl(),a=Xl();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ya)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Jl(d.mutation,c,d.mutation.getFieldMask(),fn.now())):o.set(c.key,ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var g;return a.set(c,new vP(d,(g=o.get(c))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xl();let i=new Qt((o,a)=>o-a),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||ci.empty();d=a.applyToLocalView(c,d),r.set(u,d);const g=(i.get(a.batchId)||ht()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,g=zM();d.forEach(S=>{if(!s.has(S)){const w=GM(n.get(S),r.get(S));w!==null&&g.set(S,w),s=s.add(S)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ne.resolve(Wo());let a=-1,u=s;return o.next(c=>ne.forEach(c,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(d)?ne.resolve():this.remoteDocumentCache.getEntry(e,d).next(S=>{u=u.insert(d,S)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ht())).next(d=>({batchId:a,changes:UM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let i=Pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Pl();return this.indexManager.getCollectionParents(e,i).next(o=>ne.forEach(o,a=>{const u=function(c,d){return new mf(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((d,g)=>{s=s.insert(d,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Qn.newInvalidDocument(c)))});let o=Pl();return s.forEach((a,u)=>{const c=i.get(a);c!==void 0&&Jl(c.mutation,u,ci.empty(),fn.now()),rg(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return ne.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Bi(r.createTime)}),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:pP(r.bundledQuery),readTime:Bi(r.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.overlays=new Qt(Ce.comparator),this.ls=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=Wo(),s=n.length+1,o=new Ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Wo(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Wo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return ne.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HD(n,r));let s=this.ls.get(n);s===void 0&&(s=ht(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.fs=new tr(mn.ds),this.ws=new tr(mn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new mn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new mn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ce(new nn([])),r=new mn(n,e),i=new mn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ce(new nn([])),r=new mn(n,e),i=new mn(n,e+1);let s=ht();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mn(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ce.comparator(e.key,n.key)||bt(e.As,n.As)}static _s(e,n){return bt(e.As,n.As)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new tr(mn.ds)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),i=new mn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(bt);return n.forEach(i=>{const s=new mn(i,0),o=new mn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),ne.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ce.isDocumentKey(s)||(s=s.child(""));const o=new mn(new Ce(s),0);let a=new tr(bt);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),ne.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ft(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ne.forEach(n.mutations,i=>{const s=new mn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new mn(n,0),i=this.Rs.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.Ds=e,this.docs=new Qt(Ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cs();const o=n.path,a=new Ce(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||cD(lD(d),r)<=0||(i.has(d.key)||rg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Fe()}Cs(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xP(this)}getSize(e){return ne.resolve(this.size)}}class xP extends yP{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.persistence=e,this.xs=new Ju(n=>o1(n),a1),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.Ns=0,this.ks=new d1,this.targetCount=0,this.Ms=Fu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),ne.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Fu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Fn(n),ne.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.$s={},this.overlays={},this.Os=new n1(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new CP(this),this.indexManager=new gP,this.remoteDocumentCache=function(r){return new _P(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new dP(n),this.qs=new SP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new bP(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new MP(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return ne.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class MP extends hD{constructor(e){super(),this.currentSequenceNumber=e}}class p1{constructor(e){this.persistence=e,this.Qs=new d1,this.js=null}static zs(e){return new p1(e)}get Ws(){if(this.js)return this.js;throw Fe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ws,r=>{const i=Ce.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,He.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return ne.or([()=>ne.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ht(),i=ht();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Ib(n))return ne.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vy(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ht(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Vy(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return Ib(n)||i.isEqual(He.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(mb()<=vt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jy(n)),this.Wi(e,o,n,uD(i,-1)))})}ji(e,n){let r=new tr(FM(e));return n.forEach((i,s)=>{rg(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return mb()<=vt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",jy(n)),this.Ui.getDocumentsMatchingQuery(e,n,Zs.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Qt(bt),this.Yi=new Ju(s=>o1(s),a1),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function TP(t,e,n,r){return new kP(t,e,n,r)}async function oA(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ht();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function RP(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const d=u.batch,g=d.keys();let S=ne.resolve();return g.forEach(w=>{S=S.next(()=>c.getEntry(a,w)).next(I=>{const x=u.docVersions.get(w);Ft(x!==null),I.version.compareTo(x)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),c.addEntry(I)))})}),S.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ht();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aA(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function NP(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((d,g)=>{const S=i.get(g);if(!S)return;a.push(n.Bs.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.Bs.addMatchingKeys(s,d.addedDocuments,g)));let w=S.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(rr.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(g,w),function(I,x,N){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(S,w,d)&&a.push(n.Bs.updateTargetData(s,w))});let u=cs(),c=ht();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(OP(s,o,e.documentUpdates).next(d=>{u=d.nr,c=d.sr})),!r.isEqual(He.min())){const d=n.Bs.getLastRemoteSnapshotVersion(s).next(g=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}function OP(t,e,n){let r=ht(),i=ht();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cs();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(He.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}function LP(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DP(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Gy(t,e,n){const r=qe(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!gf(o))throw o;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Bb(t,e,n){const r=qe(t);let i=He.min(),s=ht();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const d=qe(a),g=d.Yi.get(c);return g!==void 0?ne.resolve(d.Ji.get(g)):d.Bs.getTargetData(u,c)}(r,o,ls(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:He.min(),n?s:ht())).next(a=>(PP(r,AD(e),a),{documents:a,ir:s})))}function PP(t,e,n){let r=t.Xi.get(e)||He.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Fb{constructor(){this.activeTargetIds=LD()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BP{constructor(){this.Hr=new Fb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Fb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function E0(){return nh===null?nh=268435456+Math.round(2147483648*Math.random()):nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class zP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=E0(),a=this.To(e,n);be("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(be("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Lu("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=$P[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=E0();return new Promise((o,a)=>{const u=new Z6;u.setWithCredentials(!0),u.listenOnce(G6.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case w0.NO_ERROR:const d=u.getResponseJson();be(Un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case w0.TIMEOUT:be(Un,`RPC '${e}' ${s} timed out`),a(new ye(X.DEADLINE_EXCEEDED,"Request time out"));break;case w0.HTTP_ERROR:const g=u.getStatus();if(be(Un,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let S=u.getResponseJson();Array.isArray(S)&&(S=S[0]);const w=S==null?void 0:S.error;if(w&&w.status&&w.message){const I=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(N)>=0?N:X.UNKNOWN}(w.status);a(new ye(I,w.message))}else a(new ye(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ye(X.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{be(Un,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);be(Un,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=E0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=W6(),a=K6(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Y6({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");be(Un,`Creating RPC '${e}' stream ${i}: ${d}`,u);const g=o.createWebChannel(d,u);let S=!1,w=!1;const I=new UP({ro:N=>{w?be(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(S||(be(Un,`Opening RPC '${e}' stream ${i} transport.`),g.open(),S=!0),be(Un,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},oo:()=>g.close()}),x=(N,k,T)=>{N.listen(k,M=>{try{T(M)}catch(B){setTimeout(()=>{throw B},0)}})};return x(g,Xf.EventType.OPEN,()=>{w||be(Un,`RPC '${e}' stream ${i} transport opened.`)}),x(g,Xf.EventType.CLOSE,()=>{w||(w=!0,be(Un,`RPC '${e}' stream ${i} transport closed`),I.wo())}),x(g,Xf.EventType.ERROR,N=>{w||(w=!0,Lu(Un,`RPC '${e}' stream ${i} transport errored:`,N),I.wo(new ye(X.UNAVAILABLE,"The operation could not be completed")))}),x(g,Xf.EventType.MESSAGE,N=>{var k;if(!w){const T=N.data[0];Ft(!!T);const M=T,B=M.error||((k=M[0])===null||k===void 0?void 0:k.error);if(B){be(Un,`RPC '${e}' stream ${i} received error:`,B);const L=B.status;let P=function(U){const J=sn[U];if(J!==void 0)return ZM(J)}(L),F=B.message;P===void 0&&(P=X.INTERNAL,F="Unknown error status: "+L+" with message "+B.message),w=!0,I.wo(new ye(P,F)),g.close()}else be(Un,`RPC '${e}' stream ${i} received:`,T),I._o(T)}}),x(a,Q6.STAT_EVENT,N=>{N.stat===pb.PROXY?be(Un,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===pb.NOPROXY&&be(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}}function b0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){return new JD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new uA(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new ye(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VP extends lA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=nP(this.serializer,e),r=function(i){if(!("targetChange"in i))return He.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?Bi(s.readTime):He.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Ky(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Uy(a)?{documents:sP(i,a)}:{query:oP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=eA(i,s.resumeToken);const u=Hy(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(He.min())>0){o.readTime=Dd(i,s.snapshotVersion.toTimestamp());const u=Hy(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=uP(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Ky(this.serializer),n.removeTarget=e,this.Wo(n)}}class jP extends lA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=iP(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.cu(r,n)}return Ft(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ky(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rP(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ye(X.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(X.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(X.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class qP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(us(n),this.mu=!1):be("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{va(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=qe(a);u.vu.add(4),await wf(u),u.bu.set("Unknown"),u.vu.delete(4),await ug(u)}(this))})}),this.bu=new qP(r,i)}}async function ug(t){if(va(t))for(const e of t.Ru)await e(!0)}async function wf(t){for(const e of t.Ru)await e(!1)}function cA(t,e){const n=qe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),v1(n)?y1(n):el(n).Ko()&&m1(n,e))}function fA(t,e){const n=qe(t),r=el(n);n.Au.delete(e),r.Ko()&&hA(n,e),n.Au.size===0&&(r.Ko()?r.jo():va(n)&&n.bu.set("Unknown"))}function m1(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}el(t).su(e)}function hA(t,e){t.Vu.qt(e),el(t).iu(e)}function y1(t){t.Vu=new QD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),el(t).start(),t.bu.gu()}function v1(t){return va(t)&&!el(t).Uo()&&t.Au.size>0}function va(t){return qe(t).vu.size===0}function dA(t){t.Vu=void 0}async function KP(t){t.Au.forEach((e,n)=>{m1(t,e)})}async function GP(t,e){dA(t),v1(t)?(t.bu.Iu(e),y1(t)):t.bu.set("Unknown")}async function QP(t,e,n){if(t.bu.set("Online"),e instanceof JM&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pd(t,r)}else if(e instanceof Ph?t.Vu.Ht(e):e instanceof XM?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(He.min()))try{const r=await aA(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(rr.EMPTY_BYTE_STRING,c.snapshotVersion)),hA(i,a);const d=new Ts(c.target,a,u,c.sequenceNumber);m1(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){be("RemoteStore","Failed to raise snapshot:",r),await Pd(t,r)}}async function Pd(t,e,n){if(!gf(e))throw e;t.vu.add(1),await wf(t),t.bu.set("Offline"),n||(n=()=>aA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ug(t)})}function pA(t,e){return e().catch(n=>Pd(t,n,e))}async function lg(t){const e=qe(t),n=Js(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;YP(e);)try{const i=await LP(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,ZP(e,i)}catch(i){await Pd(e,i)}gA(e)&&mA(e)}function YP(t){return va(t)&&t.Eu.length<10}function ZP(t,e){t.Eu.push(e);const n=Js(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function gA(t){return va(t)&&!Js(t).Uo()&&t.Eu.length>0}function mA(t){Js(t).start()}async function XP(t){Js(t).hu()}async function JP(t){const e=Js(t);for(const n of t.Eu)e.uu(n.mutations)}async function eB(t,e,n){const r=t.Eu.shift(),i=l1.from(r,e,n);await pA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lg(t)}async function tB(t,e){e&&Js(t).ou&&await async function(n,r){if(i=r.code,WD(i)&&i!==X.ABORTED){const s=n.Eu.shift();Js(n).Qo(),await pA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await lg(n)}var i}(t,e),gA(t)&&mA(t)}async function Ub(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=va(n);n.vu.add(3),await wf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ug(n)}async function nB(t,e){const n=qe(t);e?(n.vu.delete(2),await ug(n)):e||(n.vu.add(2),await wf(n),n.bu.set("Unknown"))}function el(t){return t.Su||(t.Su=function(e,n,r){const i=qe(e);return i.fu(),new VP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:KP.bind(null,t),ao:GP.bind(null,t),nu:QP.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),v1(t)?y1(t):t.bu.set("Unknown")):(await t.Su.stop(),dA(t))})),t.Su}function Js(t){return t.Du||(t.Du=function(e,n,r){const i=qe(e);return i.fu(),new jP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:XP.bind(null,t),ao:tB.bind(null,t),au:JP.bind(null,t),cu:eB.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await lg(t)):(await t.Du.stop(),t.Eu.length>0&&(be("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new w1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S1(t,e){if(us("AsyncQueue",`${e}: ${t}`),gf(t))return new ye(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new Qt(this.comparator)}static emptySet(e){return new hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.Cu=new Qt(Ce.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Fe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class $u{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $u(e,n,hu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.Nu=void 0,this.listeners=[]}}class iB{constructor(){this.queries=new Ju(e=>BM(e),ng),this.onlineState="Unknown",this.ku=new Set}}async function sB(t,e){const n=qe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new rB),i)try{s.Nu=await n.onListen(r)}catch(o){const a=S1(o,`Initialization of query '${jy(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&E1(n)}async function oB(t,e){const n=qe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function aB(t,e){const n=qe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&E1(n)}function uB(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function E1(t){t.ku.forEach(e=>{e.next()})}class lB{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.key=e}}class vA{constructor(e){this.key=e}}class cB{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ht(),this.mutatedKeys=ht(),this.tc=FM(e),this.ec=new hu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new zb,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,g)=>{const S=i.get(d),w=rg(this.query,g)?g:null,I=!!S&&this.mutatedKeys.has(S.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;S&&w?S.data.isEqual(w.data)?I!==x&&(r.track({type:3,doc:w}),N=!0):this.rc(S,w)||(r.track({type:2,doc:w}),N=!0,(u&&this.tc(w,u)>0||c&&this.tc(w,c)<0)&&(a=!0)):!S&&w?(r.track({type:0,doc:w}),N=!0):S&&!w&&(r.track({type:1,doc:S}),N=!0,(u||c)&&(a=!0)),N&&(w?(o=o.add(w),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,d)=>function(g,S){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return w(g)-w(S)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,s.length!==0||u?{snapshot:new $u(this.query,e.ec,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ht(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new vA(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new yA(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ht();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return $u.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class fB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hB{constructor(e){this.key=e,this.fc=!1}}class dB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ju(a=>BM(a),ng),this._c=new Map,this.mc=new Set,this.gc=new Qt(Ce.comparator),this.yc=new Map,this.Ic=new d1,this.Tc={},this.Ec=new Map,this.Ac=Fu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function pB(t,e){const n=xB(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await DP(n.localStore,ls(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await gB(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&cA(n.remoteStore,o)}return i}async function gB(t,e,n,r,i){t.Rc=(g,S,w)=>async function(I,x,N,k){let T=x.view.sc(N);T.zi&&(T=await Bb(I.localStore,x.query,!1).then(({documents:L})=>x.view.sc(L,T)));const M=k&&k.targetChanges.get(x.targetId),B=x.view.applyChanges(T,I.isPrimaryClient,M);return jb(I,x.targetId,B.cc),B.snapshot}(t,g,S,w);const s=await Bb(t.localStore,e,!0),o=new cB(e,s.ir),a=o.sc(s.documents),u=vf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);jb(t,n,c.cc);const d=new fB(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function mB(t,e){const n=qe(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ng(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fA(n.remoteStore,r.targetId),Qy(n,r.targetId)}).catch(pf)):(Qy(n,r.targetId),await Gy(n.localStore,r.targetId,!0))}async function yB(t,e,n){const r=CB(t);try{const i=await function(s,o){const a=qe(s),u=fn.now(),c=o.reduce((S,w)=>S.add(w.key),ht());let d,g;return a.persistence.runTransaction("Locally write mutations","readwrite",S=>{let w=cs(),I=ht();return a.Zi.getEntries(S,c).next(x=>{w=x,w.forEach((N,k)=>{k.isValidDocument()||(I=I.add(N))})}).next(()=>a.localDocuments.getOverlayedDocuments(S,w)).next(x=>{d=x;const N=[];for(const k of o){const T=zD(k,d.get(k.key).overlayedDocument);T!=null&&N.push(new ya(k.key,T,MM(T.value.mapValue),ts.exists(!0)))}return a.mutationQueue.addMutationBatch(S,u,N,o)}).next(x=>{g=x;const N=x.applyToLocalDocumentSet(d,I);return a.documentOverlayCache.saveOverlays(S,x.batchId,N)})}).then(()=>({batchId:g.batchId,changes:UM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Qt(bt)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),await Sf(r,i.changes),await lg(r.remoteStore)}catch(i){const s=S1(i,"Failed to persist write");n.reject(s)}}async function wA(t,e){const n=qe(t);try{const r=await NP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Ft(o.fc):i.removedDocuments.size>0&&(Ft(o.fc),o.fc=!1))}),await Sf(n,r,e)}catch(r){await pf(r)}}function Vb(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=qe(s);a.onlineState=o;let u=!1;a.queries.forEach((c,d)=>{for(const g of d.listeners)g.Mu(o)&&(u=!0)}),u&&E1(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vB(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Qt(Ce.comparator);o=o.insert(s,Qn.newNoDocument(s,He.min()));const a=ht().add(s),u=new og(He.min(),new Map,new Qt(bt),o,a);await wA(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),b1(r)}else await Gy(r.localStore,e,!1).then(()=>Qy(r,e,n)).catch(pf)}async function wB(t,e){const n=qe(t),r=e.batch.batchId;try{const i=await RP(n.localStore,e);EA(n,r,null),SA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sf(n,i)}catch(i){await pf(i)}}async function SB(t,e,n){const r=qe(t);try{const i=await function(s,o){const a=qe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(d=>(Ft(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(u,d))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);EA(r,e,n),SA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sf(r,i)}catch(i){await pf(i)}}function SA(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function EA(t,e,n){const r=qe(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Qy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||bA(t,r)})}function bA(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(fA(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),b1(t))}function jb(t,e,n){for(const r of n)r instanceof yA?(t.Ic.addReference(r.key,e),EB(t,r)):r instanceof vA?(be("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||bA(t,r.key)):Fe()}function EB(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(be("SyncEngine","New document in limbo: "+n),t.mc.add(r),b1(t))}function b1(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ce(nn.fromString(e)),r=t.Ac.next();t.yc.set(r,new hB(n)),t.gc=t.gc.insert(n,r),cA(t.remoteStore,new Ts(ls(LM(n.path)),r,"TargetPurposeLimboResolution",n1.ct))}}async function Sf(t,e,n){const r=qe(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=g1.Li(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,u){const c=qe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ne.forEach(u,g=>ne.forEach(g.Fi,S=>c.persistence.referenceDelegate.addReference(d,g.targetId,S)).next(()=>ne.forEach(g.Bi,S=>c.persistence.referenceDelegate.removeReference(d,g.targetId,S)))))}catch(d){if(!gf(d))throw d;be("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const S=c.Ji.get(g),w=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(w);c.Ji=c.Ji.insert(g,I)}}}(r.localStore,s))}async function bB(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=await oA(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new ye(X.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sf(n,r.er)}}function _B(t,e){const n=qe(t),r=n.yc.get(e);if(r&&r.fc)return ht().add(r.key);{let i=ht();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function xB(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_B.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vB.bind(null,e),e.dc.nu=aB.bind(null,e.eventManager),e.dc.Pc=uB.bind(null,e.eventManager),e}function CB(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SB.bind(null,e),e}class Hb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ag(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return TP(this.persistence,new AP,e.initialUser,this.serializer)}createPersistence(e){return new IP(p1.zs,this.serializer)}createSharedClientState(e){return new BP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bB.bind(null,this.syncEngine),await nB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iB}createDatastore(e){const n=ag(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new zP(i));var i;return function(s,o,a,u){return new HP(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Vb(this.syncEngine,a,0),o=$b.D()?new $b:new FP,new WP(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const d=new dB(r,i,s,o,a,u);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=qe(e);be("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await wf(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wn.UNAUTHENTICATED,this.clientId=xM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{be("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(be("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _0(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TB(t);be("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Ub(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Ub(e.remoteStore,s)),t._onlineComponents=e}function kB(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function TB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await _0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!kB(n))throw n;Lu("Error using user provided cache. Falling back to memory cache: "+n),await _0(t,new Hb)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await _0(t,new Hb);return t._offlineComponents}async function _A(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await qb(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await qb(t,new IB))),t._onlineComponents}function RB(t){return _A(t).then(e=>e.syncEngine)}async function NB(t){const e=await _A(t),n=e.eventManager;return n.onListen=pB.bind(null,e.syncEngine),n.onUnlisten=mB.bind(null,e.syncEngine),n}function OB(t,e,n={}){const r=new Ws;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const c=new MB({next:g=>{s.enqueueAndForget(()=>oB(i,d)),g.fromCache&&a.source==="server"?u.reject(new ye(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new lB(o,c,{includeMetadataChanges:!0,Ku:!0});return sB(i,d)}(await NB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e,n){if(!n)throw new ye(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LB(t,e,n,r){if(e===!0&&r===!0)throw new ye(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kb(t){if(!Ce.isDocumentKey(t))throw new ye(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gb(t){if(Ce.isDocumentKey(t))throw new ye(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Bd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cg(t);throw new ye(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class fg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ye(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new J6;switch(n.type){case"firstParty":return new rD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wb.get(e);n&&(be("ComponentProvider","Removing Datastore"),Wb.delete(e),n.terminate())}(this),Promise.resolve()}}function DB(t,e,n,r={}){var i;const s=(t=Bd(t,fg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Wn.MOCK_USER;else{a=MO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ye(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wn(c)}t._authCredentials=new eD(new _M(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class tl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class Ks extends tl{constructor(e,n,r){super(e,n,LM(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new Ce(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function PB(t,e,...n){if(t=$i(t),CA("collection","path",e),t instanceof fg){const r=nn.fromString(e,...n);return Gb(r),new Ks(t,null,r)}{if(!(t instanceof Zr||t instanceof Ks))throw new ye(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return Gb(r),new Ks(t.firestore,null,r)}}function BB(t,e,...n){if(t=$i(t),arguments.length===1&&(e=xM.A()),CA("doc","path",e),t instanceof fg){const r=nn.fromString(e,...n);return Kb(r),new Zr(t,null,new Ce(r))}{if(!(t instanceof Zr||t instanceof Ks))throw new ye(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return Kb(r),new Zr(t.firestore,t instanceof Ks?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new uA(this,"async_queue_retry"),this.Xc=()=>{const n=b0();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=b0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=b0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ws;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!gf(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw us("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=w1.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Fe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class _1 extends fg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||MA(this),this._firestoreClient.terminate()}}function $B(t,e){const n=typeof t=="object"?t:PL(),r=typeof t=="string"?t:e||"(default)",i=OL(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xO("firestore");s&&DB(i,...s)}return i}function IA(t){return t._firestoreClient||MA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function MA(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,u,c){return new gD(o,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xA(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new AB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uu(rr.fromBase64String(e))}catch(n){throw new ye(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uu(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=/^__.*__$/;class zB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}function kA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class I1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new I1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Fd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(kA(this.ca)&&UB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class VB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ag(e)}ya(e,n,r,i=!1){return new I1({ca:e,methodName:n,ga:r,path:Yn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TA(t){const e=t._freezeSettings(),n=ag(t._databaseId);return new VB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jB(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);OA("Data must be an object, but it was:",o,r);const a=RA(r,o);let u,c;if(s.merge)u=new ci(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const S=qB(e,g,n);if(!o.contains(S))throw new ye(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);KB(d,S)||d.push(S)}u=new ci(d),c=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=o.fieldTransforms;return new zB(new Gr(a),u,c)}function HB(t,e,n,r=!1){return M1(n,t.ya(r?4:3,e))}function M1(t,e){if(NA(t=$i(t)))return OA("Unsupported field value:",e,t),RA(t,e);if(t instanceof AA)return function(n,r){if(!kA(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=M1(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=$i(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DD(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=fn.fromDate(n);return{timestampValue:Dd(r.serializer,i)}}if(n instanceof fn){const i=new fn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Dd(r.serializer,i)}}if(n instanceof C1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Uu)return{bytesValue:eA(r.serializer,n._byteString)};if(n instanceof Zr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:h1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${cg(n)}`)}(t,e)}function RA(t,e){const n={};return CM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xu(t,(r,i)=>{const s=M1(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof C1||t instanceof Uu||t instanceof Zr||t instanceof AA)}function OA(t,e,n){if(!NA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=cg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function qB(t,e,n){if((e=$i(e))instanceof x1)return e._internalPath;if(typeof e=="string")return LA(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const WB=new RegExp("[~\\*/\\[\\]]");function LA(t,e,n){if(e.search(WB)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x1(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ye(X.INVALID_ARGUMENT,a+t+u)}function KB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GB extends DA{data(){return super.data()}}function A1(t,e){return typeof e=="string"?LA(t,e):e instanceof x1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k1{}class YB extends k1{}function ZB(t,e,...n){let r=[];e instanceof k1&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof T1).length,o=i.filter(a=>a instanceof hg).length;if(s>1||s>0&&o>0)throw new ye(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hg extends YB{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hg(e,n,r)}_apply(e){const n=this._parse(e);return PA(e._query,n),new tl(e.firestore,e.converter,zy(e._query,n))}_parse(e){const n=TA(e.firestore);return function(i,s,o,a,u,c,d){let g;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ye(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Zb(d,c);const S=[];for(const w of d)S.push(Yb(a,i,w));g={arrayValue:{values:S}}}else g=Yb(a,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Zb(d,c),g=HB(o,s,d,c==="in"||c==="not-in");return cn.create(u,c,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function XB(t,e,n){const r=e,i=A1("where",t);return hg._create(i,r,n)}class T1 extends k1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)PA(s,a),s=zy(s,a)}(e._query,n),new tl(e.firestore,e.converter,zy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Yb(t,e,n){if(typeof(n=$i(n))=="string"){if(n==="")throw new ye(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PM(e)&&n.indexOf("/")!==-1)throw new ye(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nn.fromString(n));if(!Ce.isDocumentKey(r))throw new ye(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sb(t,new Ce(r))}if(n instanceof Zr)return Sb(t,n._key);throw new ye(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(n)}.`)}function Zb(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PA(t,e){if(e.isInequality()){const r=u1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ye(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=DM(t);s!==null&&JB(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function JB(t,e,n){if(!n.isEqual(e))throw new ye(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class e5{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new C1(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);Ft(sA(r));const i=new Bc(r.get(1),r.get(3)),s=new Ce(r.popFirst(5));return i.isEqual(n)||us(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n5 extends DA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bh extends n5{data(e={}){return super.data(e)}}class r5{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bh(this._firestore,this._userDataWriter,r.key,r,new rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Bh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Bh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:i5(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class s5 extends e5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,n)}}function o5(t){t=Bd(t,tl);const e=Bd(t.firestore,_1),n=IA(e),r=new s5(e);return QB(t._query),OB(n,t._query).then(i=>new r5(e,r,t,i))}function a5(t,e){const n=Bd(t.firestore,_1),r=BB(t),i=t5(t.converter,e);return u5(n,[jB(TA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ts.exists(!1))]).then(()=>r)}function u5(t,e){return function(n,r){const i=new Ws;return n.asyncQueue.enqueueAndForget(async()=>yB(await RB(n),r,i)),i.promise}(IA(t),e)}(function(t,e=!0){(function(n){Zu=n})($p),Nu(new oa("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new _1(new tD(n.getProvider("auth-internal")),new sD(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ye(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qs(gb,"3.12.2",t),qs(gb,"3.12.2","esm2017")})();var $d=function(){return $d=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$d.apply(this,arguments)};function R1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BA(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l5=BA,FA=new rf("auth","Firebase",BA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Rw("@firebase/auth");function c5(t,...e){Ud.logLevel<=vt.WARN&&Ud.warn(`Auth (${$p}): ${t}`,...e)}function Fh(t,...e){Ud.logLevel<=vt.ERROR&&Ud.error(`Auth (${$p}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,...e){throw O1(t,...e)}function N1(t,...e){return O1(t,...e)}function f5(t,e,n){const r=Object.assign(Object.assign({},l5()),{[e]:n});return new rf("auth","Firebase",r).create(e,{appName:t.name})}function O1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FA.create(t,...e)}function Ct(t,e,...n){if(!t)throw O1(e,...n)}function ec(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fh(e),new Error(e)}function zd(t,e){t||ec(e)}function h5(){return Jb()==="http:"||Jb()==="https:"}function Jb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h5()||kO()||"connection"in navigator)?navigator.onLine:!0}function p5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,zd(n>e,"Short delay should be less than long delay!"),this.isMobile=AO()||TO()}get(){return d5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t,e){zd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ec("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ec("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ec("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new Ef(3e4,6e4);function v5(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function L1(t,e,n,r,i={}){return UA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=gI(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),$A.fetch()(zA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function UA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m5),e);try{const i=new w5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ih(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ih(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ih(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw f5(t,d,c);Xb(t,d)}}catch(i){if(i instanceof lo)throw i;Xb(t,"network-request-failed",{message:String(i)})}}function zA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?g5(t.config,i):`${t.config.apiScheme}://${i}`}class w5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(N1(this.auth,"network-request-failed")),y5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ih(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=N1(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e){return L1(t,"POST","/v1/accounts:delete",e)}async function E5(t,e){return L1(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b5(t,e=!1){const n=$i(t),r=await n.getIdToken(e),i=VA(r);Ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tc(x0(i.auth_time)),issuedAtTime:tc(x0(i.iat)),expirationTime:tc(x0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function x0(t){return Number(t)*1e3}function VA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=dI(n);return i?JSON.parse(i):(Fh("Failed to decode base64 JWT payload"),null)}catch(i){return Fh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _5(t){const e=VA(t);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yy(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lo&&x5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yy(t,E5(n,{idToken:r}));Ct(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?A5(s.providerUserInfo):[],a=M5(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jA(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,g)}async function I5(t){const e=$i(t);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function A5(t){return t.map(e=>{var{providerId:n}=e,r=R1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){const n=await UA(t,{},async()=>{const r=gI({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$A.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ct(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zc;return r&&(Ct(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ct(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ct(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zc,this.toJSON())}_performRefresh(){return ec("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,e){Ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class du{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=R1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yy(this,this.stsTokenManager.getToken(this.auth,e));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b5(this,e)}reload(){return I5(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new du(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yy(this,S5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,S=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:M,emailVerified:B,isAnonymous:L,providerData:P,stsTokenManager:F}=n;Ct(M&&F,e,"internal-error");const U=zc.fromJSON(this.name,F);Ct(typeof M=="string",e,"internal-error"),ms(g,e.name),ms(S,e.name),Ct(typeof B=="boolean",e,"internal-error"),Ct(typeof L=="boolean",e,"internal-error"),ms(w,e.name),ms(I,e.name),ms(x,e.name),ms(N,e.name),ms(k,e.name),ms(T,e.name);const J=new du({uid:M,auth:e,email:S,emailVerified:B,displayName:g,isAnonymous:L,photoURL:I,phoneNumber:w,tenantId:x,stsTokenManager:U,createdAt:k,lastLoginAt:T});return P&&Array.isArray(P)&&(J.providerData=P.map(Z=>Object.assign({},Z))),N&&(J._redirectEventId=N),J}static async _fromIdTokenResponse(e,n,r=!1){const i=new zc;i.updateFromServerResponse(n);const s=new du({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function Ko(t){zd(t instanceof Function,"Expected a class definition");let e=e_.get(t);return e?(zd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HA.type="NONE";const t_=HA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t,e,n){return`firebase:${t}:${e}:${n}`}class pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=C0(this.userKey,i.apiKey,s),this.fullPersistenceKey=C0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?du._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pu(Ko(t_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ko(t_);const o=C0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const g=du._fromJSON(e,d);c!==s&&(a=g),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new pu(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new pu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D5(e))return"Blackberry";if(P5(e))return"Webos";if(R5(e))return"Safari";if((e.includes("chrome/")||N5(e))&&!e.includes("edge/"))return"Chrome";if(L5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function T5(t=Fi()){return/firefox\//i.test(t)}function R5(t=Fi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N5(t=Fi()){return/crios\//i.test(t)}function O5(t=Fi()){return/iemobile/i.test(t)}function L5(t=Fi()){return/android/i.test(t)}function D5(t=Fi()){return/blackberry/i.test(t)}function P5(t=Fi()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e=[]){let n;switch(t){case"Browser":n=n_(Fi());break;case"Worker":n=`${n_(Fi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$p}/${r}`}async function WA(t,e){return L1(t,"GET","/v2/recaptchaConfig",v5(t,e))}function r_(t){return t!==void 0&&t.enterprise!==void 0}class KA{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function F5(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=N1("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B5().appendChild(r)})}const $5="https://www.google.com/recaptcha/enterprise.js?render=",U5="recaptcha-enterprise",z5="NO_RECAPTCHA";class V5{constructor(e){this.type=U5,this.auth=GA(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{WA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new KA(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;r_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(z5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&r_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}F5($5+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new j5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ko(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await pu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?$i(e):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ko(e))})}async initializeRecaptchaConfig(){const e=await WA(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new KA(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new V5(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ko(e)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await pu.create(this,[Ko(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ct(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&c5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function GA(t){return $i(t)}class i_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PO(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function q5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ko);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}new Ef(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ef(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ef(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ef(5e3,15e3);var s_="@firebase/auth",o_="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function G5(t){Nu(new oa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ct(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(t)},c=new H5(r,i,s,u);return q5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nu(new oa("auth-internal",e=>{const n=GA(e.getProvider("auth").getImmediate());return(r=>new W5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(s_,o_,K5(t)),qs(s_,o_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=5*60;CO("authIdTokenMaxAge");G5("Browser");var je={},dg={};dg.byteLength=X5;dg.toByteArray=eF;dg.fromByteArray=rF;var ki=[],Vr=[],Y5=typeof Uint8Array<"u"?Uint8Array:Array,I0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Aa=0,Z5=I0.length;Aa<Z5;++Aa)ki[Aa]=I0[Aa],Vr[I0.charCodeAt(Aa)]=Aa;Vr["-".charCodeAt(0)]=62;Vr["_".charCodeAt(0)]=63;function QA(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function X5(t){var e=QA(t),n=e[0],r=e[1];return(n+r)*3/4-r}function J5(t,e,n){return(e+n)*3/4-n}function eF(t){var e,n=QA(t),r=n[0],i=n[1],s=new Y5(J5(t,r,i)),o=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=Vr[t.charCodeAt(u)]<<18|Vr[t.charCodeAt(u+1)]<<12|Vr[t.charCodeAt(u+2)]<<6|Vr[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Vr[t.charCodeAt(u)]<<2|Vr[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=Vr[t.charCodeAt(u)]<<10|Vr[t.charCodeAt(u+1)]<<4|Vr[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function tF(t){return ki[t>>18&63]+ki[t>>12&63]+ki[t>>6&63]+ki[t&63]}function nF(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(tF(r));return i.join("")}function rF(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(nF(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(ki[e>>2]+ki[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(ki[e>>10]+ki[e>>4&63]+ki[e<<2&63]+"=")),i.join("")}var D1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */D1.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,u=(1<<a)-1,c=u>>1,d=-7,g=n?i-1:0,S=n?-1:1,w=t[e+g];for(g+=S,s=w&(1<<-d)-1,w>>=-d,d+=a;d>0;s=s*256+t[e+g],g+=S,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+t[e+g],g+=S,d-=8);if(s===0)s=1-c;else{if(s===u)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(w?-1:1)*o*Math.pow(2,s-r)};D1.write=function(t,e,n,r,i,s){var o,a,u,c=s*8-i-1,d=(1<<c)-1,g=d>>1,S=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:s-1,I=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+g>=1?e+=S/u:e+=S*Math.pow(2,1-g),e*u>=2&&(o++,u/=2),o+g>=d?(a=0,o=d):o+g>=1?(a=(e*u-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[n+w]=a&255,w+=I,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+w]=o&255,w+=I,o/=256,c-=8);t[n+w-I]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=dg,n=D1,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const O=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(O,E),O.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(O){if(O>i)throw new RangeError('The value "'+O+'" is invalid for option "size"');const E=new Uint8Array(O);return Object.setPrototypeOf(E,a.prototype),E}function a(O,E,_){if(typeof O=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(O)}return u(O,E,_)}a.poolSize=8192;function u(O,E,_){if(typeof O=="string")return S(O,E);if(ArrayBuffer.isView(O))return I(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(dn(O,ArrayBuffer)||O&&dn(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dn(O,SharedArrayBuffer)||O&&dn(O.buffer,SharedArrayBuffer)))return x(O,E,_);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=O.valueOf&&O.valueOf();if(D!=null&&D!==O)return a.from(D,E,_);const z=N(O);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return a.from(O[Symbol.toPrimitive]("string"),E,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}a.from=function(O,E,_){return u(O,E,_)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function d(O,E,_){return c(O),O<=0?o(O):E!==void 0?typeof _=="string"?o(O).fill(E,_):o(O).fill(E):o(O)}a.alloc=function(O,E,_){return d(O,E,_)};function g(O){return c(O),o(O<0?0:k(O)|0)}a.allocUnsafe=function(O){return g(O)},a.allocUnsafeSlow=function(O){return g(O)};function S(O,E){if((typeof E!="string"||E==="")&&(E="utf8"),!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const _=M(O,E)|0;let D=o(_);const z=D.write(O,E);return z!==_&&(D=D.slice(0,z)),D}function w(O){const E=O.length<0?0:k(O.length)|0,_=o(E);for(let D=0;D<E;D+=1)_[D]=O[D]&255;return _}function I(O){if(dn(O,Uint8Array)){const E=new Uint8Array(O);return x(E.buffer,E.byteOffset,E.byteLength)}return w(O)}function x(O,E,_){if(E<0||O.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<E+(_||0))throw new RangeError('"length" is outside of buffer bounds');let D;return E===void 0&&_===void 0?D=new Uint8Array(O):_===void 0?D=new Uint8Array(O,E):D=new Uint8Array(O,E,_),Object.setPrototypeOf(D,a.prototype),D}function N(O){if(a.isBuffer(O)){const E=k(O.length)|0,_=o(E);return _.length===0||O.copy(_,0,0,E),_}if(O.length!==void 0)return typeof O.length!="number"||Re(O.length)?o(0):w(O);if(O.type==="Buffer"&&Array.isArray(O.data))return w(O.data)}function k(O){if(O>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return O|0}function T(O){return+O!=O&&(O=0),a.alloc(+O)}a.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==a.prototype},a.compare=function(E,_){if(dn(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),dn(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(E)||!a.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===_)return 0;let D=E.length,z=_.length;for(let V=0,j=Math.min(D,z);V<j;++V)if(E[V]!==_[V]){D=E[V],z=_[V];break}return D<z?-1:z<D?1:0},a.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(E,_){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return a.alloc(0);let D;if(_===void 0)for(_=0,D=0;D<E.length;++D)_+=E[D].length;const z=a.allocUnsafe(_);let V=0;for(D=0;D<E.length;++D){let j=E[D];if(dn(j,Uint8Array))V+j.length>z.length?(a.isBuffer(j)||(j=a.from(j)),j.copy(z,V)):Uint8Array.prototype.set.call(z,j,V);else if(a.isBuffer(j))j.copy(z,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=j.length}return z};function M(O,E){if(a.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||dn(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const _=O.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&_===0)return 0;let z=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return ke(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return De(O).length;default:if(z)return D?-1:ke(O).length;E=(""+E).toLowerCase(),z=!0}}a.byteLength=M;function B(O,E,_){let D=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,E>>>=0,_<=E))return"";for(O||(O="utf8");;)switch(O){case"hex":return b(this,E,_);case"utf8":case"utf-8":return l(this,E,_);case"ascii":return y(this,E,_);case"latin1":case"binary":return m(this,E,_);case"base64":return A(this,E,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,E,_);default:if(D)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function L(O,E,_){const D=O[E];O[E]=O[_],O[_]=D}a.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<E;_+=2)L(this,_,_+1);return this},a.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<E;_+=4)L(this,_,_+3),L(this,_+1,_+2);return this},a.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<E;_+=8)L(this,_,_+7),L(this,_+1,_+6),L(this,_+2,_+5),L(this,_+3,_+4);return this},a.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?l(this,0,E):B.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(E){if(!a.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:a.compare(this,E)===0},a.prototype.inspect=function(){let E="";const _=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(E+=" ... "),"<Buffer "+E+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(E,_,D,z,V){if(dn(E,Uint8Array)&&(E=a.from(E,E.offset,E.byteLength)),!a.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(_===void 0&&(_=0),D===void 0&&(D=E?E.length:0),z===void 0&&(z=0),V===void 0&&(V=this.length),_<0||D>E.length||z<0||V>this.length)throw new RangeError("out of range index");if(z>=V&&_>=D)return 0;if(z>=V)return-1;if(_>=D)return 1;if(_>>>=0,D>>>=0,z>>>=0,V>>>=0,this===E)return 0;let j=V-z,Ve=D-_;const ge=Math.min(j,Ve),de=this.slice(z,V),Tt=E.slice(_,D);for(let he=0;he<ge;++he)if(de[he]!==Tt[he]){j=de[he],Ve=Tt[he];break}return j<Ve?-1:Ve<j?1:0};function P(O,E,_,D,z){if(O.length===0)return-1;if(typeof _=="string"?(D=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Re(_)&&(_=z?0:O.length-1),_<0&&(_=O.length+_),_>=O.length){if(z)return-1;_=O.length-1}else if(_<0)if(z)_=0;else return-1;if(typeof E=="string"&&(E=a.from(E,D)),a.isBuffer(E))return E.length===0?-1:F(O,E,_,D,z);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(O,E,_):Uint8Array.prototype.lastIndexOf.call(O,E,_):F(O,[E],_,D,z);throw new TypeError("val must be string, number or Buffer")}function F(O,E,_,D,z){let V=1,j=O.length,Ve=E.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(O.length<2||E.length<2)return-1;V=2,j/=2,Ve/=2,_/=2}function ge(Tt,he){return V===1?Tt[he]:Tt.readUInt16BE(he*V)}let de;if(z){let Tt=-1;for(de=_;de<j;de++)if(ge(O,de)===ge(E,Tt===-1?0:de-Tt)){if(Tt===-1&&(Tt=de),de-Tt+1===Ve)return Tt*V}else Tt!==-1&&(de-=de-Tt),Tt=-1}else for(_+Ve>j&&(_=j-Ve),de=_;de>=0;de--){let Tt=!0;for(let he=0;he<Ve;he++)if(ge(O,de+he)!==ge(E,he)){Tt=!1;break}if(Tt)return de}return-1}a.prototype.includes=function(E,_,D){return this.indexOf(E,_,D)!==-1},a.prototype.indexOf=function(E,_,D){return P(this,E,_,D,!0)},a.prototype.lastIndexOf=function(E,_,D){return P(this,E,_,D,!1)};function U(O,E,_,D){_=Number(_)||0;const z=O.length-_;D?(D=Number(D),D>z&&(D=z)):D=z;const V=E.length;D>V/2&&(D=V/2);let j;for(j=0;j<D;++j){const Ve=parseInt(E.substr(j*2,2),16);if(Re(Ve))return j;O[_+j]=Ve}return j}function J(O,E,_,D){return Te(ke(E,O.length-_),O,_,D)}function Z(O,E,_,D){return Te($e(E),O,_,D)}function Y(O,E,_,D){return Te(De(E),O,_,D)}function le(O,E,_,D){return Te(Hi(E,O.length-_),O,_,D)}a.prototype.write=function(E,_,D,z){if(_===void 0)z="utf8",D=this.length,_=0;else if(D===void 0&&typeof _=="string")z=_,D=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(D)?(D=D>>>0,z===void 0&&(z="utf8")):(z=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const V=this.length-_;if((D===void 0||D>V)&&(D=V),E.length>0&&(D<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let j=!1;for(;;)switch(z){case"hex":return U(this,E,_,D);case"utf8":case"utf-8":return J(this,E,_,D);case"ascii":case"latin1":case"binary":return Z(this,E,_,D);case"base64":return Y(this,E,_,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,E,_,D);default:if(j)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),j=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(O,E,_){return E===0&&_===O.length?e.fromByteArray(O):e.fromByteArray(O.slice(E,_))}function l(O,E,_){_=Math.min(O.length,_);const D=[];let z=E;for(;z<_;){const V=O[z];let j=null,Ve=V>239?4:V>223?3:V>191?2:1;if(z+Ve<=_){let ge,de,Tt,he;switch(Ve){case 1:V<128&&(j=V);break;case 2:ge=O[z+1],(ge&192)===128&&(he=(V&31)<<6|ge&63,he>127&&(j=he));break;case 3:ge=O[z+1],de=O[z+2],(ge&192)===128&&(de&192)===128&&(he=(V&15)<<12|(ge&63)<<6|de&63,he>2047&&(he<55296||he>57343)&&(j=he));break;case 4:ge=O[z+1],de=O[z+2],Tt=O[z+3],(ge&192)===128&&(de&192)===128&&(Tt&192)===128&&(he=(V&15)<<18|(ge&63)<<12|(de&63)<<6|Tt&63,he>65535&&he<1114112&&(j=he))}}j===null?(j=65533,Ve=1):j>65535&&(j-=65536,D.push(j>>>10&1023|55296),j=56320|j&1023),D.push(j),z+=Ve}return p(D)}const h=4096;function p(O){const E=O.length;if(E<=h)return String.fromCharCode.apply(String,O);let _="",D=0;for(;D<E;)_+=String.fromCharCode.apply(String,O.slice(D,D+=h));return _}function y(O,E,_){let D="";_=Math.min(O.length,_);for(let z=E;z<_;++z)D+=String.fromCharCode(O[z]&127);return D}function m(O,E,_){let D="";_=Math.min(O.length,_);for(let z=E;z<_;++z)D+=String.fromCharCode(O[z]);return D}function b(O,E,_){const D=O.length;(!E||E<0)&&(E=0),(!_||_<0||_>D)&&(_=D);let z="";for(let V=E;V<_;++V)z+=Ne[O[V]];return z}function R(O,E,_){const D=O.slice(E,_);let z="";for(let V=0;V<D.length-1;V+=2)z+=String.fromCharCode(D[V]+D[V+1]*256);return z}a.prototype.slice=function(E,_){const D=this.length;E=~~E,_=_===void 0?D:~~_,E<0?(E+=D,E<0&&(E=0)):E>D&&(E=D),_<0?(_+=D,_<0&&(_=0)):_>D&&(_=D),_<E&&(_=E);const z=this.subarray(E,_);return Object.setPrototypeOf(z,a.prototype),z};function v(O,E,_){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+E>_)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=this[E],V=1,j=0;for(;++j<_&&(V*=256);)z+=this[E+j]*V;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=this[E+--_],V=1;for(;_>0&&(V*=256);)z+=this[E+--_]*V;return z},a.prototype.readUint8=a.prototype.readUInt8=function(E,_){return E=E>>>0,_||v(E,1,this.length),this[E]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(E,_){return E=E>>>0,_||v(E,2,this.length),this[E]|this[E+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(E,_){return E=E>>>0,_||v(E,2,this.length),this[E]<<8|this[E+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(E,_){return E=E>>>0,_||v(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(E,_){return E=E>>>0,_||v(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},a.prototype.readBigUInt64LE=xn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=_+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,V=this[++E]+this[++E]*2**8+this[++E]*2**16+D*2**24;return BigInt(z)+(BigInt(V)<<BigInt(32))}),a.prototype.readBigUInt64BE=xn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=_*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],V=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+D;return(BigInt(z)<<BigInt(32))+BigInt(V)}),a.prototype.readIntLE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=this[E],V=1,j=0;for(;++j<_&&(V*=256);)z+=this[E+j]*V;return V*=128,z>=V&&(z-=Math.pow(2,8*_)),z},a.prototype.readIntBE=function(E,_,D){E=E>>>0,_=_>>>0,D||v(E,_,this.length);let z=_,V=1,j=this[E+--z];for(;z>0&&(V*=256);)j+=this[E+--z]*V;return V*=128,j>=V&&(j-=Math.pow(2,8*_)),j},a.prototype.readInt8=function(E,_){return E=E>>>0,_||v(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},a.prototype.readInt16LE=function(E,_){E=E>>>0,_||v(E,2,this.length);const D=this[E]|this[E+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(E,_){E=E>>>0,_||v(E,2,this.length);const D=this[E+1]|this[E]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(E,_){return E=E>>>0,_||v(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},a.prototype.readInt32BE=function(E,_){return E=E>>>0,_||v(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},a.prototype.readBigInt64LE=xn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(D<<24);return(BigInt(z)<<BigInt(32))+BigInt(_+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),a.prototype.readBigInt64BE=xn(function(E){E=E>>>0,pt(E,"offset");const _=this[E],D=this[E+7];(_===void 0||D===void 0)&&Ee(E,this.length-8);const z=(_<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(z)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+D)}),a.prototype.readFloatLE=function(E,_){return E=E>>>0,_||v(E,4,this.length),n.read(this,E,!0,23,4)},a.prototype.readFloatBE=function(E,_){return E=E>>>0,_||v(E,4,this.length),n.read(this,E,!1,23,4)},a.prototype.readDoubleLE=function(E,_){return E=E>>>0,_||v(E,8,this.length),n.read(this,E,!0,52,8)},a.prototype.readDoubleBE=function(E,_){return E=E>>>0,_||v(E,8,this.length),n.read(this,E,!1,52,8)};function f(O,E,_,D,z,V){if(!a.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>z||E<V)throw new RangeError('"value" argument is out of bounds');if(_+D>O.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(E,_,D,z){if(E=+E,_=_>>>0,D=D>>>0,!z){const Ve=Math.pow(2,8*D)-1;f(this,E,_,D,Ve,0)}let V=1,j=0;for(this[_]=E&255;++j<D&&(V*=256);)this[_+j]=E/V&255;return _+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(E,_,D,z){if(E=+E,_=_>>>0,D=D>>>0,!z){const Ve=Math.pow(2,8*D)-1;f(this,E,_,D,Ve,0)}let V=D-1,j=1;for(this[_+V]=E&255;--V>=0&&(j*=256);)this[_+V]=E/j&255;return _+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,1,255,0),this[_]=E&255,_+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,65535,0),this[_]=E&255,this[_+1]=E>>>8,_+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,65535,0),this[_]=E>>>8,this[_+1]=E&255,_+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,4294967295,0),this[_+3]=E>>>24,this[_+2]=E>>>16,this[_+1]=E>>>8,this[_]=E&255,_+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,4294967295,0),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=E&255,_+4};function C(O,E,_,D,z){we(E,D,z,O,_,7);let V=Number(E&BigInt(4294967295));O[_++]=V,V=V>>8,O[_++]=V,V=V>>8,O[_++]=V,V=V>>8,O[_++]=V;let j=Number(E>>BigInt(32)&BigInt(4294967295));return O[_++]=j,j=j>>8,O[_++]=j,j=j>>8,O[_++]=j,j=j>>8,O[_++]=j,_}function K(O,E,_,D,z){we(E,D,z,O,_,7);let V=Number(E&BigInt(4294967295));O[_+7]=V,V=V>>8,O[_+6]=V,V=V>>8,O[_+5]=V,V=V>>8,O[_+4]=V;let j=Number(E>>BigInt(32)&BigInt(4294967295));return O[_+3]=j,j=j>>8,O[_+2]=j,j=j>>8,O[_+1]=j,j=j>>8,O[_]=j,_+8}a.prototype.writeBigUInt64LE=xn(function(E,_=0){return C(this,E,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xn(function(E,_=0){return K(this,E,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(E,_,D,z){if(E=+E,_=_>>>0,!z){const ge=Math.pow(2,8*D-1);f(this,E,_,D,ge-1,-ge)}let V=0,j=1,Ve=0;for(this[_]=E&255;++V<D&&(j*=256);)E<0&&Ve===0&&this[_+V-1]!==0&&(Ve=1),this[_+V]=(E/j>>0)-Ve&255;return _+D},a.prototype.writeIntBE=function(E,_,D,z){if(E=+E,_=_>>>0,!z){const ge=Math.pow(2,8*D-1);f(this,E,_,D,ge-1,-ge)}let V=D-1,j=1,Ve=0;for(this[_+V]=E&255;--V>=0&&(j*=256);)E<0&&Ve===0&&this[_+V+1]!==0&&(Ve=1),this[_+V]=(E/j>>0)-Ve&255;return _+D},a.prototype.writeInt8=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,1,127,-128),E<0&&(E=255+E+1),this[_]=E&255,_+1},a.prototype.writeInt16LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,32767,-32768),this[_]=E&255,this[_+1]=E>>>8,_+2},a.prototype.writeInt16BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,2,32767,-32768),this[_]=E>>>8,this[_+1]=E&255,_+2},a.prototype.writeInt32LE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,2147483647,-2147483648),this[_]=E&255,this[_+1]=E>>>8,this[_+2]=E>>>16,this[_+3]=E>>>24,_+4},a.prototype.writeInt32BE=function(E,_,D){return E=+E,_=_>>>0,D||f(this,E,_,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=E&255,_+4},a.prototype.writeBigInt64LE=xn(function(E,_=0){return C(this,E,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xn(function(E,_=0){return K(this,E,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(O,E,_,D,z,V){if(_+D>O.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function G(O,E,_,D,z){return E=+E,_=_>>>0,z||q(O,E,_,4),n.write(O,E,_,D,23,4),_+4}a.prototype.writeFloatLE=function(E,_,D){return G(this,E,_,!0,D)},a.prototype.writeFloatBE=function(E,_,D){return G(this,E,_,!1,D)};function oe(O,E,_,D,z){return E=+E,_=_>>>0,z||q(O,E,_,8),n.write(O,E,_,D,52,8),_+8}a.prototype.writeDoubleLE=function(E,_,D){return oe(this,E,_,!0,D)},a.prototype.writeDoubleBE=function(E,_,D){return oe(this,E,_,!1,D)},a.prototype.copy=function(E,_,D,z){if(!a.isBuffer(E))throw new TypeError("argument should be a Buffer");if(D||(D=0),!z&&z!==0&&(z=this.length),_>=E.length&&(_=E.length),_||(_=0),z>0&&z<D&&(z=D),z===D||E.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),E.length-_<z-D&&(z=E.length-_+D);const V=z-D;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,D,z):Uint8Array.prototype.set.call(E,this.subarray(D,z),_),V},a.prototype.fill=function(E,_,D,z){if(typeof E=="string"){if(typeof _=="string"?(z=_,_=0,D=this.length):typeof D=="string"&&(z=D,D=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(E.length===1){const j=E.charCodeAt(0);(z==="utf8"&&j<128||z==="latin1")&&(E=j)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(_<0||this.length<_||this.length<D)throw new RangeError("Out of range index");if(D<=_)return this;_=_>>>0,D=D===void 0?this.length:D>>>0,E||(E=0);let V;if(typeof E=="number")for(V=_;V<D;++V)this[V]=E;else{const j=a.isBuffer(E)?E:a.from(E,z),Ve=j.length;if(Ve===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(V=0;V<D-_;++V)this[V+_]=j[V%Ve]}return this};const ie={};function ue(O,E,_){ie[O]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}ue("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ue("ERR_INVALID_ARG_TYPE",function(O,E){return`The "${O}" argument must be of type number. Received type ${typeof E}`},TypeError),ue("ERR_OUT_OF_RANGE",function(O,E,_){let D=`The value of "${O}" is out of range.`,z=_;return Number.isInteger(_)&&Math.abs(_)>2**32?z=Rt(String(_)):typeof _=="bigint"&&(z=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(z=Rt(z)),z+="n"),D+=` It must be ${E}. Received ${z}`,D},RangeError);function Rt(O){let E="",_=O.length;const D=O[0]==="-"?1:0;for(;_>=D+4;_-=3)E=`_${O.slice(_-3,_)}${E}`;return`${O.slice(0,_)}${E}`}function ve(O,E,_){pt(E,"offset"),(O[E]===void 0||O[E+_]===void 0)&&Ee(E,O.length-(_+1))}function we(O,E,_,D,z,V){if(O>_||O<E){const j=typeof E=="bigint"?"n":"";let Ve;throw V>3?E===0||E===BigInt(0)?Ve=`>= 0${j} and < 2${j} ** ${(V+1)*8}${j}`:Ve=`>= -(2${j} ** ${(V+1)*8-1}${j}) and < 2 ** ${(V+1)*8-1}${j}`:Ve=`>= ${E}${j} and <= ${_}${j}`,new ie.ERR_OUT_OF_RANGE("value",Ve,O)}ve(D,z,V)}function pt(O,E){if(typeof O!="number")throw new ie.ERR_INVALID_ARG_TYPE(E,"number",O)}function Ee(O,E,_){throw Math.floor(O)!==O?(pt(O,_),new ie.ERR_OUT_OF_RANGE(_||"offset","an integer",O)):E<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE(_||"offset",`>= ${_?1:0} and <= ${E}`,O)}const Me=/[^+/0-9A-Za-z-_]/g;function br(O){if(O=O.split("=")[0],O=O.trim().replace(Me,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function ke(O,E){E=E||1/0;let _;const D=O.length;let z=null;const V=[];for(let j=0;j<D;++j){if(_=O.charCodeAt(j),_>55295&&_<57344){if(!z){if(_>56319){(E-=3)>-1&&V.push(239,191,189);continue}else if(j+1===D){(E-=3)>-1&&V.push(239,191,189);continue}z=_;continue}if(_<56320){(E-=3)>-1&&V.push(239,191,189),z=_;continue}_=(z-55296<<10|_-56320)+65536}else z&&(E-=3)>-1&&V.push(239,191,189);if(z=null,_<128){if((E-=1)<0)break;V.push(_)}else if(_<2048){if((E-=2)<0)break;V.push(_>>6|192,_&63|128)}else if(_<65536){if((E-=3)<0)break;V.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((E-=4)<0)break;V.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return V}function $e(O){const E=[];for(let _=0;_<O.length;++_)E.push(O.charCodeAt(_)&255);return E}function Hi(O,E){let _,D,z;const V=[];for(let j=0;j<O.length&&!((E-=2)<0);++j)_=O.charCodeAt(j),D=_>>8,z=_%256,V.push(z),V.push(D);return V}function De(O){return e.toByteArray(br(O))}function Te(O,E,_,D){let z;for(z=0;z<D&&!(z+_>=E.length||z>=O.length);++z)E[z+_]=O[z];return z}function dn(O,E){return O instanceof E||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===E.name}function Re(O){return O!==O}const Ne=function(){const O="0123456789abcdef",E=new Array(256);for(let _=0;_<16;++_){const D=_*16;for(let z=0;z<16;++z)E[D+z]=O[_]+O[z]}return E}();function xn(O){return typeof BigInt>"u"?Pe:O}function Pe(){throw new Error("BigInt not supported")}})(je);function Zy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function iF(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function YA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function sF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Zy(t.outputLen),Zy(t.blockLen)}function oF(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aF(t,e){YA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const kr={number:Zy,bool:iF,bytes:YA,hash:sF,exists:oF,output:aF},M0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZA=t=>t instanceof Uint8Array,uF=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),A0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Si=(t,e)=>t<<32-e|t>>>e,lF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lF)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function XA(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bf(t){if(typeof t=="string"&&(t=XA(t)),!ZA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function JA(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!ZA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class P1{clone(){return this._cloneInto()}}function wa(t){const e=r=>t().update(bf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function cF(t){const e=(r,i)=>t(i).update(bf(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function ek(t=32){if(M0&&typeof M0.getRandomValues=="function")return M0.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function fF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),u=r?4:0,c=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+c,a,r)}class tk extends P1{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=A0(this.buffer)}update(e){kr.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=bf(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=A0(e);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){kr.exists(this),kr.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let g=o;g<i;g++)n[g]=0;fF(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=A0(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,d[g],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const sh=BigInt(2**32-1),Xy=BigInt(32);function nk(t,e=!1){return e?{h:Number(t&sh),l:Number(t>>Xy&sh)}:{h:Number(t>>Xy&sh)|0,l:Number(t&sh)|0}}function hF(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=nk(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const dF=(t,e)=>BigInt(t>>>0)<<Xy|BigInt(e>>>0),pF=(t,e,n)=>t>>>n,gF=(t,e,n)=>t<<32-n|e>>>n,mF=(t,e,n)=>t>>>n|e<<32-n,yF=(t,e,n)=>t<<32-n|e>>>n,vF=(t,e,n)=>t<<64-n|e>>>n-32,wF=(t,e,n)=>t>>>n-32|e<<64-n,SF=(t,e)=>e,EF=(t,e)=>t,bF=(t,e,n)=>t<<n|e>>>32-n,_F=(t,e,n)=>e<<n|t>>>32-n,xF=(t,e,n)=>e<<n-32|t>>>64-n,CF=(t,e,n)=>t<<n-32|e>>>64-n;function IF(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const MF=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),AF=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,kF=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),TF=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,RF=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),NF=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Ue={fromBig:nk,split:hF,toBig:dF,shrSH:pF,shrSL:gF,rotrSH:mF,rotrSL:yF,rotrBH:vF,rotrBL:wF,rotr32H:SF,rotr32L:EF,rotlSH:bF,rotlSL:_F,rotlBH:xF,rotlBL:CF,add:IF,add3L:MF,add3H:AF,add4L:kF,add4H:TF,add5H:NF,add5L:RF},[OF,LF]=Ue.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ys=new Uint32Array(80),vs=new Uint32Array(80);class pg extends tk{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:d,Fh:g,Fl:S,Gh:w,Gl:I,Hh:x,Hl:N}=this;return[e,n,r,i,s,o,a,u,c,d,g,S,w,I,x,N]}set(e,n,r,i,s,o,a,u,c,d,g,S,w,I,x,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=d|0,this.Fh=g|0,this.Fl=S|0,this.Gh=w|0,this.Gl=I|0,this.Hh=x|0,this.Hl=N|0}process(e,n){for(let M=0;M<16;M++,n+=4)ys[M]=e.getUint32(n),vs[M]=e.getUint32(n+=4);for(let M=16;M<80;M++){const B=ys[M-15]|0,L=vs[M-15]|0,P=Ue.rotrSH(B,L,1)^Ue.rotrSH(B,L,8)^Ue.shrSH(B,L,7),F=Ue.rotrSL(B,L,1)^Ue.rotrSL(B,L,8)^Ue.shrSL(B,L,7),U=ys[M-2]|0,J=vs[M-2]|0,Z=Ue.rotrSH(U,J,19)^Ue.rotrBH(U,J,61)^Ue.shrSH(U,J,6),Y=Ue.rotrSL(U,J,19)^Ue.rotrBL(U,J,61)^Ue.shrSL(U,J,6),le=Ue.add4L(F,Y,vs[M-7],vs[M-16]),A=Ue.add4H(le,P,Z,ys[M-7],ys[M-16]);ys[M]=A|0,vs[M]=le|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:d,Eh:g,El:S,Fh:w,Fl:I,Gh:x,Gl:N,Hh:k,Hl:T}=this;for(let M=0;M<80;M++){const B=Ue.rotrSH(g,S,14)^Ue.rotrSH(g,S,18)^Ue.rotrBH(g,S,41),L=Ue.rotrSL(g,S,14)^Ue.rotrSL(g,S,18)^Ue.rotrBL(g,S,41),P=g&w^~g&x,F=S&I^~S&N,U=Ue.add5L(T,L,F,LF[M],vs[M]),J=Ue.add5H(U,k,B,P,OF[M],ys[M]),Z=U|0,Y=Ue.rotrSH(r,i,28)^Ue.rotrBH(r,i,34)^Ue.rotrBH(r,i,39),le=Ue.rotrSL(r,i,28)^Ue.rotrBL(r,i,34)^Ue.rotrBL(r,i,39),A=r&s^r&a^s&a,l=i&o^i&u^o&u;k=x|0,T=N|0,x=w|0,N=I|0,w=g|0,I=S|0,{h:g,l:S}=Ue.add(c|0,d|0,J|0,Z|0),c=a|0,d=u|0,a=s|0,u=o|0,s=r|0,o=i|0;const h=Ue.add3L(Z,le,l);r=Ue.add3H(h,J,Y,A),i=h|0}({h:r,l:i}=Ue.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Ue.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=Ue.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:d}=Ue.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:g,l:S}=Ue.add(this.Eh|0,this.El|0,g|0,S|0),{h:w,l:I}=Ue.add(this.Fh|0,this.Fl|0,w|0,I|0),{h:x,l:N}=Ue.add(this.Gh|0,this.Gl|0,x|0,N|0),{h:k,l:T}=Ue.add(this.Hh|0,this.Hl|0,k|0,T|0),this.set(r,i,s,o,a,u,c,d,g,S,w,I,x,N,k,T)}roundClean(){ys.fill(0),vs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class DF extends pg{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class PF extends pg{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class BF extends pg{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const rk=wa(()=>new pg);wa(()=>new DF);wa(()=>new PF);wa(()=>new BF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ik=BigInt(0),gg=BigInt(1),FF=BigInt(2),mg=t=>t instanceof Uint8Array,$F=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fa(t){if(!mg(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=$F[t[n]];return e}function sk(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function B1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function zu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Jo(t){return B1(fa(t))}function gu(t){if(!mg(t))throw new Error("Uint8Array expected");return B1(fa(Uint8Array.from(t).reverse()))}function mu(t,e){return zu(t.toString(16).padStart(e*2,"0"))}function jd(t,e){return mu(t,e).reverse()}function UF(t){return zu(sk(t))}function an(t,e,n){let r;if(typeof e=="string")try{r=zu(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(mg(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function ha(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!mg(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function zF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function VF(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function jF(t){let e;for(e=0;t>ik;t>>=gg,e+=1);return e}function HF(t,e){return t>>BigInt(e)&gg}const qF=(t,e,n)=>t|(n?gg:ik)<<BigInt(e),F1=t=>(FF<<BigInt(t-1))-gg,k0=t=>new Uint8Array(t),a_=t=>Uint8Array.from(t);function ok(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=k0(t),i=k0(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...g)=>n(i,r,...g),u=(g=k0())=>{i=a(a_([0]),g),r=a(),g.length!==0&&(i=a(a_([1]),g),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const S=[];for(;g<e;){r=a();const w=r.slice();S.push(w),g+=r.length}return ha(...S)};return(g,S)=>{o(),u(g);let w;for(;!(w=S(c()));)u();return o(),w}}const WF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function nl(t,e,n={}){const r=(i,s,o)=>{const a=WF[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const KF=Object.freeze(Object.defineProperty({__proto__:null,bitGet:HF,bitLen:jF,bitMask:F1,bitSet:qF,bytesToHex:fa,bytesToNumberBE:Jo,bytesToNumberLE:gu,concatBytes:ha,createHmacDrbg:ok,ensureBytes:an,equalBytes:zF,hexToBytes:zu,hexToNumber:B1,numberToBytesBE:mu,numberToBytesLE:jd,numberToHexUnpadded:sk,numberToVarBytesBE:UF,utf8ToBytes:VF,validateObject:nl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wn=BigInt(0),Wt=BigInt(1),Fo=BigInt(2),GF=BigInt(3),Jy=BigInt(4),u_=BigInt(5),l_=BigInt(8);BigInt(9);BigInt(16);function Ut(t,e){const n=t%e;return n>=wn?n:e+n}function QF(t,e,n){if(n<=wn||e<wn)throw new Error("Expected power/modulo > 0");if(n===Wt)return wn;let r=Wt;for(;e>wn;)e&Wt&&(r=r*t%n),t=t*t%n,e>>=Wt;return r}function Yt(t,e,n){let r=t;for(;e-- >wn;)r*=r,r%=n;return r}function ev(t,e){if(t===wn||e<=wn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ut(t,e),r=e,i=wn,s=Wt;for(;n!==wn;){const a=r/n,u=r%n,c=i-s*a;r=n,n=u,i=s,s=c}if(r!==Wt)throw new Error("invert: does not exist");return Ut(i,e)}function YF(t){const e=(t-Wt)/Fo;let n,r,i;for(n=t-Wt,r=0;n%Fo===wn;n/=Fo,r++);for(i=Fo;i<t&&QF(i,e,t)!==t-Wt;i++);if(r===1){const o=(t+Wt)/Jy;return function(u,c){const d=u.pow(c,o);if(!u.eql(u.sqr(d),c))throw new Error("Cannot find square root");return d}}const s=(n+Wt)/Fo;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),g=a.pow(u,s),S=a.pow(u,n);for(;!a.eql(S,a.ONE);){if(a.eql(S,a.ZERO))return a.ZERO;let w=1;for(let x=a.sqr(S);w<c&&!a.eql(x,a.ONE);w++)x=a.sqr(x);const I=a.pow(d,Wt<<BigInt(c-w-1));d=a.sqr(I),g=a.mul(g,I),S=a.mul(S,d),c=w}return g}}function ZF(t){if(t%Jy===GF){const e=(t+Wt)/Jy;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%l_===u_){const e=(t-u_)/l_;return function(r,i){const s=r.mul(i,Fo),o=r.pow(s,e),a=r.mul(i,o),u=r.mul(r.mul(a,Fo),o),c=r.mul(a,r.sub(u,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return YF(t)}const XF=(t,e)=>(Ut(t,e)&Wt)===Wt,JF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e$(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=JF.reduce((r,i)=>(r[i]="function",r),e);return nl(t,n)}function t$(t,e,n){if(n<wn)throw new Error("Expected power > 0");if(n===wn)return t.ONE;if(n===Wt)return e;let r=t.ONE,i=e;for(;n>wn;)n&Wt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Wt;return r}function n$(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function $1(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ak(t,e,n=!1,r={}){if(t<=wn)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=$1(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=ZF(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:F1(i),ZERO:wn,ONE:Wt,create:u=>Ut(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return wn<=u&&u<t},is0:u=>u===wn,isOdd:u=>(u&Wt)===Wt,neg:u=>Ut(-u,t),eql:(u,c)=>u===c,sqr:u=>Ut(u*u,t),add:(u,c)=>Ut(u+c,t),sub:(u,c)=>Ut(u-c,t),mul:(u,c)=>Ut(u*c,t),pow:(u,c)=>t$(a,u,c),div:(u,c)=>Ut(u*ev(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>ev(u,t),sqrt:r.sqrt||(u=>o(a,u)),invertBatch:u=>n$(a,u),cmov:(u,c,d)=>d?c:u,toBytes:u=>n?jd(u,s):mu(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return n?gu(u):Jo(u)}});return Object.freeze(a)}function r$(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function i$(t,e,n=!1){t=an("privateHash",t);const r=t.length,i=$1(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const s=n?gu(t):Jo(t);return Ut(s,e-Wt)+Wt}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s$=BigInt(0),T0=BigInt(1);function uk(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>s$;)s&T0&&(o=o.add(a)),a=a.double(),s>>=T0;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),u=[];let c=i,d=c;for(let g=0;g<o;g++){d=c,u.push(d);for(let S=1;S<a;S++)d=d.add(c),u.push(d);c=d.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=r(i);let c=t.ZERO,d=t.BASE;const g=BigInt(2**i-1),S=2**i,w=BigInt(i);for(let I=0;I<a;I++){const x=I*u;let N=Number(o&g);o>>=w,N>u&&(N-=S,o+=T0);const k=x,T=x+Math.abs(N)-1,M=I%2!==0,B=N<0;N===0?d=d.add(n(M,s[k])):c=c.add(n(B,s[T]))}return{p:c,f:d}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function U1(t){return e$(t.Fp),nl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$1(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ii=BigInt(0),_r=BigInt(1),oh=BigInt(2),o$=BigInt(8),a$={zip215:!0};function u$(t){const e=U1(t);return nl(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function z1(t){const e=u$(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,c=oh<<BigInt(a*8)-_r,d=n.create,g=e.uvRatio||((m,b)=>{try{return{isValid:!0,value:n.sqrt(m*n.inv(b))}}catch{return{isValid:!1,value:ii}}}),S=e.adjustScalarBytes||(m=>m),w=e.domain||((m,b,R)=>{if(b.length||R)throw new Error("Contexts/pre-hash are not supported");return m}),I=m=>typeof m=="bigint"&&ii<m,x=(m,b)=>I(m)&&I(b)&&m<b,N=m=>m===ii||x(m,c);function k(m,b){if(x(m,b))return m;throw new Error(`Expected valid scalar < ${b}, got ${typeof m} ${m}`)}function T(m){return m===ii?m:k(m,r)}const M=new Map;function B(m){if(!(m instanceof L))throw new Error("ExtendedPoint expected")}class L{constructor(b,R,v,f){if(this.ex=b,this.ey=R,this.ez=v,this.et=f,!N(b))throw new Error("x required");if(!N(R))throw new Error("y required");if(!N(v))throw new Error("z required");if(!N(f))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(b){if(b instanceof L)throw new Error("extended point not allowed");const{x:R,y:v}=b||{};if(!N(R)||!N(v))throw new Error("invalid affine point");return new L(R,v,_r,d(R*v))}static normalizeZ(b){const R=n.invertBatch(b.map(v=>v.ez));return b.map((v,f)=>v.toAffine(R[f])).map(L.fromAffine)}_setWindowSize(b){this._WINDOW_SIZE=b,M.delete(this)}assertValidity(){const{a:b,d:R}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:v,ey:f,ez:C,et:K}=this,q=d(v*v),G=d(f*f),oe=d(C*C),ie=d(oe*oe),ue=d(q*b),Rt=d(oe*d(ue+G)),ve=d(ie+d(R*d(q*G)));if(Rt!==ve)throw new Error("bad point: equation left != right (1)");const we=d(v*f),pt=d(C*K);if(we!==pt)throw new Error("bad point: equation left != right (2)")}equals(b){B(b);const{ex:R,ey:v,ez:f}=this,{ex:C,ey:K,ez:q}=b,G=d(R*q),oe=d(C*f),ie=d(v*q),ue=d(K*f);return G===oe&&ie===ue}is0(){return this.equals(L.ZERO)}negate(){return new L(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:b}=e,{ex:R,ey:v,ez:f}=this,C=d(R*R),K=d(v*v),q=d(oh*d(f*f)),G=d(b*C),oe=R+v,ie=d(d(oe*oe)-C-K),ue=G+K,Rt=ue-q,ve=G-K,we=d(ie*Rt),pt=d(ue*ve),Ee=d(ie*ve),Me=d(Rt*ue);return new L(we,pt,Me,Ee)}add(b){B(b);const{a:R,d:v}=e,{ex:f,ey:C,ez:K,et:q}=this,{ex:G,ey:oe,ez:ie,et:ue}=b;if(R===BigInt(-1)){const dn=d((C-f)*(oe+G)),Re=d((C+f)*(oe-G)),Ne=d(Re-dn);if(Ne===ii)return this.double();const xn=d(K*oh*ue),Pe=d(q*oh*ie),O=Pe+xn,E=Re+dn,_=Pe-xn,D=d(O*Ne),z=d(E*_),V=d(O*_),j=d(Ne*E);return new L(D,z,j,V)}const Rt=d(f*G),ve=d(C*oe),we=d(q*v*ue),pt=d(K*ie),Ee=d((f+C)*(G+oe)-Rt-ve),Me=pt-we,br=pt+we,ke=d(ve-R*Rt),$e=d(Ee*Me),Hi=d(br*ke),De=d(Ee*ke),Te=d(Me*br);return new L($e,Hi,Te,De)}subtract(b){return this.add(b.negate())}wNAF(b){return U.wNAFCached(this,M,b,L.normalizeZ)}multiply(b){const{p:R,f:v}=this.wNAF(k(b,r));return L.normalizeZ([R,v])[0]}multiplyUnsafe(b){let R=T(b);return R===ii?F:this.equals(F)||R===_r?this:this.equals(P)?this.wNAF(R).p:U.unsafeLadder(this,R)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return U.unsafeLadder(this,r).is0()}toAffine(b){const{ex:R,ey:v,ez:f}=this,C=this.is0();b==null&&(b=C?o$:n.inv(f));const K=d(R*b),q=d(v*b),G=d(f*b);if(C)return{x:ii,y:_r};if(G!==_r)throw new Error("invZ was invalid");return{x:K,y:q}}clearCofactor(){const{h:b}=e;return b===_r?this:this.multiplyUnsafe(b)}static fromHex(b,R=!1){const{d:v,a:f}=e,C=n.BYTES;b=an("pointHex",b,C);const K=b.slice(),q=b[C-1];K[C-1]=q&-129;const G=gu(K);G===ii||(R?k(G,c):k(G,n.ORDER));const oe=d(G*G),ie=d(oe-_r),ue=d(v*oe-f);let{isValid:Rt,value:ve}=g(ie,ue);if(!Rt)throw new Error("Point.fromHex: invalid y coordinate");const we=(ve&_r)===_r,pt=(q&128)!==0;if(!R&&ve===ii&&pt)throw new Error("Point.fromHex: x=0 and x_0=1");return pt!==we&&(ve=d(-ve)),L.fromAffine({x:ve,y:G})}static fromPrivateKey(b){return Y(b).point}toRawBytes(){const{x:b,y:R}=this.toAffine(),v=jd(R,n.BYTES);return v[v.length-1]|=b&_r?128:0,v}toHex(){return fa(this.toRawBytes())}}L.BASE=new L(e.Gx,e.Gy,_r,d(e.Gx*e.Gy)),L.ZERO=new L(ii,_r,_r,ii);const{BASE:P,ZERO:F}=L,U=uk(L,a*8);function J(m){return Ut(m,r)}function Z(m){return J(gu(m))}function Y(m){const b=a;m=an("private key",m,b);const R=an("hashed private key",s(m),2*b),v=S(R.slice(0,b)),f=R.slice(b,2*b),C=Z(v),K=P.multiply(C),q=K.toRawBytes();return{head:v,prefix:f,scalar:C,point:K,pointBytes:q}}function le(m){return Y(m).pointBytes}function A(m=new Uint8Array,...b){const R=ha(...b);return Z(s(w(R,an("context",m),!!i)))}function l(m,b,R={}){m=an("message",m),i&&(m=i(m));const{prefix:v,scalar:f,pointBytes:C}=Y(b),K=A(R.context,v,m),q=P.multiply(K).toRawBytes(),G=A(R.context,q,C,m),oe=J(K+G*f);T(oe);const ie=ha(q,jd(oe,n.BYTES));return an("result",ie,a*2)}const h=a$;function p(m,b,R,v=h){const{context:f,zip215:C}=v,K=n.BYTES;m=an("signature",m,2*K),b=an("message",b),i&&(b=i(b));const q=gu(m.slice(K,2*K));let G,oe,ie;try{G=L.fromHex(R,C),oe=L.fromHex(m.slice(0,K),C),ie=P.multiplyUnsafe(q)}catch{return!1}if(!C&&G.isSmallOrder())return!1;const ue=A(f,oe.toRawBytes(),G.toRawBytes(),b);return oe.add(G.multiplyUnsafe(ue)).subtract(ie).clearCofactor().equals(L.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:le,sign:l,verify:p,ExtendedPoint:L,utils:{getExtendedPublicKey:Y,randomPrivateKey:()=>o(n.BYTES),precompute(m=8,b=L.BASE){return b._setWindowSize(m),b.multiply(BigInt(3)),b}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const l$=BigInt(1),tv=BigInt(2),c$=BigInt(5),f_=BigInt(10),f$=BigInt(20),h$=BigInt(40),h_=BigInt(80);function d$(t){const e=V1,r=t*t%e*t%e,i=Yt(r,tv,e)*r%e,s=Yt(i,l$,e)*t%e,o=Yt(s,c$,e)*s%e,a=Yt(o,f_,e)*o%e,u=Yt(a,f$,e)*a%e,c=Yt(u,h$,e)*u%e,d=Yt(c,h_,e)*c%e,g=Yt(d,h_,e)*c%e,S=Yt(g,f_,e)*o%e;return{pow_p_5_8:Yt(S,tv,e)*t%e,b2:r}}function p$(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function g$(t,e){const n=V1,r=Ut(e*e*e,n),i=Ut(r*r*e,n),s=d$(t*i).pow_p_5_8;let o=Ut(t*r*s,n);const a=Ut(e*o*o,n),u=o,c=Ut(o*c_,n),d=a===t,g=a===Ut(-t,n),S=a===Ut(-t*c_,n);return d&&(o=u),(g||S)&&(o=c),XF(o,n)&&(o=Ut(-o,n)),{isValid:d||g,value:o}}const ns=ak(V1,void 0,!0),j1={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ns,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:rk,randomBytes:ek,adjustScalarBytes:p$,uvRatio:g$},yg=z1(j1);function lk(t,e,n){if(e.length>255)throw new Error("Context is too big");return JA(XA("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}z1({...j1,domain:lk});z1({...j1,domain:lk,prehash:rk});const m$=(ns.ORDER+BigInt(3))/BigInt(8);ns.pow(tv,m$);ns.sqrt(ns.neg(ns.ONE));(ns.ORDER-BigInt(5))/BigInt(8);BigInt(486662);r$(ns,ns.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var H1={exports:{}};const y$={},v$=Object.freeze(Object.defineProperty({__proto__:null,default:y$},Symbol.toStringTag,{value:"Module"})),ck=kv(v$);H1.exports;(function(t){(function(e,n){function r(A,l){if(!A)throw new Error(l||"Assertion failed")}function i(A,l){A.super_=l;var h=function(){};h.prototype=l.prototype,A.prototype=new h,A.prototype.constructor=A}function s(A,l,h){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((l==="le"||l==="be")&&(h=l,l=10),this._init(A||0,l||10,h||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ck.Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,h){return l.cmp(h)>0?l:h},s.min=function(l,h){return l.cmp(h)<0?l:h},s.prototype._init=function(l,h,p){if(typeof l=="number")return this._initNumber(l,h,p);if(typeof l=="object")return this._initArray(l,h,p);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),l=l.toString().replace(/\s+/g,"");var y=0;l[0]==="-"&&(y++,this.negative=1),y<l.length&&(h===16?this._parseHex(l,y,p):(this._parseBase(l,h,y),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(l,h,p){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(l,h,p){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m,b,R=0;if(p==="be")for(y=l.length-1,m=0;y>=0;y-=3)b=l[y]|l[y-1]<<8|l[y-2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);else if(p==="le")for(y=0,m=0;y<l.length;y+=3)b=l[y]|l[y+1]<<8|l[y+2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);return this._strip()};function a(A,l){var h=A.charCodeAt(l);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+A)}function u(A,l,h){var p=a(A,h);return h-1>=l&&(p|=a(A,h-1)<<4),p}s.prototype._parseHex=function(l,h,p){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m=0,b=0,R;if(p==="be")for(y=l.length-1;y>=h;y-=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8;else{var v=l.length-h;for(y=v%2===0?h+1:h;y<l.length;y+=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8}this._strip()};function c(A,l,h,p){for(var y=0,m=0,b=Math.min(A.length,h),R=l;R<b;R++){var v=A.charCodeAt(R)-48;y*=p,v>=49?m=v-49+10:v>=17?m=v-17+10:m=v,r(v>=0&&m<p,"Invalid character"),y+=m}return y}s.prototype._parseBase=function(l,h,p){this.words=[0],this.length=1;for(var y=0,m=1;m<=67108863;m*=h)y++;y--,m=m/h|0;for(var b=l.length-p,R=b%y,v=Math.min(b,b-R)+p,f=0,C=p;C<v;C+=y)f=c(l,C,C+y,h),this.imuln(m),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=c(l,C,l.length,h),C=0;C<R;C++)K*=h;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red};function d(A,l){A.words=l.words,A.length=l.length,A.negative=l.negative,A.red=l.red}if(s.prototype._move=function(l){d(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,h){l=l||10,h=h|0||1;var p;if(l===16||l==="hex"){p="";for(var y=0,m=0,b=0;b<this.length;b++){var R=this.words[b],v=((R<<y|m)&16777215).toString(16);m=R>>>24-y&16777215,y+=2,y>=26&&(y-=26,b--),m!==0||b!==this.length-1?p=S[6-v.length]+v+p:p=v+p}for(m!==0&&(p=m.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(l===(l|0)&&l>=2&&l<=36){var f=w[l],C=I[l];p="";var K=this.clone();for(K.negative=0;!K.isZero();){var q=K.modrn(C).toString(l);K=K.idivn(C),K.isZero()?p=q+p:p=S[f-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,h){return this.toArrayLike(o,l,h)}),s.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)};var x=function(l,h){return l.allocUnsafe?l.allocUnsafe(h):new l(h)};s.prototype.toArrayLike=function(l,h,p){this._strip();var y=this.byteLength(),m=p||Math.max(1,y);r(y<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0");var b=x(l,m),R=h==="le"?"LE":"BE";return this["_toArrayLike"+R](b,y),b},s.prototype._toArrayLikeLE=function(l,h){for(var p=0,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p++]=R&255,p<l.length&&(l[p++]=R>>8&255),p<l.length&&(l[p++]=R>>16&255),b===6?(p<l.length&&(l[p++]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p<l.length)for(l[p++]=y;p<l.length;)l[p++]=0},s.prototype._toArrayLikeBE=function(l,h){for(var p=l.length-1,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p--]=R&255,p>=0&&(l[p--]=R>>8&255),p>=0&&(l[p--]=R>>16&255),b===6?(p>=0&&(l[p--]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p>=0)for(l[p--]=y;p>=0;)l[p--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var h=l,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(l){if(l===0)return 26;var h=l,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var l=this.words[this.length-1],h=this._countBits(l);return(this.length-1)*26+h};function N(A){for(var l=new Array(A.bitLength()),h=0;h<l.length;h++){var p=h/26|0,y=h%26;l[h]=A.words[p]>>>y&1}return l}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(l+=p,p!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this._strip()},s.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var h;this.length>l.length?h=l:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&l.words[p];return this.length=h.length,this._strip()},s.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var h,p;this.length>l.length?(h=this,p=l):(h=l,p=this);for(var y=0;y<p.length;y++)this.words[y]=h.words[y]^p.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},s.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var h=Math.ceil(l/26)|0,p=l%26;this._expand(h),p>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,h){r(typeof l=="number"&&l>=0);var p=l/26|0,y=l%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this._strip()},s.prototype.iadd=function(l){var h;if(this.negative!==0&&l.negative===0)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();var p,y;this.length>l.length?(p=this,y=l):(p=l,y=this);for(var m=0,b=0;b<y.length;b++)h=(p.words[b]|0)+(y.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;for(;m!==0&&b<p.length;b++)h=(p.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;if(this.length=p.length,m!==0)this.words[this.length]=m,this.length++;else if(p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this},s.prototype.add=function(l){var h;return l.negative!==0&&this.negative===0?(l.negative=0,h=this.sub(l),l.negative^=1,h):l.negative===0&&this.negative!==0?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p=this.cmp(l);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,m;p>0?(y=this,m=l):(y=l,m=this);for(var b=0,R=0;R<m.length;R++)h=(y.words[R]|0)-(m.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;for(;b!==0&&R<y.length;R++)h=(y.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;if(b===0&&R<y.length&&y!==this)for(;R<y.length;R++)this.words[R]=y.words[R];return this.length=Math.max(this.length,R),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function k(A,l,h){h.negative=l.negative^A.negative;var p=A.length+l.length|0;h.length=p,p=p-1|0;var y=A.words[0]|0,m=l.words[0]|0,b=y*m,R=b&67108863,v=b/67108864|0;h.words[0]=R;for(var f=1;f<p;f++){for(var C=v>>>26,K=v&67108863,q=Math.min(f,l.length-1),G=Math.max(0,f-A.length+1);G<=q;G++){var oe=f-G|0;y=A.words[oe]|0,m=l.words[G]|0,b=y*m+K,C+=b/67108864|0,K=b&67108863}h.words[f]=K|0,v=C|0}return v!==0?h.words[f]=v|0:h.length--,h._strip()}var T=function(l,h,p){var y=l.words,m=h.words,b=p.words,R=0,v,f,C,K=y[0]|0,q=K&8191,G=K>>>13,oe=y[1]|0,ie=oe&8191,ue=oe>>>13,Rt=y[2]|0,ve=Rt&8191,we=Rt>>>13,pt=y[3]|0,Ee=pt&8191,Me=pt>>>13,br=y[4]|0,ke=br&8191,$e=br>>>13,Hi=y[5]|0,De=Hi&8191,Te=Hi>>>13,dn=y[6]|0,Re=dn&8191,Ne=dn>>>13,xn=y[7]|0,Pe=xn&8191,O=xn>>>13,E=y[8]|0,_=E&8191,D=E>>>13,z=y[9]|0,V=z&8191,j=z>>>13,Ve=m[0]|0,ge=Ve&8191,de=Ve>>>13,Tt=m[1]|0,he=Tt&8191,We=Tt>>>13,al=m[2]|0,Ke=al&8191,Ge=al>>>13,ul=m[3]|0,Qe=ul&8191,Ye=ul>>>13,ll=m[4]|0,Ze=ll&8191,Xe=ll>>>13,cl=m[5]|0,Je=cl&8191,et=cl>>>13,fl=m[6]|0,tt=fl&8191,nt=fl>>>13,hl=m[7]|0,rt=hl&8191,it=hl>>>13,dl=m[8]|0,st=dl&8191,ot=dl>>>13,pl=m[9]|0,at=pl&8191,ut=pl>>>13;p.negative=l.negative^h.negative,p.length=19,v=Math.imul(q,ge),f=Math.imul(q,de),f=f+Math.imul(G,ge)|0,C=Math.imul(G,de);var po=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(po>>>26)|0,po&=67108863,v=Math.imul(ie,ge),f=Math.imul(ie,de),f=f+Math.imul(ue,ge)|0,C=Math.imul(ue,de),v=v+Math.imul(q,he)|0,f=f+Math.imul(q,We)|0,f=f+Math.imul(G,he)|0,C=C+Math.imul(G,We)|0;var go=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(go>>>26)|0,go&=67108863,v=Math.imul(ve,ge),f=Math.imul(ve,de),f=f+Math.imul(we,ge)|0,C=Math.imul(we,de),v=v+Math.imul(ie,he)|0,f=f+Math.imul(ie,We)|0,f=f+Math.imul(ue,he)|0,C=C+Math.imul(ue,We)|0,v=v+Math.imul(q,Ke)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(G,Ke)|0,C=C+Math.imul(G,Ge)|0;var mo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(mo>>>26)|0,mo&=67108863,v=Math.imul(Ee,ge),f=Math.imul(Ee,de),f=f+Math.imul(Me,ge)|0,C=Math.imul(Me,de),v=v+Math.imul(ve,he)|0,f=f+Math.imul(ve,We)|0,f=f+Math.imul(we,he)|0,C=C+Math.imul(we,We)|0,v=v+Math.imul(ie,Ke)|0,f=f+Math.imul(ie,Ge)|0,f=f+Math.imul(ue,Ke)|0,C=C+Math.imul(ue,Ge)|0,v=v+Math.imul(q,Qe)|0,f=f+Math.imul(q,Ye)|0,f=f+Math.imul(G,Qe)|0,C=C+Math.imul(G,Ye)|0;var yo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(yo>>>26)|0,yo&=67108863,v=Math.imul(ke,ge),f=Math.imul(ke,de),f=f+Math.imul($e,ge)|0,C=Math.imul($e,de),v=v+Math.imul(Ee,he)|0,f=f+Math.imul(Ee,We)|0,f=f+Math.imul(Me,he)|0,C=C+Math.imul(Me,We)|0,v=v+Math.imul(ve,Ke)|0,f=f+Math.imul(ve,Ge)|0,f=f+Math.imul(we,Ke)|0,C=C+Math.imul(we,Ge)|0,v=v+Math.imul(ie,Qe)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(ue,Qe)|0,C=C+Math.imul(ue,Ye)|0,v=v+Math.imul(q,Ze)|0,f=f+Math.imul(q,Xe)|0,f=f+Math.imul(G,Ze)|0,C=C+Math.imul(G,Xe)|0;var vo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(vo>>>26)|0,vo&=67108863,v=Math.imul(De,ge),f=Math.imul(De,de),f=f+Math.imul(Te,ge)|0,C=Math.imul(Te,de),v=v+Math.imul(ke,he)|0,f=f+Math.imul(ke,We)|0,f=f+Math.imul($e,he)|0,C=C+Math.imul($e,We)|0,v=v+Math.imul(Ee,Ke)|0,f=f+Math.imul(Ee,Ge)|0,f=f+Math.imul(Me,Ke)|0,C=C+Math.imul(Me,Ge)|0,v=v+Math.imul(ve,Qe)|0,f=f+Math.imul(ve,Ye)|0,f=f+Math.imul(we,Qe)|0,C=C+Math.imul(we,Ye)|0,v=v+Math.imul(ie,Ze)|0,f=f+Math.imul(ie,Xe)|0,f=f+Math.imul(ue,Ze)|0,C=C+Math.imul(ue,Xe)|0,v=v+Math.imul(q,Je)|0,f=f+Math.imul(q,et)|0,f=f+Math.imul(G,Je)|0,C=C+Math.imul(G,et)|0;var wo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(wo>>>26)|0,wo&=67108863,v=Math.imul(Re,ge),f=Math.imul(Re,de),f=f+Math.imul(Ne,ge)|0,C=Math.imul(Ne,de),v=v+Math.imul(De,he)|0,f=f+Math.imul(De,We)|0,f=f+Math.imul(Te,he)|0,C=C+Math.imul(Te,We)|0,v=v+Math.imul(ke,Ke)|0,f=f+Math.imul(ke,Ge)|0,f=f+Math.imul($e,Ke)|0,C=C+Math.imul($e,Ge)|0,v=v+Math.imul(Ee,Qe)|0,f=f+Math.imul(Ee,Ye)|0,f=f+Math.imul(Me,Qe)|0,C=C+Math.imul(Me,Ye)|0,v=v+Math.imul(ve,Ze)|0,f=f+Math.imul(ve,Xe)|0,f=f+Math.imul(we,Ze)|0,C=C+Math.imul(we,Xe)|0,v=v+Math.imul(ie,Je)|0,f=f+Math.imul(ie,et)|0,f=f+Math.imul(ue,Je)|0,C=C+Math.imul(ue,et)|0,v=v+Math.imul(q,tt)|0,f=f+Math.imul(q,nt)|0,f=f+Math.imul(G,tt)|0,C=C+Math.imul(G,nt)|0;var So=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(So>>>26)|0,So&=67108863,v=Math.imul(Pe,ge),f=Math.imul(Pe,de),f=f+Math.imul(O,ge)|0,C=Math.imul(O,de),v=v+Math.imul(Re,he)|0,f=f+Math.imul(Re,We)|0,f=f+Math.imul(Ne,he)|0,C=C+Math.imul(Ne,We)|0,v=v+Math.imul(De,Ke)|0,f=f+Math.imul(De,Ge)|0,f=f+Math.imul(Te,Ke)|0,C=C+Math.imul(Te,Ge)|0,v=v+Math.imul(ke,Qe)|0,f=f+Math.imul(ke,Ye)|0,f=f+Math.imul($e,Qe)|0,C=C+Math.imul($e,Ye)|0,v=v+Math.imul(Ee,Ze)|0,f=f+Math.imul(Ee,Xe)|0,f=f+Math.imul(Me,Ze)|0,C=C+Math.imul(Me,Xe)|0,v=v+Math.imul(ve,Je)|0,f=f+Math.imul(ve,et)|0,f=f+Math.imul(we,Je)|0,C=C+Math.imul(we,et)|0,v=v+Math.imul(ie,tt)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(ue,tt)|0,C=C+Math.imul(ue,nt)|0,v=v+Math.imul(q,rt)|0,f=f+Math.imul(q,it)|0,f=f+Math.imul(G,rt)|0,C=C+Math.imul(G,it)|0;var Eo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,v=Math.imul(_,ge),f=Math.imul(_,de),f=f+Math.imul(D,ge)|0,C=Math.imul(D,de),v=v+Math.imul(Pe,he)|0,f=f+Math.imul(Pe,We)|0,f=f+Math.imul(O,he)|0,C=C+Math.imul(O,We)|0,v=v+Math.imul(Re,Ke)|0,f=f+Math.imul(Re,Ge)|0,f=f+Math.imul(Ne,Ke)|0,C=C+Math.imul(Ne,Ge)|0,v=v+Math.imul(De,Qe)|0,f=f+Math.imul(De,Ye)|0,f=f+Math.imul(Te,Qe)|0,C=C+Math.imul(Te,Ye)|0,v=v+Math.imul(ke,Ze)|0,f=f+Math.imul(ke,Xe)|0,f=f+Math.imul($e,Ze)|0,C=C+Math.imul($e,Xe)|0,v=v+Math.imul(Ee,Je)|0,f=f+Math.imul(Ee,et)|0,f=f+Math.imul(Me,Je)|0,C=C+Math.imul(Me,et)|0,v=v+Math.imul(ve,tt)|0,f=f+Math.imul(ve,nt)|0,f=f+Math.imul(we,tt)|0,C=C+Math.imul(we,nt)|0,v=v+Math.imul(ie,rt)|0,f=f+Math.imul(ie,it)|0,f=f+Math.imul(ue,rt)|0,C=C+Math.imul(ue,it)|0,v=v+Math.imul(q,st)|0,f=f+Math.imul(q,ot)|0,f=f+Math.imul(G,st)|0,C=C+Math.imul(G,ot)|0;var bo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(bo>>>26)|0,bo&=67108863,v=Math.imul(V,ge),f=Math.imul(V,de),f=f+Math.imul(j,ge)|0,C=Math.imul(j,de),v=v+Math.imul(_,he)|0,f=f+Math.imul(_,We)|0,f=f+Math.imul(D,he)|0,C=C+Math.imul(D,We)|0,v=v+Math.imul(Pe,Ke)|0,f=f+Math.imul(Pe,Ge)|0,f=f+Math.imul(O,Ke)|0,C=C+Math.imul(O,Ge)|0,v=v+Math.imul(Re,Qe)|0,f=f+Math.imul(Re,Ye)|0,f=f+Math.imul(Ne,Qe)|0,C=C+Math.imul(Ne,Ye)|0,v=v+Math.imul(De,Ze)|0,f=f+Math.imul(De,Xe)|0,f=f+Math.imul(Te,Ze)|0,C=C+Math.imul(Te,Xe)|0,v=v+Math.imul(ke,Je)|0,f=f+Math.imul(ke,et)|0,f=f+Math.imul($e,Je)|0,C=C+Math.imul($e,et)|0,v=v+Math.imul(Ee,tt)|0,f=f+Math.imul(Ee,nt)|0,f=f+Math.imul(Me,tt)|0,C=C+Math.imul(Me,nt)|0,v=v+Math.imul(ve,rt)|0,f=f+Math.imul(ve,it)|0,f=f+Math.imul(we,rt)|0,C=C+Math.imul(we,it)|0,v=v+Math.imul(ie,st)|0,f=f+Math.imul(ie,ot)|0,f=f+Math.imul(ue,st)|0,C=C+Math.imul(ue,ot)|0,v=v+Math.imul(q,at)|0,f=f+Math.imul(q,ut)|0,f=f+Math.imul(G,at)|0,C=C+Math.imul(G,ut)|0;var _o=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(_o>>>26)|0,_o&=67108863,v=Math.imul(V,he),f=Math.imul(V,We),f=f+Math.imul(j,he)|0,C=Math.imul(j,We),v=v+Math.imul(_,Ke)|0,f=f+Math.imul(_,Ge)|0,f=f+Math.imul(D,Ke)|0,C=C+Math.imul(D,Ge)|0,v=v+Math.imul(Pe,Qe)|0,f=f+Math.imul(Pe,Ye)|0,f=f+Math.imul(O,Qe)|0,C=C+Math.imul(O,Ye)|0,v=v+Math.imul(Re,Ze)|0,f=f+Math.imul(Re,Xe)|0,f=f+Math.imul(Ne,Ze)|0,C=C+Math.imul(Ne,Xe)|0,v=v+Math.imul(De,Je)|0,f=f+Math.imul(De,et)|0,f=f+Math.imul(Te,Je)|0,C=C+Math.imul(Te,et)|0,v=v+Math.imul(ke,tt)|0,f=f+Math.imul(ke,nt)|0,f=f+Math.imul($e,tt)|0,C=C+Math.imul($e,nt)|0,v=v+Math.imul(Ee,rt)|0,f=f+Math.imul(Ee,it)|0,f=f+Math.imul(Me,rt)|0,C=C+Math.imul(Me,it)|0,v=v+Math.imul(ve,st)|0,f=f+Math.imul(ve,ot)|0,f=f+Math.imul(we,st)|0,C=C+Math.imul(we,ot)|0,v=v+Math.imul(ie,at)|0,f=f+Math.imul(ie,ut)|0,f=f+Math.imul(ue,at)|0,C=C+Math.imul(ue,ut)|0;var xo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(xo>>>26)|0,xo&=67108863,v=Math.imul(V,Ke),f=Math.imul(V,Ge),f=f+Math.imul(j,Ke)|0,C=Math.imul(j,Ge),v=v+Math.imul(_,Qe)|0,f=f+Math.imul(_,Ye)|0,f=f+Math.imul(D,Qe)|0,C=C+Math.imul(D,Ye)|0,v=v+Math.imul(Pe,Ze)|0,f=f+Math.imul(Pe,Xe)|0,f=f+Math.imul(O,Ze)|0,C=C+Math.imul(O,Xe)|0,v=v+Math.imul(Re,Je)|0,f=f+Math.imul(Re,et)|0,f=f+Math.imul(Ne,Je)|0,C=C+Math.imul(Ne,et)|0,v=v+Math.imul(De,tt)|0,f=f+Math.imul(De,nt)|0,f=f+Math.imul(Te,tt)|0,C=C+Math.imul(Te,nt)|0,v=v+Math.imul(ke,rt)|0,f=f+Math.imul(ke,it)|0,f=f+Math.imul($e,rt)|0,C=C+Math.imul($e,it)|0,v=v+Math.imul(Ee,st)|0,f=f+Math.imul(Ee,ot)|0,f=f+Math.imul(Me,st)|0,C=C+Math.imul(Me,ot)|0,v=v+Math.imul(ve,at)|0,f=f+Math.imul(ve,ut)|0,f=f+Math.imul(we,at)|0,C=C+Math.imul(we,ut)|0;var Co=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Co>>>26)|0,Co&=67108863,v=Math.imul(V,Qe),f=Math.imul(V,Ye),f=f+Math.imul(j,Qe)|0,C=Math.imul(j,Ye),v=v+Math.imul(_,Ze)|0,f=f+Math.imul(_,Xe)|0,f=f+Math.imul(D,Ze)|0,C=C+Math.imul(D,Xe)|0,v=v+Math.imul(Pe,Je)|0,f=f+Math.imul(Pe,et)|0,f=f+Math.imul(O,Je)|0,C=C+Math.imul(O,et)|0,v=v+Math.imul(Re,tt)|0,f=f+Math.imul(Re,nt)|0,f=f+Math.imul(Ne,tt)|0,C=C+Math.imul(Ne,nt)|0,v=v+Math.imul(De,rt)|0,f=f+Math.imul(De,it)|0,f=f+Math.imul(Te,rt)|0,C=C+Math.imul(Te,it)|0,v=v+Math.imul(ke,st)|0,f=f+Math.imul(ke,ot)|0,f=f+Math.imul($e,st)|0,C=C+Math.imul($e,ot)|0,v=v+Math.imul(Ee,at)|0,f=f+Math.imul(Ee,ut)|0,f=f+Math.imul(Me,at)|0,C=C+Math.imul(Me,ut)|0;var Io=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Io>>>26)|0,Io&=67108863,v=Math.imul(V,Ze),f=Math.imul(V,Xe),f=f+Math.imul(j,Ze)|0,C=Math.imul(j,Xe),v=v+Math.imul(_,Je)|0,f=f+Math.imul(_,et)|0,f=f+Math.imul(D,Je)|0,C=C+Math.imul(D,et)|0,v=v+Math.imul(Pe,tt)|0,f=f+Math.imul(Pe,nt)|0,f=f+Math.imul(O,tt)|0,C=C+Math.imul(O,nt)|0,v=v+Math.imul(Re,rt)|0,f=f+Math.imul(Re,it)|0,f=f+Math.imul(Ne,rt)|0,C=C+Math.imul(Ne,it)|0,v=v+Math.imul(De,st)|0,f=f+Math.imul(De,ot)|0,f=f+Math.imul(Te,st)|0,C=C+Math.imul(Te,ot)|0,v=v+Math.imul(ke,at)|0,f=f+Math.imul(ke,ut)|0,f=f+Math.imul($e,at)|0,C=C+Math.imul($e,ut)|0;var Mo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,v=Math.imul(V,Je),f=Math.imul(V,et),f=f+Math.imul(j,Je)|0,C=Math.imul(j,et),v=v+Math.imul(_,tt)|0,f=f+Math.imul(_,nt)|0,f=f+Math.imul(D,tt)|0,C=C+Math.imul(D,nt)|0,v=v+Math.imul(Pe,rt)|0,f=f+Math.imul(Pe,it)|0,f=f+Math.imul(O,rt)|0,C=C+Math.imul(O,it)|0,v=v+Math.imul(Re,st)|0,f=f+Math.imul(Re,ot)|0,f=f+Math.imul(Ne,st)|0,C=C+Math.imul(Ne,ot)|0,v=v+Math.imul(De,at)|0,f=f+Math.imul(De,ut)|0,f=f+Math.imul(Te,at)|0,C=C+Math.imul(Te,ut)|0;var Ao=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,v=Math.imul(V,tt),f=Math.imul(V,nt),f=f+Math.imul(j,tt)|0,C=Math.imul(j,nt),v=v+Math.imul(_,rt)|0,f=f+Math.imul(_,it)|0,f=f+Math.imul(D,rt)|0,C=C+Math.imul(D,it)|0,v=v+Math.imul(Pe,st)|0,f=f+Math.imul(Pe,ot)|0,f=f+Math.imul(O,st)|0,C=C+Math.imul(O,ot)|0,v=v+Math.imul(Re,at)|0,f=f+Math.imul(Re,ut)|0,f=f+Math.imul(Ne,at)|0,C=C+Math.imul(Ne,ut)|0;var ko=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(ko>>>26)|0,ko&=67108863,v=Math.imul(V,rt),f=Math.imul(V,it),f=f+Math.imul(j,rt)|0,C=Math.imul(j,it),v=v+Math.imul(_,st)|0,f=f+Math.imul(_,ot)|0,f=f+Math.imul(D,st)|0,C=C+Math.imul(D,ot)|0,v=v+Math.imul(Pe,at)|0,f=f+Math.imul(Pe,ut)|0,f=f+Math.imul(O,at)|0,C=C+Math.imul(O,ut)|0;var To=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(To>>>26)|0,To&=67108863,v=Math.imul(V,st),f=Math.imul(V,ot),f=f+Math.imul(j,st)|0,C=Math.imul(j,ot),v=v+Math.imul(_,at)|0,f=f+Math.imul(_,ut)|0,f=f+Math.imul(D,at)|0,C=C+Math.imul(D,ut)|0;var Ro=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,v=Math.imul(V,at),f=Math.imul(V,ut),f=f+Math.imul(j,at)|0,C=Math.imul(j,ut);var No=(R+v|0)+((f&8191)<<13)|0;return R=(C+(f>>>13)|0)+(No>>>26)|0,No&=67108863,b[0]=po,b[1]=go,b[2]=mo,b[3]=yo,b[4]=vo,b[5]=wo,b[6]=So,b[7]=Eo,b[8]=bo,b[9]=_o,b[10]=xo,b[11]=Co,b[12]=Io,b[13]=Mo,b[14]=Ao,b[15]=ko,b[16]=To,b[17]=Ro,b[18]=No,R!==0&&(b[19]=R,p.length++),p};Math.imul||(T=k);function M(A,l,h){h.negative=l.negative^A.negative,h.length=A.length+l.length;for(var p=0,y=0,m=0;m<h.length-1;m++){var b=y;y=0;for(var R=p&67108863,v=Math.min(m,l.length-1),f=Math.max(0,m-A.length+1);f<=v;f++){var C=m-f,K=A.words[C]|0,q=l.words[f]|0,G=K*q,oe=G&67108863;b=b+(G/67108864|0)|0,oe=oe+R|0,R=oe&67108863,b=b+(oe>>>26)|0,y+=b>>>26,b&=67108863}h.words[m]=R,p=b,b=y}return p!==0?h.words[m]=p:h.length--,h._strip()}function B(A,l,h){return M(A,l,h)}s.prototype.mulTo=function(l,h){var p,y=this.length+l.length;return this.length===10&&l.length===10?p=T(this,l,h):y<63?p=k(this,l,h):y<1024?p=M(this,l,h):p=B(this,l,h),p},s.prototype.mul=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},s.prototype.mulf=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),B(this,l,h)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var h=l<0;h&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var p=0,y=0;y<this.length;y++){var m=(this.words[y]|0)*l,b=(m&67108863)+(p&67108863);p>>=26,p+=m/67108864|0,p+=b>>>26,this.words[y]=b&67108863}return p!==0&&(this.words[y]=p,this.length++),h?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var h=N(l);if(h.length===0)return new s(1);for(var p=this,y=0;y<h.length&&h[y]===0;y++,p=p.sqr());if(++y<h.length)for(var m=p.sqr();y<h.length;y++,m=m.sqr())h[y]!==0&&(p=p.mul(m));return p},s.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=67108863>>>26-h<<26-h,m;if(h!==0){var b=0;for(m=0;m<this.length;m++){var R=this.words[m]&y,v=(this.words[m]|0)-R<<h;this.words[m]=v|b,b=R>>>26-h}b&&(this.words[m]=b,this.length++)}if(p!==0){for(m=this.length-1;m>=0;m--)this.words[m+p]=this.words[m];for(m=0;m<p;m++)this.words[m]=0;this.length+=p}return this._strip()},s.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,h,p){r(typeof l=="number"&&l>=0);var y;h?y=(h-h%26)/26:y=0;var m=l%26,b=Math.min((l-m)/26,this.length),R=67108863^67108863>>>m<<m,v=p;if(y-=b,y=Math.max(0,y),v){for(var f=0;f<b;f++)v.words[f]=this.words[f];v.length=b}if(b!==0)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(C!==0||f>=y);f--){var K=this.words[f]|0;this.words[f]=C<<26-m|K>>>m,C=K&R}return v&&C!==0&&(v.words[v.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,h,p){return r(this.negative===0),this.iushrn(l,h,p)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return!1;var m=this.words[p];return!!(m&y)},s.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,h,p){var y=l.length+p,m;this._expand(y);var b,R=0;for(m=0;m<l.length;m++){b=(this.words[m+p]|0)+R;var v=(l.words[m]|0)*h;b-=v&67108863,R=(b>>26)-(v/67108864|0),this.words[m+p]=b&67108863}for(;m<this.length-p;m++)b=(this.words[m+p]|0)+R,R=b>>26,this.words[m+p]=b&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,m=0;m<this.length;m++)b=-(this.words[m]|0)+R,R=b>>26,this.words[m]=b&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,h){var p=this.length-l.length,y=this.clone(),m=l,b=m.words[m.length-1]|0,R=this._countBits(b);p=26-R,p!==0&&(m=m.ushln(p),y.iushln(p),b=m.words[m.length-1]|0);var v=y.length-m.length,f;if(h!=="mod"){f=new s(null),f.length=v+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=y.clone()._ishlnsubmul(m,1,v);K.negative===0&&(y=K,f&&(f.words[v]=1));for(var q=v-1;q>=0;q--){var G=(y.words[m.length+q]|0)*67108864+(y.words[m.length+q-1]|0);for(G=Math.min(G/b|0,67108863),y._ishlnsubmul(m,G,q);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(m,1,q),y.isZero()||(y.negative^=1);f&&(f.words[q]=G)}return f&&f._strip(),y._strip(),h!=="div"&&p!==0&&y.iushrn(p),{div:f||null,mod:y}},s.prototype.divmod=function(l,h,p){if(r(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,m,b;return this.negative!==0&&l.negative===0?(b=this.neg().divmod(l,h),h!=="mod"&&(y=b.div.neg()),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.iadd(l)),{div:y,mod:m}):this.negative===0&&l.negative!==0?(b=this.divmod(l.neg(),h),h!=="mod"&&(y=b.div.neg()),{div:y,mod:b.mod}):this.negative&l.negative?(b=this.neg().divmod(l.neg(),h),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.isub(l)),{div:b.div,mod:m}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?h==="div"?{div:this.divn(l.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,h)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(l):h.mod,y=l.ushrn(1),m=l.andln(1),b=p.cmp(y);return b<0||m===1&&b===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=(1<<26)%l,y=0,m=this.length-1;m>=0;m--)y=(p*y+(this.words[m]|0))%l;return h?-y:y},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=0,y=this.length-1;y>=0;y--){var m=(this.words[y]|0)+p*67108864;this.words[y]=m/l|0,p=m%l}return this._strip(),h?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=new s(0),R=new s(1),v=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++v;for(var f=p.clone(),C=h.clone();!h.isZero();){for(var K=0,q=1;!(h.words[0]&q)&&K<26;++K,q<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(y.isOdd()||m.isOdd())&&(y.iadd(f),m.isub(C)),y.iushrn(1),m.iushrn(1);for(var G=0,oe=1;!(p.words[0]&oe)&&G<26;++G,oe<<=1);if(G>0)for(p.iushrn(G);G-- >0;)(b.isOdd()||R.isOdd())&&(b.iadd(f),R.isub(C)),b.iushrn(1),R.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(b),m.isub(R)):(p.isub(h),b.isub(y),R.isub(m))}return{a:b,b:R,gcd:p.iushln(v)}},s.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var R=0,v=1;!(h.words[0]&v)&&R<26;++R,v<<=1);if(R>0)for(h.iushrn(R);R-- >0;)y.isOdd()&&y.iadd(b),y.iushrn(1);for(var f=0,C=1;!(p.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(p.iushrn(f);f-- >0;)m.isOdd()&&m.iadd(b),m.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(m)):(p.isub(h),m.isub(y))}var K;return h.cmpn(1)===0?K=y:K=m,K.cmpn(0)<0&&K.iadd(l),K},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),p=l.clone();h.negative=0,p.negative=0;for(var y=0;h.isEven()&&p.isEven();y++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var m=h.cmp(p);if(m<0){var b=h;h=p,p=b}else if(m===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(y)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){r(typeof l=="number");var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var m=y,b=p;m!==0&&b<this.length;b++){var R=this.words[b]|0;R+=m,m=R>>>26,R&=67108863,this.words[b]=R}return m!==0&&(this.words[b]=m,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var h=l<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var p;if(this.length>1)p=1;else{h&&(l=-l),r(l<=67108863,"Number is too big");var y=this.words[0]|0;p=y===l?0:y<l?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var h=this.ucmp(l);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,m=l.words[p]|0;if(y!==m){y<m?h=-1:y>m&&(h=1);break}}return h},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new Y(l)},s.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function P(A,l){this.name=A,this.p=new s(l,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},P.prototype.ireduce=function(l){var h=l,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var y=p<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(l,h){l.iushrn(this.n,0,h)},P.prototype.imulK=function(l){return l.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,P),F.prototype.split=function(l,h){for(var p=4194303,y=Math.min(l.length,9),m=0;m<y;m++)h.words[m]=l.words[m];if(h.length=y,l.length<=9){l.words[0]=0,l.length=1;return}var b=l.words[9];for(h.words[h.length++]=b&p,m=10;m<l.length;m++){var R=l.words[m]|0;l.words[m-10]=(R&p)<<4|b>>>22,b=R}b>>>=22,l.words[m-10]=b,b===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,p=0;p<l.length;p++){var y=l.words[p]|0;h+=y*977,l.words[p]=h&67108863,h=y*64+(h/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,P);function J(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,P);function Z(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,P),Z.prototype.imulK=function(l){for(var h=0,p=0;p<l.length;p++){var y=(l.words[p]|0)*19+h,m=y&67108863;y>>>=26,l.words[p]=m,h=y}return h!==0&&(l.words[l.length++]=h),l},s._prime=function(l){if(L[l])return L[l];var h;if(l==="k256")h=new F;else if(l==="p224")h=new U;else if(l==="p192")h=new J;else if(l==="p25519")h=new Z;else throw new Error("Unknown prime "+l);return L[l]=h,h};function Y(A){if(typeof A=="string"){var l=s._prime(A);this.m=l.p,this.prime=l}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}Y.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},Y.prototype._verify2=function(l,h){r((l.negative|h.negative)===0,"red works only with positives"),r(l.red&&l.red===h.red,"red works only with red numbers")},Y.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(d(l,l.umod(this.m)._forceRed(this)),l)},Y.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Y.prototype.add=function(l,h){this._verify2(l,h);var p=l.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Y.prototype.iadd=function(l,h){this._verify2(l,h);var p=l.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Y.prototype.sub=function(l,h){this._verify2(l,h);var p=l.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Y.prototype.isub=function(l,h){this._verify2(l,h);var p=l.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Y.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},Y.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},Y.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},Y.prototype.isqr=function(l){return this.imul(l,l.clone())},Y.prototype.sqr=function(l){return this.mul(l,l)},Y.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(l,p)}for(var y=this.m.subn(1),m=0;!y.isZero()&&y.andln(1)===0;)m++,y.iushrn(1);r(!y.isZero());var b=new s(1).toRed(this),R=b.redNeg(),v=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,v).cmp(R)!==0;)f.redIAdd(R);for(var C=this.pow(f,y),K=this.pow(l,y.addn(1).iushrn(1)),q=this.pow(l,y),G=m;q.cmp(b)!==0;){for(var oe=q,ie=0;oe.cmp(b)!==0;ie++)oe=oe.redSqr();r(ie<G);var ue=this.pow(C,new s(1).iushln(G-ie-1));K=K.redMul(ue),C=ue.redSqr(),q=q.redMul(C),G=ie}return K},Y.prototype.invm=function(l){var h=l._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Y.prototype.pow=function(l,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return l.clone();var p=4,y=new Array(1<<p);y[0]=new s(1).toRed(this),y[1]=l;for(var m=2;m<y.length;m++)y[m]=this.mul(y[m-1],l);var b=y[0],R=0,v=0,f=h.bitLength()%26;for(f===0&&(f=26),m=h.length-1;m>=0;m--){for(var C=h.words[m],K=f-1;K>=0;K--){var q=C>>K&1;if(b!==y[0]&&(b=this.sqr(b)),q===0&&R===0){v=0;continue}R<<=1,R|=q,v++,!(v!==p&&(m!==0||K!==0))&&(b=this.mul(b,y[R]),v=0,R=0)}f=26}return b},Y.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},Y.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},s.mont=function(l){return new le(l)};function le(A){Y.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Y),le.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},le.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var p=l.imul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},le.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new s(0)._forceRed(this);var p=l.mul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},le.prototype.invm=function(l){var h=this.imod(l._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Jr)})(H1);var w$=H1.exports;const d_=ds(w$);var nv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=je,r=n.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,u){return r(o,a,u)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof u=="string"?c.fill(a,u):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(nv,nv.exports);var S$=nv.exports,ah=S$.Buffer;function E$(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=ah.from(w)),!ah.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var I=0,x=0,N=0,k=w.length;N!==k&&w[N]===0;)N++,I++;for(var T=(k-N)*c+1>>>0,M=new Uint8Array(T);N!==k;){for(var B=w[N],L=0,P=T-1;(B!==0||L<x)&&P!==-1;P--,L++)B+=256*M[P]>>>0,M[P]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");x=L,N++}for(var F=T-x;F!==T&&M[F]===0;)F++;for(var U=a.repeat(I);F<T;++F)U+=t.charAt(M[F]);return U}function g(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return ah.alloc(0);for(var I=0,x=0,N=0;w[I]===a;)x++,I++;for(var k=(w.length-I)*u+1>>>0,T=new Uint8Array(k);w[I];){var M=e[w.charCodeAt(I)];if(M===255)return;for(var B=0,L=k-1;(M!==0||B<N)&&L!==-1;L--,B++)M+=o*T[L]>>>0,T[L]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");N=B,I++}for(var P=k-N;P!==k&&T[P]===0;)P++;var F=ah.allocUnsafe(x+(k-P));F.fill(0,0,x);for(var U=x;P!==k;)F[U++]=T[P++];return F}function S(w){var I=g(w);if(I)return I;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:S}}var b$=E$,_$=b$,x$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",fk=_$(x$);const vn=ds(fk),C$=(t,e,n)=>t&e^~t&n,I$=(t,e,n)=>t&e^t&n^e&n,M$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ws=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ss=new Uint32Array(64);class hk extends tk{constructor(){super(64,32,8,!1),this.A=ws[0]|0,this.B=ws[1]|0,this.C=ws[2]|0,this.D=ws[3]|0,this.E=ws[4]|0,this.F=ws[5]|0,this.G=ws[6]|0,this.H=ws[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:u}=this;return[e,n,r,i,s,o,a,u]}set(e,n,r,i,s,o,a,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,n){for(let g=0;g<16;g++,n+=4)Ss[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const S=Ss[g-15],w=Ss[g-2],I=Si(S,7)^Si(S,18)^S>>>3,x=Si(w,17)^Si(w,19)^w>>>10;Ss[g]=x+Ss[g-7]+I+Ss[g-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let g=0;g<64;g++){const S=Si(a,6)^Si(a,11)^Si(a,25),w=d+S+C$(a,u,c)+M$[g]+Ss[g]|0,x=(Si(r,2)^Si(r,13)^Si(r,22))+I$(r,i,s)|0;d=c,c=u,u=a,a=o+w|0,o=s,s=i,i=r,r=w+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,u,c,d)}roundClean(){Ss.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class A$ extends hk{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const rv=wa(()=>new hk);wa(()=>new A$);var Rn={},q1={exports:{}};q1.exports;(function(t){(function(e,n){function r(A,l){if(!A)throw new Error(l||"Assertion failed")}function i(A,l){A.super_=l;var h=function(){};h.prototype=l.prototype,A.prototype=new h,A.prototype.constructor=A}function s(A,l,h){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((l==="le"||l==="be")&&(h=l,l=10),this._init(A||0,l||10,h||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ck.Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,h){return l.cmp(h)>0?l:h},s.min=function(l,h){return l.cmp(h)<0?l:h},s.prototype._init=function(l,h,p){if(typeof l=="number")return this._initNumber(l,h,p);if(typeof l=="object")return this._initArray(l,h,p);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),l=l.toString().replace(/\s+/g,"");var y=0;l[0]==="-"&&(y++,this.negative=1),y<l.length&&(h===16?this._parseHex(l,y,p):(this._parseBase(l,h,y),p==="le"&&this._initArray(this.toArray(),h,p)))},s.prototype._initNumber=function(l,h,p){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),h,p)},s.prototype._initArray=function(l,h,p){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m,b,R=0;if(p==="be")for(y=l.length-1,m=0;y>=0;y-=3)b=l[y]|l[y-1]<<8|l[y-2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);else if(p==="le")for(y=0,m=0;y<l.length;y+=3)b=l[y]|l[y+1]<<8|l[y+2]<<16,this.words[m]|=b<<R&67108863,this.words[m+1]=b>>>26-R&67108863,R+=24,R>=26&&(R-=26,m++);return this._strip()};function a(A,l){var h=A.charCodeAt(l);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+A)}function u(A,l,h){var p=a(A,h);return h-1>=l&&(p|=a(A,h-1)<<4),p}s.prototype._parseHex=function(l,h,p){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var m=0,b=0,R;if(p==="be")for(y=l.length-1;y>=h;y-=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8;else{var v=l.length-h;for(y=v%2===0?h+1:h;y<l.length;y+=2)R=u(l,h,y)<<m,this.words[b]|=R&67108863,m>=18?(m-=18,b+=1,this.words[b]|=R>>>26):m+=8}this._strip()};function c(A,l,h,p){for(var y=0,m=0,b=Math.min(A.length,h),R=l;R<b;R++){var v=A.charCodeAt(R)-48;y*=p,v>=49?m=v-49+10:v>=17?m=v-17+10:m=v,r(v>=0&&m<p,"Invalid character"),y+=m}return y}s.prototype._parseBase=function(l,h,p){this.words=[0],this.length=1;for(var y=0,m=1;m<=67108863;m*=h)y++;y--,m=m/h|0;for(var b=l.length-p,R=b%y,v=Math.min(b,b-R)+p,f=0,C=p;C<v;C+=y)f=c(l,C,C+y,h),this.imuln(m),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=c(l,C,l.length,h),C=0;C<R;C++)K*=h;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red};function d(A,l){A.words=l.words,A.length=l.length,A.negative=l.negative,A.red=l.red}if(s.prototype._move=function(l){d(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,h){l=l||10,h=h|0||1;var p;if(l===16||l==="hex"){p="";for(var y=0,m=0,b=0;b<this.length;b++){var R=this.words[b],v=((R<<y|m)&16777215).toString(16);m=R>>>24-y&16777215,y+=2,y>=26&&(y-=26,b--),m!==0||b!==this.length-1?p=S[6-v.length]+v+p:p=v+p}for(m!==0&&(p=m.toString(16)+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(l===(l|0)&&l>=2&&l<=36){var f=w[l],C=I[l];p="";var K=this.clone();for(K.negative=0;!K.isZero();){var q=K.modrn(C).toString(l);K=K.idivn(C),K.isZero()?p=q+p:p=S[f-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%h!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,h){return this.toArrayLike(o,l,h)}),s.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)};var x=function(l,h){return l.allocUnsafe?l.allocUnsafe(h):new l(h)};s.prototype.toArrayLike=function(l,h,p){this._strip();var y=this.byteLength(),m=p||Math.max(1,y);r(y<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0");var b=x(l,m),R=h==="le"?"LE":"BE";return this["_toArrayLike"+R](b,y),b},s.prototype._toArrayLikeLE=function(l,h){for(var p=0,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p++]=R&255,p<l.length&&(l[p++]=R>>8&255),p<l.length&&(l[p++]=R>>16&255),b===6?(p<l.length&&(l[p++]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p<l.length)for(l[p++]=y;p<l.length;)l[p++]=0},s.prototype._toArrayLikeBE=function(l,h){for(var p=l.length-1,y=0,m=0,b=0;m<this.length;m++){var R=this.words[m]<<b|y;l[p--]=R&255,p>=0&&(l[p--]=R>>8&255),p>=0&&(l[p--]=R>>16&255),b===6?(p>=0&&(l[p--]=R>>24&255),y=0,b=0):(y=R>>>24,b+=2)}if(p>=0)for(l[p--]=y;p>=0;)l[p--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var h=l,p=0;return h>=4096&&(p+=13,h>>>=13),h>=64&&(p+=7,h>>>=7),h>=8&&(p+=4,h>>>=4),h>=2&&(p+=2,h>>>=2),p+h},s.prototype._zeroBits=function(l){if(l===0)return 26;var h=l,p=0;return h&8191||(p+=13,h>>>=13),h&127||(p+=7,h>>>=7),h&15||(p+=4,h>>>=4),h&3||(p+=2,h>>>=2),h&1||p++,p},s.prototype.bitLength=function(){var l=this.words[this.length-1],h=this._countBits(l);return(this.length-1)*26+h};function N(A){for(var l=new Array(A.bitLength()),h=0;h<l.length;h++){var p=h/26|0,y=h%26;l[h]=A.words[p]>>>y&1}return l}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var p=this._zeroBits(this.words[h]);if(l+=p,p!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this._strip()},s.prototype.ior=function(l){return r((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var h;this.length>l.length?h=l:h=this;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]&l.words[p];return this.length=h.length,this._strip()},s.prototype.iand=function(l){return r((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var h,p;this.length>l.length?(h=this,p=l):(h=l,p=this);for(var y=0;y<p.length;y++)this.words[y]=h.words[y]^p.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},s.prototype.ixor=function(l){return r((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var h=Math.ceil(l/26)|0,p=l%26;this._expand(h),p>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return p>0&&(this.words[y]=~this.words[y]&67108863>>26-p),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,h){r(typeof l=="number"&&l>=0);var p=l/26|0,y=l%26;return this._expand(p+1),h?this.words[p]=this.words[p]|1<<y:this.words[p]=this.words[p]&~(1<<y),this._strip()},s.prototype.iadd=function(l){var h;if(this.negative!==0&&l.negative===0)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();var p,y;this.length>l.length?(p=this,y=l):(p=l,y=this);for(var m=0,b=0;b<y.length;b++)h=(p.words[b]|0)+(y.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;for(;m!==0&&b<p.length;b++)h=(p.words[b]|0)+m,this.words[b]=h&67108863,m=h>>>26;if(this.length=p.length,m!==0)this.words[this.length]=m,this.length++;else if(p!==this)for(;b<p.length;b++)this.words[b]=p.words[b];return this},s.prototype.add=function(l){var h;return l.negative!==0&&this.negative===0?(l.negative=0,h=this.sub(l),l.negative^=1,h):l.negative===0&&this.negative!==0?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var p=this.cmp(l);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,m;p>0?(y=this,m=l):(y=l,m=this);for(var b=0,R=0;R<m.length;R++)h=(y.words[R]|0)-(m.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;for(;b!==0&&R<y.length;R++)h=(y.words[R]|0)+b,b=h>>26,this.words[R]=h&67108863;if(b===0&&R<y.length&&y!==this)for(;R<y.length;R++)this.words[R]=y.words[R];return this.length=Math.max(this.length,R),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function k(A,l,h){h.negative=l.negative^A.negative;var p=A.length+l.length|0;h.length=p,p=p-1|0;var y=A.words[0]|0,m=l.words[0]|0,b=y*m,R=b&67108863,v=b/67108864|0;h.words[0]=R;for(var f=1;f<p;f++){for(var C=v>>>26,K=v&67108863,q=Math.min(f,l.length-1),G=Math.max(0,f-A.length+1);G<=q;G++){var oe=f-G|0;y=A.words[oe]|0,m=l.words[G]|0,b=y*m+K,C+=b/67108864|0,K=b&67108863}h.words[f]=K|0,v=C|0}return v!==0?h.words[f]=v|0:h.length--,h._strip()}var T=function(l,h,p){var y=l.words,m=h.words,b=p.words,R=0,v,f,C,K=y[0]|0,q=K&8191,G=K>>>13,oe=y[1]|0,ie=oe&8191,ue=oe>>>13,Rt=y[2]|0,ve=Rt&8191,we=Rt>>>13,pt=y[3]|0,Ee=pt&8191,Me=pt>>>13,br=y[4]|0,ke=br&8191,$e=br>>>13,Hi=y[5]|0,De=Hi&8191,Te=Hi>>>13,dn=y[6]|0,Re=dn&8191,Ne=dn>>>13,xn=y[7]|0,Pe=xn&8191,O=xn>>>13,E=y[8]|0,_=E&8191,D=E>>>13,z=y[9]|0,V=z&8191,j=z>>>13,Ve=m[0]|0,ge=Ve&8191,de=Ve>>>13,Tt=m[1]|0,he=Tt&8191,We=Tt>>>13,al=m[2]|0,Ke=al&8191,Ge=al>>>13,ul=m[3]|0,Qe=ul&8191,Ye=ul>>>13,ll=m[4]|0,Ze=ll&8191,Xe=ll>>>13,cl=m[5]|0,Je=cl&8191,et=cl>>>13,fl=m[6]|0,tt=fl&8191,nt=fl>>>13,hl=m[7]|0,rt=hl&8191,it=hl>>>13,dl=m[8]|0,st=dl&8191,ot=dl>>>13,pl=m[9]|0,at=pl&8191,ut=pl>>>13;p.negative=l.negative^h.negative,p.length=19,v=Math.imul(q,ge),f=Math.imul(q,de),f=f+Math.imul(G,ge)|0,C=Math.imul(G,de);var po=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(po>>>26)|0,po&=67108863,v=Math.imul(ie,ge),f=Math.imul(ie,de),f=f+Math.imul(ue,ge)|0,C=Math.imul(ue,de),v=v+Math.imul(q,he)|0,f=f+Math.imul(q,We)|0,f=f+Math.imul(G,he)|0,C=C+Math.imul(G,We)|0;var go=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(go>>>26)|0,go&=67108863,v=Math.imul(ve,ge),f=Math.imul(ve,de),f=f+Math.imul(we,ge)|0,C=Math.imul(we,de),v=v+Math.imul(ie,he)|0,f=f+Math.imul(ie,We)|0,f=f+Math.imul(ue,he)|0,C=C+Math.imul(ue,We)|0,v=v+Math.imul(q,Ke)|0,f=f+Math.imul(q,Ge)|0,f=f+Math.imul(G,Ke)|0,C=C+Math.imul(G,Ge)|0;var mo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(mo>>>26)|0,mo&=67108863,v=Math.imul(Ee,ge),f=Math.imul(Ee,de),f=f+Math.imul(Me,ge)|0,C=Math.imul(Me,de),v=v+Math.imul(ve,he)|0,f=f+Math.imul(ve,We)|0,f=f+Math.imul(we,he)|0,C=C+Math.imul(we,We)|0,v=v+Math.imul(ie,Ke)|0,f=f+Math.imul(ie,Ge)|0,f=f+Math.imul(ue,Ke)|0,C=C+Math.imul(ue,Ge)|0,v=v+Math.imul(q,Qe)|0,f=f+Math.imul(q,Ye)|0,f=f+Math.imul(G,Qe)|0,C=C+Math.imul(G,Ye)|0;var yo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(yo>>>26)|0,yo&=67108863,v=Math.imul(ke,ge),f=Math.imul(ke,de),f=f+Math.imul($e,ge)|0,C=Math.imul($e,de),v=v+Math.imul(Ee,he)|0,f=f+Math.imul(Ee,We)|0,f=f+Math.imul(Me,he)|0,C=C+Math.imul(Me,We)|0,v=v+Math.imul(ve,Ke)|0,f=f+Math.imul(ve,Ge)|0,f=f+Math.imul(we,Ke)|0,C=C+Math.imul(we,Ge)|0,v=v+Math.imul(ie,Qe)|0,f=f+Math.imul(ie,Ye)|0,f=f+Math.imul(ue,Qe)|0,C=C+Math.imul(ue,Ye)|0,v=v+Math.imul(q,Ze)|0,f=f+Math.imul(q,Xe)|0,f=f+Math.imul(G,Ze)|0,C=C+Math.imul(G,Xe)|0;var vo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(vo>>>26)|0,vo&=67108863,v=Math.imul(De,ge),f=Math.imul(De,de),f=f+Math.imul(Te,ge)|0,C=Math.imul(Te,de),v=v+Math.imul(ke,he)|0,f=f+Math.imul(ke,We)|0,f=f+Math.imul($e,he)|0,C=C+Math.imul($e,We)|0,v=v+Math.imul(Ee,Ke)|0,f=f+Math.imul(Ee,Ge)|0,f=f+Math.imul(Me,Ke)|0,C=C+Math.imul(Me,Ge)|0,v=v+Math.imul(ve,Qe)|0,f=f+Math.imul(ve,Ye)|0,f=f+Math.imul(we,Qe)|0,C=C+Math.imul(we,Ye)|0,v=v+Math.imul(ie,Ze)|0,f=f+Math.imul(ie,Xe)|0,f=f+Math.imul(ue,Ze)|0,C=C+Math.imul(ue,Xe)|0,v=v+Math.imul(q,Je)|0,f=f+Math.imul(q,et)|0,f=f+Math.imul(G,Je)|0,C=C+Math.imul(G,et)|0;var wo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(wo>>>26)|0,wo&=67108863,v=Math.imul(Re,ge),f=Math.imul(Re,de),f=f+Math.imul(Ne,ge)|0,C=Math.imul(Ne,de),v=v+Math.imul(De,he)|0,f=f+Math.imul(De,We)|0,f=f+Math.imul(Te,he)|0,C=C+Math.imul(Te,We)|0,v=v+Math.imul(ke,Ke)|0,f=f+Math.imul(ke,Ge)|0,f=f+Math.imul($e,Ke)|0,C=C+Math.imul($e,Ge)|0,v=v+Math.imul(Ee,Qe)|0,f=f+Math.imul(Ee,Ye)|0,f=f+Math.imul(Me,Qe)|0,C=C+Math.imul(Me,Ye)|0,v=v+Math.imul(ve,Ze)|0,f=f+Math.imul(ve,Xe)|0,f=f+Math.imul(we,Ze)|0,C=C+Math.imul(we,Xe)|0,v=v+Math.imul(ie,Je)|0,f=f+Math.imul(ie,et)|0,f=f+Math.imul(ue,Je)|0,C=C+Math.imul(ue,et)|0,v=v+Math.imul(q,tt)|0,f=f+Math.imul(q,nt)|0,f=f+Math.imul(G,tt)|0,C=C+Math.imul(G,nt)|0;var So=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(So>>>26)|0,So&=67108863,v=Math.imul(Pe,ge),f=Math.imul(Pe,de),f=f+Math.imul(O,ge)|0,C=Math.imul(O,de),v=v+Math.imul(Re,he)|0,f=f+Math.imul(Re,We)|0,f=f+Math.imul(Ne,he)|0,C=C+Math.imul(Ne,We)|0,v=v+Math.imul(De,Ke)|0,f=f+Math.imul(De,Ge)|0,f=f+Math.imul(Te,Ke)|0,C=C+Math.imul(Te,Ge)|0,v=v+Math.imul(ke,Qe)|0,f=f+Math.imul(ke,Ye)|0,f=f+Math.imul($e,Qe)|0,C=C+Math.imul($e,Ye)|0,v=v+Math.imul(Ee,Ze)|0,f=f+Math.imul(Ee,Xe)|0,f=f+Math.imul(Me,Ze)|0,C=C+Math.imul(Me,Xe)|0,v=v+Math.imul(ve,Je)|0,f=f+Math.imul(ve,et)|0,f=f+Math.imul(we,Je)|0,C=C+Math.imul(we,et)|0,v=v+Math.imul(ie,tt)|0,f=f+Math.imul(ie,nt)|0,f=f+Math.imul(ue,tt)|0,C=C+Math.imul(ue,nt)|0,v=v+Math.imul(q,rt)|0,f=f+Math.imul(q,it)|0,f=f+Math.imul(G,rt)|0,C=C+Math.imul(G,it)|0;var Eo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,v=Math.imul(_,ge),f=Math.imul(_,de),f=f+Math.imul(D,ge)|0,C=Math.imul(D,de),v=v+Math.imul(Pe,he)|0,f=f+Math.imul(Pe,We)|0,f=f+Math.imul(O,he)|0,C=C+Math.imul(O,We)|0,v=v+Math.imul(Re,Ke)|0,f=f+Math.imul(Re,Ge)|0,f=f+Math.imul(Ne,Ke)|0,C=C+Math.imul(Ne,Ge)|0,v=v+Math.imul(De,Qe)|0,f=f+Math.imul(De,Ye)|0,f=f+Math.imul(Te,Qe)|0,C=C+Math.imul(Te,Ye)|0,v=v+Math.imul(ke,Ze)|0,f=f+Math.imul(ke,Xe)|0,f=f+Math.imul($e,Ze)|0,C=C+Math.imul($e,Xe)|0,v=v+Math.imul(Ee,Je)|0,f=f+Math.imul(Ee,et)|0,f=f+Math.imul(Me,Je)|0,C=C+Math.imul(Me,et)|0,v=v+Math.imul(ve,tt)|0,f=f+Math.imul(ve,nt)|0,f=f+Math.imul(we,tt)|0,C=C+Math.imul(we,nt)|0,v=v+Math.imul(ie,rt)|0,f=f+Math.imul(ie,it)|0,f=f+Math.imul(ue,rt)|0,C=C+Math.imul(ue,it)|0,v=v+Math.imul(q,st)|0,f=f+Math.imul(q,ot)|0,f=f+Math.imul(G,st)|0,C=C+Math.imul(G,ot)|0;var bo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(bo>>>26)|0,bo&=67108863,v=Math.imul(V,ge),f=Math.imul(V,de),f=f+Math.imul(j,ge)|0,C=Math.imul(j,de),v=v+Math.imul(_,he)|0,f=f+Math.imul(_,We)|0,f=f+Math.imul(D,he)|0,C=C+Math.imul(D,We)|0,v=v+Math.imul(Pe,Ke)|0,f=f+Math.imul(Pe,Ge)|0,f=f+Math.imul(O,Ke)|0,C=C+Math.imul(O,Ge)|0,v=v+Math.imul(Re,Qe)|0,f=f+Math.imul(Re,Ye)|0,f=f+Math.imul(Ne,Qe)|0,C=C+Math.imul(Ne,Ye)|0,v=v+Math.imul(De,Ze)|0,f=f+Math.imul(De,Xe)|0,f=f+Math.imul(Te,Ze)|0,C=C+Math.imul(Te,Xe)|0,v=v+Math.imul(ke,Je)|0,f=f+Math.imul(ke,et)|0,f=f+Math.imul($e,Je)|0,C=C+Math.imul($e,et)|0,v=v+Math.imul(Ee,tt)|0,f=f+Math.imul(Ee,nt)|0,f=f+Math.imul(Me,tt)|0,C=C+Math.imul(Me,nt)|0,v=v+Math.imul(ve,rt)|0,f=f+Math.imul(ve,it)|0,f=f+Math.imul(we,rt)|0,C=C+Math.imul(we,it)|0,v=v+Math.imul(ie,st)|0,f=f+Math.imul(ie,ot)|0,f=f+Math.imul(ue,st)|0,C=C+Math.imul(ue,ot)|0,v=v+Math.imul(q,at)|0,f=f+Math.imul(q,ut)|0,f=f+Math.imul(G,at)|0,C=C+Math.imul(G,ut)|0;var _o=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(_o>>>26)|0,_o&=67108863,v=Math.imul(V,he),f=Math.imul(V,We),f=f+Math.imul(j,he)|0,C=Math.imul(j,We),v=v+Math.imul(_,Ke)|0,f=f+Math.imul(_,Ge)|0,f=f+Math.imul(D,Ke)|0,C=C+Math.imul(D,Ge)|0,v=v+Math.imul(Pe,Qe)|0,f=f+Math.imul(Pe,Ye)|0,f=f+Math.imul(O,Qe)|0,C=C+Math.imul(O,Ye)|0,v=v+Math.imul(Re,Ze)|0,f=f+Math.imul(Re,Xe)|0,f=f+Math.imul(Ne,Ze)|0,C=C+Math.imul(Ne,Xe)|0,v=v+Math.imul(De,Je)|0,f=f+Math.imul(De,et)|0,f=f+Math.imul(Te,Je)|0,C=C+Math.imul(Te,et)|0,v=v+Math.imul(ke,tt)|0,f=f+Math.imul(ke,nt)|0,f=f+Math.imul($e,tt)|0,C=C+Math.imul($e,nt)|0,v=v+Math.imul(Ee,rt)|0,f=f+Math.imul(Ee,it)|0,f=f+Math.imul(Me,rt)|0,C=C+Math.imul(Me,it)|0,v=v+Math.imul(ve,st)|0,f=f+Math.imul(ve,ot)|0,f=f+Math.imul(we,st)|0,C=C+Math.imul(we,ot)|0,v=v+Math.imul(ie,at)|0,f=f+Math.imul(ie,ut)|0,f=f+Math.imul(ue,at)|0,C=C+Math.imul(ue,ut)|0;var xo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(xo>>>26)|0,xo&=67108863,v=Math.imul(V,Ke),f=Math.imul(V,Ge),f=f+Math.imul(j,Ke)|0,C=Math.imul(j,Ge),v=v+Math.imul(_,Qe)|0,f=f+Math.imul(_,Ye)|0,f=f+Math.imul(D,Qe)|0,C=C+Math.imul(D,Ye)|0,v=v+Math.imul(Pe,Ze)|0,f=f+Math.imul(Pe,Xe)|0,f=f+Math.imul(O,Ze)|0,C=C+Math.imul(O,Xe)|0,v=v+Math.imul(Re,Je)|0,f=f+Math.imul(Re,et)|0,f=f+Math.imul(Ne,Je)|0,C=C+Math.imul(Ne,et)|0,v=v+Math.imul(De,tt)|0,f=f+Math.imul(De,nt)|0,f=f+Math.imul(Te,tt)|0,C=C+Math.imul(Te,nt)|0,v=v+Math.imul(ke,rt)|0,f=f+Math.imul(ke,it)|0,f=f+Math.imul($e,rt)|0,C=C+Math.imul($e,it)|0,v=v+Math.imul(Ee,st)|0,f=f+Math.imul(Ee,ot)|0,f=f+Math.imul(Me,st)|0,C=C+Math.imul(Me,ot)|0,v=v+Math.imul(ve,at)|0,f=f+Math.imul(ve,ut)|0,f=f+Math.imul(we,at)|0,C=C+Math.imul(we,ut)|0;var Co=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Co>>>26)|0,Co&=67108863,v=Math.imul(V,Qe),f=Math.imul(V,Ye),f=f+Math.imul(j,Qe)|0,C=Math.imul(j,Ye),v=v+Math.imul(_,Ze)|0,f=f+Math.imul(_,Xe)|0,f=f+Math.imul(D,Ze)|0,C=C+Math.imul(D,Xe)|0,v=v+Math.imul(Pe,Je)|0,f=f+Math.imul(Pe,et)|0,f=f+Math.imul(O,Je)|0,C=C+Math.imul(O,et)|0,v=v+Math.imul(Re,tt)|0,f=f+Math.imul(Re,nt)|0,f=f+Math.imul(Ne,tt)|0,C=C+Math.imul(Ne,nt)|0,v=v+Math.imul(De,rt)|0,f=f+Math.imul(De,it)|0,f=f+Math.imul(Te,rt)|0,C=C+Math.imul(Te,it)|0,v=v+Math.imul(ke,st)|0,f=f+Math.imul(ke,ot)|0,f=f+Math.imul($e,st)|0,C=C+Math.imul($e,ot)|0,v=v+Math.imul(Ee,at)|0,f=f+Math.imul(Ee,ut)|0,f=f+Math.imul(Me,at)|0,C=C+Math.imul(Me,ut)|0;var Io=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Io>>>26)|0,Io&=67108863,v=Math.imul(V,Ze),f=Math.imul(V,Xe),f=f+Math.imul(j,Ze)|0,C=Math.imul(j,Xe),v=v+Math.imul(_,Je)|0,f=f+Math.imul(_,et)|0,f=f+Math.imul(D,Je)|0,C=C+Math.imul(D,et)|0,v=v+Math.imul(Pe,tt)|0,f=f+Math.imul(Pe,nt)|0,f=f+Math.imul(O,tt)|0,C=C+Math.imul(O,nt)|0,v=v+Math.imul(Re,rt)|0,f=f+Math.imul(Re,it)|0,f=f+Math.imul(Ne,rt)|0,C=C+Math.imul(Ne,it)|0,v=v+Math.imul(De,st)|0,f=f+Math.imul(De,ot)|0,f=f+Math.imul(Te,st)|0,C=C+Math.imul(Te,ot)|0,v=v+Math.imul(ke,at)|0,f=f+Math.imul(ke,ut)|0,f=f+Math.imul($e,at)|0,C=C+Math.imul($e,ut)|0;var Mo=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,v=Math.imul(V,Je),f=Math.imul(V,et),f=f+Math.imul(j,Je)|0,C=Math.imul(j,et),v=v+Math.imul(_,tt)|0,f=f+Math.imul(_,nt)|0,f=f+Math.imul(D,tt)|0,C=C+Math.imul(D,nt)|0,v=v+Math.imul(Pe,rt)|0,f=f+Math.imul(Pe,it)|0,f=f+Math.imul(O,rt)|0,C=C+Math.imul(O,it)|0,v=v+Math.imul(Re,st)|0,f=f+Math.imul(Re,ot)|0,f=f+Math.imul(Ne,st)|0,C=C+Math.imul(Ne,ot)|0,v=v+Math.imul(De,at)|0,f=f+Math.imul(De,ut)|0,f=f+Math.imul(Te,at)|0,C=C+Math.imul(Te,ut)|0;var Ao=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,v=Math.imul(V,tt),f=Math.imul(V,nt),f=f+Math.imul(j,tt)|0,C=Math.imul(j,nt),v=v+Math.imul(_,rt)|0,f=f+Math.imul(_,it)|0,f=f+Math.imul(D,rt)|0,C=C+Math.imul(D,it)|0,v=v+Math.imul(Pe,st)|0,f=f+Math.imul(Pe,ot)|0,f=f+Math.imul(O,st)|0,C=C+Math.imul(O,ot)|0,v=v+Math.imul(Re,at)|0,f=f+Math.imul(Re,ut)|0,f=f+Math.imul(Ne,at)|0,C=C+Math.imul(Ne,ut)|0;var ko=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(ko>>>26)|0,ko&=67108863,v=Math.imul(V,rt),f=Math.imul(V,it),f=f+Math.imul(j,rt)|0,C=Math.imul(j,it),v=v+Math.imul(_,st)|0,f=f+Math.imul(_,ot)|0,f=f+Math.imul(D,st)|0,C=C+Math.imul(D,ot)|0,v=v+Math.imul(Pe,at)|0,f=f+Math.imul(Pe,ut)|0,f=f+Math.imul(O,at)|0,C=C+Math.imul(O,ut)|0;var To=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(To>>>26)|0,To&=67108863,v=Math.imul(V,st),f=Math.imul(V,ot),f=f+Math.imul(j,st)|0,C=Math.imul(j,ot),v=v+Math.imul(_,at)|0,f=f+Math.imul(_,ut)|0,f=f+Math.imul(D,at)|0,C=C+Math.imul(D,ut)|0;var Ro=(R+v|0)+((f&8191)<<13)|0;R=(C+(f>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,v=Math.imul(V,at),f=Math.imul(V,ut),f=f+Math.imul(j,at)|0,C=Math.imul(j,ut);var No=(R+v|0)+((f&8191)<<13)|0;return R=(C+(f>>>13)|0)+(No>>>26)|0,No&=67108863,b[0]=po,b[1]=go,b[2]=mo,b[3]=yo,b[4]=vo,b[5]=wo,b[6]=So,b[7]=Eo,b[8]=bo,b[9]=_o,b[10]=xo,b[11]=Co,b[12]=Io,b[13]=Mo,b[14]=Ao,b[15]=ko,b[16]=To,b[17]=Ro,b[18]=No,R!==0&&(b[19]=R,p.length++),p};Math.imul||(T=k);function M(A,l,h){h.negative=l.negative^A.negative,h.length=A.length+l.length;for(var p=0,y=0,m=0;m<h.length-1;m++){var b=y;y=0;for(var R=p&67108863,v=Math.min(m,l.length-1),f=Math.max(0,m-A.length+1);f<=v;f++){var C=m-f,K=A.words[C]|0,q=l.words[f]|0,G=K*q,oe=G&67108863;b=b+(G/67108864|0)|0,oe=oe+R|0,R=oe&67108863,b=b+(oe>>>26)|0,y+=b>>>26,b&=67108863}h.words[m]=R,p=b,b=y}return p!==0?h.words[m]=p:h.length--,h._strip()}function B(A,l,h){return M(A,l,h)}s.prototype.mulTo=function(l,h){var p,y=this.length+l.length;return this.length===10&&l.length===10?p=T(this,l,h):y<63?p=k(this,l,h):y<1024?p=M(this,l,h):p=B(this,l,h),p},s.prototype.mul=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},s.prototype.mulf=function(l){var h=new s(null);return h.words=new Array(this.length+l.length),B(this,l,h)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var h=l<0;h&&(l=-l),r(typeof l=="number"),r(l<67108864);for(var p=0,y=0;y<this.length;y++){var m=(this.words[y]|0)*l,b=(m&67108863)+(p&67108863);p>>=26,p+=m/67108864|0,p+=b>>>26,this.words[y]=b&67108863}return p!==0&&(this.words[y]=p,this.length++),h?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var h=N(l);if(h.length===0)return new s(1);for(var p=this,y=0;y<h.length&&h[y]===0;y++,p=p.sqr());if(++y<h.length)for(var m=p.sqr();y<h.length;y++,m=m.sqr())h[y]!==0&&(p=p.mul(m));return p},s.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=67108863>>>26-h<<26-h,m;if(h!==0){var b=0;for(m=0;m<this.length;m++){var R=this.words[m]&y,v=(this.words[m]|0)-R<<h;this.words[m]=v|b,b=R>>>26-h}b&&(this.words[m]=b,this.length++)}if(p!==0){for(m=this.length-1;m>=0;m--)this.words[m+p]=this.words[m];for(m=0;m<p;m++)this.words[m]=0;this.length+=p}return this._strip()},s.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,h,p){r(typeof l=="number"&&l>=0);var y;h?y=(h-h%26)/26:y=0;var m=l%26,b=Math.min((l-m)/26,this.length),R=67108863^67108863>>>m<<m,v=p;if(y-=b,y=Math.max(0,y),v){for(var f=0;f<b;f++)v.words[f]=this.words[f];v.length=b}if(b!==0)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(C!==0||f>=y);f--){var K=this.words[f]|0;this.words[f]=C<<26-m|K>>>m,C=K&R}return v&&C!==0&&(v.words[v.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,h,p){return r(this.negative===0),this.iushrn(l,h,p)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return!1;var m=this.words[p];return!!(m&y)},s.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var h=l%26,p=(l-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(h!==0&&p++,this.length=Math.min(p,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,h,p){var y=l.length+p,m;this._expand(y);var b,R=0;for(m=0;m<l.length;m++){b=(this.words[m+p]|0)+R;var v=(l.words[m]|0)*h;b-=v&67108863,R=(b>>26)-(v/67108864|0),this.words[m+p]=b&67108863}for(;m<this.length-p;m++)b=(this.words[m+p]|0)+R,R=b>>26,this.words[m+p]=b&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,m=0;m<this.length;m++)b=-(this.words[m]|0)+R,R=b>>26,this.words[m]=b&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,h){var p=this.length-l.length,y=this.clone(),m=l,b=m.words[m.length-1]|0,R=this._countBits(b);p=26-R,p!==0&&(m=m.ushln(p),y.iushln(p),b=m.words[m.length-1]|0);var v=y.length-m.length,f;if(h!=="mod"){f=new s(null),f.length=v+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=y.clone()._ishlnsubmul(m,1,v);K.negative===0&&(y=K,f&&(f.words[v]=1));for(var q=v-1;q>=0;q--){var G=(y.words[m.length+q]|0)*67108864+(y.words[m.length+q-1]|0);for(G=Math.min(G/b|0,67108863),y._ishlnsubmul(m,G,q);y.negative!==0;)G--,y.negative=0,y._ishlnsubmul(m,1,q),y.isZero()||(y.negative^=1);f&&(f.words[q]=G)}return f&&f._strip(),y._strip(),h!=="div"&&p!==0&&y.iushrn(p),{div:f||null,mod:y}},s.prototype.divmod=function(l,h,p){if(r(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,m,b;return this.negative!==0&&l.negative===0?(b=this.neg().divmod(l,h),h!=="mod"&&(y=b.div.neg()),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.iadd(l)),{div:y,mod:m}):this.negative===0&&l.negative!==0?(b=this.divmod(l.neg(),h),h!=="mod"&&(y=b.div.neg()),{div:y,mod:b.mod}):this.negative&l.negative?(b=this.neg().divmod(l.neg(),h),h!=="div"&&(m=b.mod.neg(),p&&m.negative!==0&&m.isub(l)),{div:b.div,mod:m}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?h==="div"?{div:this.divn(l.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,h)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var p=h.div.negative!==0?h.mod.isub(l):h.mod,y=l.ushrn(1),m=l.andln(1),b=p.cmp(y);return b<0||m===1&&b===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=(1<<26)%l,y=0,m=this.length-1;m>=0;m--)y=(p*y+(this.words[m]|0))%l;return h?-y:y},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var h=l<0;h&&(l=-l),r(l<=67108863);for(var p=0,y=this.length-1;y>=0;y--){var m=(this.words[y]|0)+p*67108864;this.words[y]=m/l|0,p=m%l}return this._strip(),h?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=new s(0),R=new s(1),v=0;h.isEven()&&p.isEven();)h.iushrn(1),p.iushrn(1),++v;for(var f=p.clone(),C=h.clone();!h.isZero();){for(var K=0,q=1;!(h.words[0]&q)&&K<26;++K,q<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(y.isOdd()||m.isOdd())&&(y.iadd(f),m.isub(C)),y.iushrn(1),m.iushrn(1);for(var G=0,oe=1;!(p.words[0]&oe)&&G<26;++G,oe<<=1);if(G>0)for(p.iushrn(G);G-- >0;)(b.isOdd()||R.isOdd())&&(b.iadd(f),R.isub(C)),b.iushrn(1),R.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(b),m.isub(R)):(p.isub(h),b.isub(y),R.isub(m))}return{a:b,b:R,gcd:p.iushln(v)}},s.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var h=this,p=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var y=new s(1),m=new s(0),b=p.clone();h.cmpn(1)>0&&p.cmpn(1)>0;){for(var R=0,v=1;!(h.words[0]&v)&&R<26;++R,v<<=1);if(R>0)for(h.iushrn(R);R-- >0;)y.isOdd()&&y.iadd(b),y.iushrn(1);for(var f=0,C=1;!(p.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(p.iushrn(f);f-- >0;)m.isOdd()&&m.iadd(b),m.iushrn(1);h.cmp(p)>=0?(h.isub(p),y.isub(m)):(p.isub(h),m.isub(y))}var K;return h.cmpn(1)===0?K=y:K=m,K.cmpn(0)<0&&K.iadd(l),K},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),p=l.clone();h.negative=0,p.negative=0;for(var y=0;h.isEven()&&p.isEven();y++)h.iushrn(1),p.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;p.isEven();)p.iushrn(1);var m=h.cmp(p);if(m<0){var b=h;h=p,p=b}else if(m===0||p.cmpn(1)===0)break;h.isub(p)}while(!0);return p.iushln(y)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){r(typeof l=="number");var h=l%26,p=(l-h)/26,y=1<<h;if(this.length<=p)return this._expand(p+1),this.words[p]|=y,this;for(var m=y,b=p;m!==0&&b<this.length;b++){var R=this.words[b]|0;R+=m,m=R>>>26,R&=67108863,this.words[b]=R}return m!==0&&(this.words[b]=m,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var h=l<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var p;if(this.length>1)p=1;else{h&&(l=-l),r(l<=67108863,"Number is too big");var y=this.words[0]|0;p=y===l?0:y<l?-1:1}return this.negative!==0?-p|0:p},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var h=this.ucmp(l);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,p=this.length-1;p>=0;p--){var y=this.words[p]|0,m=l.words[p]|0;if(y!==m){y<m?h=-1:y>m&&(h=1);break}}return h},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new Y(l)},s.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var L={k256:null,p224:null,p192:null,p25519:null};function P(A,l){this.name=A,this.p=new s(l,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},P.prototype.ireduce=function(l){var h=l,p;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),p=h.bitLength();while(p>this.n);var y=p<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},P.prototype.split=function(l,h){l.iushrn(this.n,0,h)},P.prototype.imulK=function(l){return l.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,P),F.prototype.split=function(l,h){for(var p=4194303,y=Math.min(l.length,9),m=0;m<y;m++)h.words[m]=l.words[m];if(h.length=y,l.length<=9){l.words[0]=0,l.length=1;return}var b=l.words[9];for(h.words[h.length++]=b&p,m=10;m<l.length;m++){var R=l.words[m]|0;l.words[m-10]=(R&p)<<4|b>>>22,b=R}b>>>=22,l.words[m-10]=b,b===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,p=0;p<l.length;p++){var y=l.words[p]|0;h+=y*977,l.words[p]=h&67108863,h=y*64+(h/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,P);function J(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,P);function Z(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,P),Z.prototype.imulK=function(l){for(var h=0,p=0;p<l.length;p++){var y=(l.words[p]|0)*19+h,m=y&67108863;y>>>=26,l.words[p]=m,h=y}return h!==0&&(l.words[l.length++]=h),l},s._prime=function(l){if(L[l])return L[l];var h;if(l==="k256")h=new F;else if(l==="p224")h=new U;else if(l==="p192")h=new J;else if(l==="p25519")h=new Z;else throw new Error("Unknown prime "+l);return L[l]=h,h};function Y(A){if(typeof A=="string"){var l=s._prime(A);this.m=l.p,this.prime=l}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}Y.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},Y.prototype._verify2=function(l,h){r((l.negative|h.negative)===0,"red works only with positives"),r(l.red&&l.red===h.red,"red works only with red numbers")},Y.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(d(l,l.umod(this.m)._forceRed(this)),l)},Y.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Y.prototype.add=function(l,h){this._verify2(l,h);var p=l.add(h);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Y.prototype.iadd=function(l,h){this._verify2(l,h);var p=l.iadd(h);return p.cmp(this.m)>=0&&p.isub(this.m),p},Y.prototype.sub=function(l,h){this._verify2(l,h);var p=l.sub(h);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Y.prototype.isub=function(l,h){this._verify2(l,h);var p=l.isub(h);return p.cmpn(0)<0&&p.iadd(this.m),p},Y.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},Y.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},Y.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},Y.prototype.isqr=function(l){return this.imul(l,l.clone())},Y.prototype.sqr=function(l){return this.mul(l,l)},Y.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var p=this.m.add(new s(1)).iushrn(2);return this.pow(l,p)}for(var y=this.m.subn(1),m=0;!y.isZero()&&y.andln(1)===0;)m++,y.iushrn(1);r(!y.isZero());var b=new s(1).toRed(this),R=b.redNeg(),v=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,v).cmp(R)!==0;)f.redIAdd(R);for(var C=this.pow(f,y),K=this.pow(l,y.addn(1).iushrn(1)),q=this.pow(l,y),G=m;q.cmp(b)!==0;){for(var oe=q,ie=0;oe.cmp(b)!==0;ie++)oe=oe.redSqr();r(ie<G);var ue=this.pow(C,new s(1).iushln(G-ie-1));K=K.redMul(ue),C=ue.redSqr(),q=q.redMul(C),G=ie}return K},Y.prototype.invm=function(l){var h=l._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Y.prototype.pow=function(l,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return l.clone();var p=4,y=new Array(1<<p);y[0]=new s(1).toRed(this),y[1]=l;for(var m=2;m<y.length;m++)y[m]=this.mul(y[m-1],l);var b=y[0],R=0,v=0,f=h.bitLength()%26;for(f===0&&(f=26),m=h.length-1;m>=0;m--){for(var C=h.words[m],K=f-1;K>=0;K--){var q=C>>K&1;if(b!==y[0]&&(b=this.sqr(b)),q===0&&R===0){v=0;continue}R<<=1,R|=q,v++,!(v!==p&&(m!==0||K!==0))&&(b=this.mul(b,y[R]),v=0,R=0)}f=26}return b},Y.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},Y.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},s.mont=function(l){return new le(l)};function le(A){Y.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(le,Y),le.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},le.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},le.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var p=l.imul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},le.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new s(0)._forceRed(this);var p=l.mul(h),y=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=p.isub(y).iushrn(this.shift),b=m;return m.cmp(this.m)>=0?b=m.isub(this.m):m.cmpn(0)<0&&(b=m.iadd(this.m)),b._forceRed(this)},le.prototype.invm=function(l){var h=this.imod(l._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Jr)})(q1);var k$=q1.exports;function Gi(t,e,n){return e<=t&&t<=n}function vg(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function T$(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,u=o&1023;i.push(65536+(a<<10)+u),r+=1}else i.push(65533)}r+=1}return i}function R$(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Hd=-1;function W1(t){this.tokens=[].slice.call(t)}W1.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Hd},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Vu=-1;function R0(t,e){if(t)throw TypeError("Decoder error");return e||65533}var qd="utf-8";function Wd(t,e){if(!(this instanceof Wd))return new Wd(t,e);if(t=t!==void 0?String(t).toLowerCase():qd,t!==qd)throw new Error("Encoding not supported. Only utf-8 is supported");e=vg(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Wd.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=vg(n),this._streaming||(this._decoder=new N$({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new W1(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Vu);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Vu)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),R$(s)}};function Kd(t,e){if(!(this instanceof Kd))return new Kd(t,e);if(t=t!==void 0?String(t).toLowerCase():qd,t!==qd)throw new Error("Encoding not supported. Only utf-8 is supported");e=vg(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Kd.prototype={encode:function(e,n){e=e?String(e):"",n=vg(n),this._streaming||(this._encoder=new O$(this._options)),this._streaming=!!n.stream;for(var r=[],i=new W1(T$(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Vu);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Vu;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function N$(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,u){if(u===Hd&&i!==0)return i=0,R0(e);if(u===Hd)return Vu;if(i===0){if(Gi(u,0,127))return u;if(Gi(u,194,223))i=1,n=u-192;else if(Gi(u,224,239))u===224&&(s=160),u===237&&(o=159),i=2,n=u-224;else if(Gi(u,240,244))u===240&&(s=144),u===244&&(o=143),i=3,n=u-240;else return R0(e);return n=n<<6*i,null}if(!Gi(u,s,o))return n=i=r=0,s=128,o=191,a.prepend(u),R0(e);if(s=128,o=191,r+=1,n+=u-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function O$(t){t.fatal,this.handler=function(e,n){if(n===Hd)return Vu;if(Gi(n,0,127))return n;var r,i;Gi(n,128,2047)?(r=1,i=192):Gi(n,2048,65535)?(r=2,i=224):Gi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const L$=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Wd,TextEncoder:Kd},Symbol.toStringTag,{value:"Module"})),D$=kv(L$);var P$=Jr&&Jr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),B$=Jr&&Jr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zi=Jr&&Jr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},F$=Jr&&Jr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&P$(e,t,n);return B$(e,t),e},dk=Jr&&Jr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rn,"__esModule",{value:!0});var pk=Rn.deserializeUnchecked=Sk=Rn.deserialize=wk=Rn.serialize=Rn.BinaryReader=Rn.BinaryWriter=Rn.BorshError=Rn.baseDecode=Rn.baseEncode=void 0;const Rs=dk(k$),gk=dk(fk),$$=F$(D$),U$=typeof TextDecoder!="function"?$$.TextDecoder:TextDecoder,z$=new U$("utf-8",{fatal:!0});function V$(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),gk.default.encode(Buffer.from(t))}Rn.baseEncode=V$;function j$(t){return Buffer.from(gk.default.decode(t))}Rn.baseDecode=j$;const N0=1024;class or extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Rn.BorshError=or;class mk{constructor(){this.buf=Buffer.alloc(N0),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(N0)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Rs.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Rs.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Rs.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Rs.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(N0)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Rn.BinaryWriter=mk;function Vi(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new or("Reached the end of buffer when deserializing")}throw s}}}class $r{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Rs.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Rs.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Rs.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Rs.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new or(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return z$.decode(n)}catch(r){throw new or(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}zi([Vi],$r.prototype,"readU8",null);zi([Vi],$r.prototype,"readU16",null);zi([Vi],$r.prototype,"readU32",null);zi([Vi],$r.prototype,"readU64",null);zi([Vi],$r.prototype,"readU128",null);zi([Vi],$r.prototype,"readU256",null);zi([Vi],$r.prototype,"readU512",null);zi([Vi],$r.prototype,"readString",null);zi([Vi],$r.prototype,"readFixedArray",null);zi([Vi],$r.prototype,"readArray",null);Rn.BinaryReader=$r;function yk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $o(t,e,n,r,i){try{if(typeof r=="string")i[`write${yk(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new or(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new or(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)$o(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{$o(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),$o(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{$o(t,e,o,r.key,i),$o(t,e,s,r.value,i)});break}default:throw new or(`FieldType ${r} unrecognized`)}else vk(t,n,i)}catch(s){throw s instanceof or&&s.addToFieldPath(e),s}}function vk(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new or(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{$o(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),$o(t,o,e[o],a,n);break}}}else throw new or(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function H$(t,e,n=mk){const r=new n;return vk(t,e,r),r.toArray()}var wk=Rn.serialize=H$;function Uo(t,e,n,r){try{if(typeof n=="string")return r[`read${yk(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Uo(t,null,n[0],r));return i}else return r.readArray(()=>Uo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Uo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Uo(t,e,n.key,r),u=Uo(t,e,n.value,r);i.set(a,u)}return i}return K1(t,n,r)}catch(i){throw i instanceof or&&i.addToFieldPath(e),i}}function K1(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new or(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Uo(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new or(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Uo(t,s,o,n);return new e({[s]:a})}throw new or(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function q$(t,e,n,r=$r){const i=new r(n),s=K1(t,e,i);if(i.offset<n.length)throw new or(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var Sk=Rn.deserialize=q$;function W$(t,e,n,r=$r){const i=new r(n);return K1(t,e,i)}pk=Rn.deserializeUnchecked=W$;var W={};Object.defineProperty(W,"__esModule",{value:!0});W.s16=W.s8=W.nu64be=W.u48be=W.u40be=W.u32be=W.u24be=W.u16be=In=W.nu64=W.u48=W.u40=Ie=W.u32=W.u24=Hr=W.u16=_t=W.u8=ea=W.offset=W.greedy=W.Constant=W.UTF8=W.CString=W.Blob=W.Boolean=W.BitField=W.BitStructure=W.VariantLayout=W.Union=W.UnionLayoutDiscriminator=W.UnionDiscriminator=W.Structure=W.Sequence=W.DoubleBE=W.Double=W.FloatBE=W.Float=W.NearInt64BE=W.NearInt64=W.NearUInt64BE=W.NearUInt64=W.IntBE=W.Int=W.UIntBE=W.UInt=W.OffsetLayout=W.GreedyCount=W.ExternalLayout=W.bindConstructorLayout=W.nameWithProperty=W.Layout=W.uint8ArrayToBuffer=W.checkUint8Array=void 0;W.constant=W.utf8=W.cstr=Dt=W.blob=W.unionLayoutDiscriminator=W.union=Xn=W.seq=W.bits=Se=W.struct=W.f64be=W.f64=W.f32be=W.f32=W.ns64be=W.s48be=W.s40be=W.s32be=W.s24be=W.s16be=Ir=W.ns64=W.s48=W.s40=W.s32=W.s24=void 0;const G1=je;function rl(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}W.checkUint8Array=rl;function wt(t){return rl(t),G1.Buffer.from(t.buffer,t.byteOffset,t.length)}W.uint8ArrayToBuffer=wt;class At{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}W.Layout=At;function Q1(t,e){return e.property?t+"["+e.property+"]":t}W.nameWithProperty=Q1;function K$(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof At))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}W.bindConstructorLayout=K$;class pr extends At{isCount(){throw new Error("ExternalLayout is abstract")}}W.ExternalLayout=pr;class Ek extends pr{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){rl(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}W.GreedyCount=Ek;class Y1 extends pr{constructor(e,n=0,r){if(!(e instanceof At))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Xr||this.layout instanceof di}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}W.OffsetLayout=Y1;class Xr extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return wt(n).writeUIntLE(e,r,this.span),this.span}}W.UInt=Xr;class di extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return wt(n).writeUIntBE(e,r,this.span),this.span}}W.UIntBE=di;class Sa extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readIntLE(n,this.span)}encode(e,n,r=0){return wt(n).writeIntLE(e,r,this.span),this.span}}W.Int=Sa;class il extends At{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return wt(e).readIntBE(n,this.span)}encode(e,n,r=0){return wt(n).writeIntBE(e,r,this.span),this.span}}W.IntBE=il;const iv=Math.pow(2,32);function wg(t){const e=Math.floor(t/iv),n=t-e*iv;return{hi32:e,lo32:n}}function Sg(t,e){return t*iv+e}class bk extends At{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return Sg(s,i)}encode(e,n,r=0){const i=wg(e),s=wt(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}W.NearUInt64=bk;class _k extends At{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return Sg(i,s)}encode(e,n,r=0){const i=wg(e),s=wt(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}W.NearUInt64BE=_k;class xk extends At{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return Sg(s,i)}encode(e,n,r=0){const i=wg(e),s=wt(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}W.NearInt64=xk;class Ck extends At{constructor(e){super(8,e)}decode(e,n=0){const r=wt(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return Sg(i,s)}encode(e,n,r=0){const i=wg(e),s=wt(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}W.NearInt64BE=Ck;class Ik extends At{constructor(e){super(4,e)}decode(e,n=0){return wt(e).readFloatLE(n)}encode(e,n,r=0){return wt(n).writeFloatLE(e,r),4}}W.Float=Ik;class Mk extends At{constructor(e){super(4,e)}decode(e,n=0){return wt(e).readFloatBE(n)}encode(e,n,r=0){return wt(n).writeFloatBE(e,r),4}}W.FloatBE=Mk;class Ak extends At{constructor(e){super(8,e)}decode(e,n=0){return wt(e).readDoubleLE(n)}encode(e,n,r=0){return wt(n).writeDoubleLE(e,r),8}}W.Double=Ak;class kk extends At{constructor(e){super(8,e)}decode(e,n=0){return wt(e).readDoubleBE(n)}encode(e,n,r=0){return wt(n).writeDoubleBE(e,r),8}}W.DoubleBE=kk;class Tk extends At{constructor(e,n,r){if(!(e instanceof At))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof pr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof pr)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof pr&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof pr&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof pr&&this.count.encode(e.length,n,r),s}}W.Sequence=Tk;class Rk extends At{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof At,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){rl(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>u&&(u=a.getSpan(n,r)))}s=r,r+=u}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}W.Structure=Rk;class Z1{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}W.UnionDiscriminator=Z1;class Gd extends Z1{constructor(e,n){if(!(e instanceof pr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}W.UnionLayoutDiscriminator=Gd;class X1 extends At{constructor(e,n,r){let i;if(e instanceof Xr||e instanceof di)i=new Gd(new Y1(e));else if(e instanceof pr&&e.isCount())i=new Gd(e);else if(e instanceof Z1)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof At))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Xr||e instanceof di)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Xr||e instanceof di,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+u)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new Nk(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}W.Union=X1;class Nk extends At{constructor(e,n,r,i){if(!(e instanceof X1))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof At))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}W.VariantLayout=Nk;function Oa(t){return 0>t&&(t+=4294967296),t}class J1 extends At{constructor(e,n,r){if(!(e instanceof Xr||e instanceof di))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Oa(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new eS(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Ok(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}W.BitStructure=J1;class eS{constructor(e,n,r){if(!(e instanceof J1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Oa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Oa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Oa(e&this.valueMask))throw new TypeError(Q1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Oa(e<<this.start);this.container._packedSetValue(Oa(n&~this.wordMask)|r)}}W.BitField=eS;let Ok=class extends eS{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};W.Boolean=Ok;class Lk extends At{constructor(e,n){if(!(e instanceof pr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof pr||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),wt(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof pr&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Q1("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=wt(e);return wt(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof pr&&this.length.encode(i,n,r),i}}W.Blob=Lk;class Dk extends At{constructor(e){super(-1,e)}getSpan(e,n=0){rl(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return wt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=G1.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=wt(n);return i.copy(o,r),o[r+s]=0,s+1}}W.CString=Dk;class Pk extends At{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return rl(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return wt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=G1.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(wt(n),r),s}}W.UTF8=Pk;class Bk extends At{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}W.Constant=Bk;W.greedy=(t,e)=>new Ek(t,e);var ea=W.offset=(t,e,n)=>new Y1(t,e,n),_t=W.u8=t=>new Xr(1,t),Hr=W.u16=t=>new Xr(2,t);W.u24=t=>new Xr(3,t);var Ie=W.u32=t=>new Xr(4,t);W.u40=t=>new Xr(5,t);W.u48=t=>new Xr(6,t);var In=W.nu64=t=>new bk(t);W.u16be=t=>new di(2,t);W.u24be=t=>new di(3,t);W.u32be=t=>new di(4,t);W.u40be=t=>new di(5,t);W.u48be=t=>new di(6,t);W.nu64be=t=>new _k(t);W.s8=t=>new Sa(1,t);W.s16=t=>new Sa(2,t);W.s24=t=>new Sa(3,t);W.s32=t=>new Sa(4,t);W.s40=t=>new Sa(5,t);W.s48=t=>new Sa(6,t);var Ir=W.ns64=t=>new xk(t);W.s16be=t=>new il(2,t);W.s24be=t=>new il(3,t);W.s32be=t=>new il(4,t);W.s40be=t=>new il(5,t);W.s48be=t=>new il(6,t);W.ns64be=t=>new Ck(t);W.f32=t=>new Ik(t);W.f32be=t=>new Mk(t);W.f64=t=>new Ak(t);W.f64be=t=>new kk(t);var Se=W.struct=(t,e,n)=>new Rk(t,e,n);W.bits=(t,e,n)=>new J1(t,e,n);var Xn=W.seq=(t,e,n)=>new Tk(t,e,n);W.union=(t,e,n)=>new X1(t,e,n);W.unionLayoutDiscriminator=(t,e)=>new Gd(t,e);var Dt=W.blob=(t,e)=>new Lk(t,e);W.cstr=t=>new Dk(t);W.utf8=(t,e)=>new Pk(t,e);W.constant=(t,e)=>new Bk(t,e);var _f={};Object.defineProperty(_f,"__esModule",{value:!0});function G$(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var Q$=_f.toBigIntLE=G$;function Y$(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}_f.toBigIntBE=Y$;function Z$(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var X$=_f.toBufferLE=Z$;function J$(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}_f.toBufferBE=J$;class e8 extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var u;return(u=r)!=null?u:r=[e,...n()]}}}function t8(t){return Gs(t)&&typeof t[Symbol.iterator]=="function"}function Gs(t){return typeof t=="object"&&t!=null}function vi(t){return typeof t=="string"?JSON.stringify(t):""+t}function n8(t){const{done:e,value:n}=t.next();return e?void 0:n}function r8(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+vi(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*p_(t,e,n,r){t8(t)||(t=[t]);for(const i of t){const s=r8(i,e,n,r);s&&(yield s)}}function*tS(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Gs(e.schema)&&Gs(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let u=!0;for(const c of e.validator(t,a))u=!1,yield[c,void 0];for(let[c,d,g]of e.entries(t,a)){const S=tS(d,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:s,mask:o});for(const w of S)w[0]?(u=!1,yield[w[0],void 0]):s&&(d=w[1],c===void 0?t=d:t instanceof Map?t.set(c,d):t instanceof Set?t.add(d):Gs(t)&&(t[c]=d))}if(u)for(const c of e.refiner(t,a))u=!1,yield[c,void 0];u&&(yield[void 0,t])}let ji=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(u,c)=>{const d=i(u,c);return p_(d,c,this,u)}:this.validator=()=>[],s?this.refiner=(u,c)=>{const d=s(u,c);return p_(d,c,this,u)}:this.refiner=()=>[]}assert(e){return i8(e,this)}create(e){return se(e,this)}is(e){return Fk(e,this)}mask(e){return s8(e,this)}validate(e,n={}){return xf(e,this,n)}};function i8(t,e){const n=xf(t,e);if(n[0])throw n[0]}function se(t,e){const n=xf(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function s8(t,e){const n=xf(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Fk(t,e){return!xf(t,e)[0]}function xf(t,e,n={}){const r=tS(t,e,n),i=n8(r);return i[0]?[new e8(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ea(t,e){return new ji({type:t,schema:null,validator:e})}function o8(){return Ea("any",()=>!0)}function ce(t){return new ji({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+vi(e)}})}function fs(){return Ea("boolean",t=>typeof t=="boolean")}function nS(t){return Ea("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+vi(e))}function qt(t){const e=vi(t),n=typeof t;return new ji({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+vi(r)}})}function a8(){return Ea("never",()=>!1)}function fe(t){return new ji({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return Ea("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+vi(t))}function Ae(t){return new ji({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function $k(t,e){return new ji({type:"record",schema:null,*entries(n){if(Gs(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Gs(n)||"Expected an object, but received: "+vi(n)}})}function re(){return Ea("string",t=>typeof t=="string"||"Expected a string, but received: "+vi(t))}function rS(t){const e=a8();return new ji({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+vi(n)}})}function ee(t){const e=Object.keys(t);return new ji({type:"type",schema:t,*entries(n){if(Gs(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Gs(n)||"Expected an object, but received: "+vi(n)}})}function Er(t){const e=t.map(n=>n.type).join(" | ");return new ji({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=tS(n,s,r),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+vi(n),...i]}})}function Cf(){return Ea("unknown",()=>!0)}function If(t,e,n){return new ji({...t,coercer:(r,i)=>Fk(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var uh,u8=new Uint8Array(16);function Uk(){if(!uh&&(uh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uh(u8)}const l8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Eg(t){return typeof t=="string"&&l8.test(t)}var Cn=[];for(var O0=0;O0<256;++O0)Cn.push((O0+256).toString(16).substr(1));function bg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Cn[t[e+0]]+Cn[t[e+1]]+Cn[t[e+2]]+Cn[t[e+3]]+"-"+Cn[t[e+4]]+Cn[t[e+5]]+"-"+Cn[t[e+6]]+Cn[t[e+7]]+"-"+Cn[t[e+8]]+Cn[t[e+9]]+"-"+Cn[t[e+10]]+Cn[t[e+11]]+Cn[t[e+12]]+Cn[t[e+13]]+Cn[t[e+14]]+Cn[t[e+15]]).toLowerCase();if(!Eg(n))throw TypeError("Stringified UUID is invalid");return n}var g_,L0,D0=0,P0=0;function c8(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||g_,o=t.clockseq!==void 0?t.clockseq:L0;if(s==null||o==null){var a=t.random||(t.rng||Uk)();s==null&&(s=g_=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=L0=(a[6]<<8|a[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:P0+1,d=u-D0+(c-P0)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||u>D0)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");D0=u,P0=c,L0=o,u+=122192928e5;var g=((u&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var S=u/4294967296*1e4&268435455;i[r++]=S>>>8&255,i[r++]=S&255,i[r++]=S>>>24&15|16,i[r++]=S>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var w=0;w<6;++w)i[r+w]=s[w];return e||bg(i)}function zk(t){if(!Eg(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function f8(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var h8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",d8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Vk(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=f8(i)),typeof s=="string"&&(s=zk(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(s),u.set(i,s.length),u=n(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=u[c];return o}return bg(u)}try{r.name=t}catch{}return r.DNS=h8,r.URL=d8,r}function p8(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return g8(m8(y8(t),t.length*8))}function g8(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function jk(t){return(t+64>>>9<<4)+14+1}function m8(t,e){t[e>>5]|=128<<e%32,t[jk(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,u=r,c=i,d=s;n=zn(n,r,i,s,t[o],7,-680876936),s=zn(s,n,r,i,t[o+1],12,-389564586),i=zn(i,s,n,r,t[o+2],17,606105819),r=zn(r,i,s,n,t[o+3],22,-1044525330),n=zn(n,r,i,s,t[o+4],7,-176418897),s=zn(s,n,r,i,t[o+5],12,1200080426),i=zn(i,s,n,r,t[o+6],17,-1473231341),r=zn(r,i,s,n,t[o+7],22,-45705983),n=zn(n,r,i,s,t[o+8],7,1770035416),s=zn(s,n,r,i,t[o+9],12,-1958414417),i=zn(i,s,n,r,t[o+10],17,-42063),r=zn(r,i,s,n,t[o+11],22,-1990404162),n=zn(n,r,i,s,t[o+12],7,1804603682),s=zn(s,n,r,i,t[o+13],12,-40341101),i=zn(i,s,n,r,t[o+14],17,-1502002290),r=zn(r,i,s,n,t[o+15],22,1236535329),n=Vn(n,r,i,s,t[o+1],5,-165796510),s=Vn(s,n,r,i,t[o+6],9,-1069501632),i=Vn(i,s,n,r,t[o+11],14,643717713),r=Vn(r,i,s,n,t[o],20,-373897302),n=Vn(n,r,i,s,t[o+5],5,-701558691),s=Vn(s,n,r,i,t[o+10],9,38016083),i=Vn(i,s,n,r,t[o+15],14,-660478335),r=Vn(r,i,s,n,t[o+4],20,-405537848),n=Vn(n,r,i,s,t[o+9],5,568446438),s=Vn(s,n,r,i,t[o+14],9,-1019803690),i=Vn(i,s,n,r,t[o+3],14,-187363961),r=Vn(r,i,s,n,t[o+8],20,1163531501),n=Vn(n,r,i,s,t[o+13],5,-1444681467),s=Vn(s,n,r,i,t[o+2],9,-51403784),i=Vn(i,s,n,r,t[o+7],14,1735328473),r=Vn(r,i,s,n,t[o+12],20,-1926607734),n=jn(n,r,i,s,t[o+5],4,-378558),s=jn(s,n,r,i,t[o+8],11,-2022574463),i=jn(i,s,n,r,t[o+11],16,1839030562),r=jn(r,i,s,n,t[o+14],23,-35309556),n=jn(n,r,i,s,t[o+1],4,-1530992060),s=jn(s,n,r,i,t[o+4],11,1272893353),i=jn(i,s,n,r,t[o+7],16,-155497632),r=jn(r,i,s,n,t[o+10],23,-1094730640),n=jn(n,r,i,s,t[o+13],4,681279174),s=jn(s,n,r,i,t[o],11,-358537222),i=jn(i,s,n,r,t[o+3],16,-722521979),r=jn(r,i,s,n,t[o+6],23,76029189),n=jn(n,r,i,s,t[o+9],4,-640364487),s=jn(s,n,r,i,t[o+12],11,-421815835),i=jn(i,s,n,r,t[o+15],16,530742520),r=jn(r,i,s,n,t[o+2],23,-995338651),n=Hn(n,r,i,s,t[o],6,-198630844),s=Hn(s,n,r,i,t[o+7],10,1126891415),i=Hn(i,s,n,r,t[o+14],15,-1416354905),r=Hn(r,i,s,n,t[o+5],21,-57434055),n=Hn(n,r,i,s,t[o+12],6,1700485571),s=Hn(s,n,r,i,t[o+3],10,-1894986606),i=Hn(i,s,n,r,t[o+10],15,-1051523),r=Hn(r,i,s,n,t[o+1],21,-2054922799),n=Hn(n,r,i,s,t[o+8],6,1873313359),s=Hn(s,n,r,i,t[o+15],10,-30611744),i=Hn(i,s,n,r,t[o+6],15,-1560198380),r=Hn(r,i,s,n,t[o+13],21,1309151649),n=Hn(n,r,i,s,t[o+4],6,-145523070),s=Hn(s,n,r,i,t[o+11],10,-1120210379),i=Hn(i,s,n,r,t[o+2],15,718787259),r=Hn(r,i,s,n,t[o+9],21,-343485551),n=Ns(n,a),r=Ns(r,u),i=Ns(i,c),s=Ns(s,d)}return[n,r,i,s]}function y8(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(jk(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Ns(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function v8(t,e){return t<<e|t>>>32-e}function _g(t,e,n,r,i,s){return Ns(v8(Ns(Ns(e,t),Ns(r,s)),i),n)}function zn(t,e,n,r,i,s,o){return _g(e&n|~e&r,t,e,i,s,o)}function Vn(t,e,n,r,i,s,o){return _g(e&r|n&~r,t,e,i,s,o)}function jn(t,e,n,r,i,s,o){return _g(e^n^r,t,e,i,s,o)}function Hn(t,e,n,r,i,s,o){return _g(n^(e|~r),t,e,i,s,o)}var w8=Vk("v3",48,p8);const S8=w8;function E8(t,e,n){t=t||{};var r=t.random||(t.rng||Uk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return bg(r)}function b8(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function B0(t,e){return t<<e|t>>>32-e}function _8(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),u=0;u<o;++u){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=t[u*64+d*4]<<24|t[u*64+d*4+1]<<16|t[u*64+d*4+2]<<8|t[u*64+d*4+3];a[u]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<o;++g){for(var S=new Uint32Array(80),w=0;w<16;++w)S[w]=a[g][w];for(var I=16;I<80;++I)S[I]=B0(S[I-3]^S[I-8]^S[I-14]^S[I-16],1);for(var x=n[0],N=n[1],k=n[2],T=n[3],M=n[4],B=0;B<80;++B){var L=Math.floor(B/20),P=B0(x,5)+b8(L,N,k,T)+M+e[L]+S[B]>>>0;M=T,T=k,k=B0(N,30)>>>0,N=x,x=P}n[0]=n[0]+x>>>0,n[1]=n[1]+N>>>0,n[2]=n[2]+k>>>0,n[3]=n[3]+T>>>0,n[4]=n[4]+M>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var x8=Vk("v5",80,_8);const C8=x8,I8="00000000-0000-0000-0000-000000000000";function M8(t){if(!Eg(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const A8=Object.freeze(Object.defineProperty({__proto__:null,NIL:I8,parse:zk,stringify:bg,v1:c8,v3:S8,v4:E8,v5:C8,validate:Eg,version:M8},Symbol.toStringTag,{value:"Module"})),Hk=kv(A8),k8=Hk.v4,T8=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return k8()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var R8=T8;const N8=Hk.v4,O8=R8,Vc=function(t,e){if(!(this instanceof Vc))return new Vc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return N8()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var L8=Vc;Vc.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=O8(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(d){if(c)return r(d);throw d}if(!c)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(u,function(c,d){i._parseResponse(c,d,r)}),s};Vc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const D8=ds(L8);var qk={},Wk={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Wk);var Kk=Wk.exports,F0={exports:{}},$0={exports:{}},m_;function Mf(){return m_||(m_=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}($0)),$0.exports}var y_;function P8(){return y_||(y_=1,function(t){var e=Mf().default;function n(){t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},i=Object.prototype,s=i.hasOwnProperty,o=Object.defineProperty||function(h,p,y){h[p]=y.value},a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function g(h,p,y){return Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}),h[p]}try{g({},"")}catch{g=function(y,m,b){return y[m]=b}}function S(h,p,y,m){var b=p&&p.prototype instanceof x?p:x,R=Object.create(b.prototype),v=new le(m||[]);return o(R,"_invoke",{value:U(h,y,v)}),R}function w(h,p,y){try{return{type:"normal",arg:h.call(p,y)}}catch(m){return{type:"throw",arg:m}}}r.wrap=S;var I={};function x(){}function N(){}function k(){}var T={};g(T,u,function(){return this});var M=Object.getPrototypeOf,B=M&&M(M(A([])));B&&B!==i&&s.call(B,u)&&(T=B);var L=k.prototype=x.prototype=Object.create(T);function P(h){["next","throw","return"].forEach(function(p){g(h,p,function(y){return this._invoke(p,y)})})}function F(h,p){function y(b,R,v,f){var C=w(h[b],h,R);if(C.type!=="throw"){var K=C.arg,q=K.value;return q&&e(q)=="object"&&s.call(q,"__await")?p.resolve(q.__await).then(function(G){y("next",G,v,f)},function(G){y("throw",G,v,f)}):p.resolve(q).then(function(G){K.value=G,v(K)},function(G){return y("throw",G,v,f)})}f(C.arg)}var m;o(this,"_invoke",{value:function(R,v){function f(){return new p(function(C,K){y(R,v,C,K)})}return m=m?m.then(f,f):f()}})}function U(h,p,y){var m="suspendedStart";return function(b,R){if(m==="executing")throw new Error("Generator is already running");if(m==="completed"){if(b==="throw")throw R;return l()}for(y.method=b,y.arg=R;;){var v=y.delegate;if(v){var f=J(v,y);if(f){if(f===I)continue;return f}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(m==="suspendedStart")throw m="completed",y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);m="executing";var C=w(h,p,y);if(C.type==="normal"){if(m=y.done?"completed":"suspendedYield",C.arg===I)continue;return{value:C.arg,done:y.done}}C.type==="throw"&&(m="completed",y.method="throw",y.arg=C.arg)}}}function J(h,p){var y=p.method,m=h.iterator[y];if(m===void 0)return p.delegate=null,y==="throw"&&h.iterator.return&&(p.method="return",p.arg=void 0,J(h,p),p.method==="throw")||y!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+y+"' method")),I;var b=w(m,h.iterator,p.arg);if(b.type==="throw")return p.method="throw",p.arg=b.arg,p.delegate=null,I;var R=b.arg;return R?R.done?(p[h.resultName]=R.value,p.next=h.nextLoc,p.method!=="return"&&(p.method="next",p.arg=void 0),p.delegate=null,I):R:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,I)}function Z(h){var p={tryLoc:h[0]};1 in h&&(p.catchLoc=h[1]),2 in h&&(p.finallyLoc=h[2],p.afterLoc=h[3]),this.tryEntries.push(p)}function Y(h){var p=h.completion||{};p.type="normal",delete p.arg,h.completion=p}function le(h){this.tryEntries=[{tryLoc:"root"}],h.forEach(Z,this),this.reset(!0)}function A(h){if(h){var p=h[u];if(p)return p.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length)){var y=-1,m=function b(){for(;++y<h.length;)if(s.call(h,y))return b.value=h[y],b.done=!1,b;return b.value=void 0,b.done=!0,b};return m.next=m}}return{next:l}}function l(){return{value:void 0,done:!0}}return N.prototype=k,o(L,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:N,configurable:!0}),N.displayName=g(k,d,"GeneratorFunction"),r.isGeneratorFunction=function(h){var p=typeof h=="function"&&h.constructor;return!!p&&(p===N||(p.displayName||p.name)==="GeneratorFunction")},r.mark=function(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,k):(h.__proto__=k,g(h,d,"GeneratorFunction")),h.prototype=Object.create(L),h},r.awrap=function(h){return{__await:h}},P(F.prototype),g(F.prototype,c,function(){return this}),r.AsyncIterator=F,r.async=function(h,p,y,m,b){b===void 0&&(b=Promise);var R=new F(S(h,p,y,m),b);return r.isGeneratorFunction(p)?R:R.next().then(function(v){return v.done?v.value:R.next()})},P(L),g(L,d,"Generator"),g(L,u,function(){return this}),g(L,"toString",function(){return"[object Generator]"}),r.keys=function(h){var p=Object(h),y=[];for(var m in p)y.push(m);return y.reverse(),function b(){for(;y.length;){var R=y.pop();if(R in p)return b.value=R,b.done=!1,b}return b.done=!0,b}},r.values=A,le.prototype={constructor:le,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Y),!p)for(var y in this)y.charAt(0)==="t"&&s.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var y=this;function m(K,q){return v.type="throw",v.arg=p,y.next=K,q&&(y.method="next",y.arg=void 0),!!q}for(var b=this.tryEntries.length-1;b>=0;--b){var R=this.tryEntries[b],v=R.completion;if(R.tryLoc==="root")return m("end");if(R.tryLoc<=this.prev){var f=s.call(R,"catchLoc"),C=s.call(R,"finallyLoc");if(f&&C){if(this.prev<R.catchLoc)return m(R.catchLoc,!0);if(this.prev<R.finallyLoc)return m(R.finallyLoc)}else if(f){if(this.prev<R.catchLoc)return m(R.catchLoc,!0)}else{if(!C)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return m(R.finallyLoc)}}}},abrupt:function(p,y){for(var m=this.tryEntries.length-1;m>=0;--m){var b=this.tryEntries[m];if(b.tryLoc<=this.prev&&s.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var R=b;break}}R&&(p==="break"||p==="continue")&&R.tryLoc<=y&&y<=R.finallyLoc&&(R=null);var v=R?R.completion:{};return v.type=p,v.arg=y,R?(this.method="next",this.next=R.finallyLoc,I):this.complete(v)},complete:function(p,y){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&y&&(this.next=y),I},finish:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var m=this.tryEntries[y];if(m.finallyLoc===p)return this.complete(m.completion,m.afterLoc),Y(m),I}},catch:function(p){for(var y=this.tryEntries.length-1;y>=0;--y){var m=this.tryEntries[y];if(m.tryLoc===p){var b=m.completion;if(b.type==="throw"){var R=b.arg;Y(m)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(p,y,m){return this.delegate={iterator:A(p),resultName:y,nextLoc:m},this.method==="next"&&(this.arg=void 0),I}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(F0)),F0.exports}var U0,v_;function B8(){if(v_)return U0;v_=1;var t=P8()();U0=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return U0}var z0={exports:{}},w_;function F8(){return w_||(w_=1,function(t){function e(r,i,s,o,a,u,c){try{var d=r[u](c),g=d.value}catch(S){s(S);return}d.done?i(g):Promise.resolve(g).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var u=r.apply(i,s);function c(g){e(u,o,a,c,d,"next",g)}function d(g){e(u,o,a,c,d,"throw",g)}c(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(z0)),z0.exports}var V0={exports:{}},S_;function Gk(){return S_||(S_=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(V0)),V0.exports}var j0={exports:{}},H0={exports:{}},q0={exports:{}},E_;function $8(){return E_||(E_=1,function(t){var e=Mf().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(q0)),q0.exports}var b_;function U8(){return b_||(b_=1,function(t){var e=Mf().default,n=$8();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(H0)),H0.exports}var __;function Qk(){return __||(__=1,function(t){var e=U8();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(j0)),j0.exports}var W0={exports:{}},K0={exports:{}},x_;function z8(){return x_||(x_=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(K0)),K0.exports}var C_;function Yk(){return C_||(C_=1,function(t){var e=z8();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(W0)),W0.exports}var G0={exports:{}},Q0={exports:{}},I_;function V8(){return I_||(I_=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Q0)),Q0.exports}var M_;function Zk(){return M_||(M_=1,function(t){var e=Mf().default,n=V8();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(G0)),G0.exports}var Y0={exports:{}},A_;function Xk(){return A_||(A_=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Y0)),Y0.exports}var Z0={exports:{}},k_;function iS(){return k_||(k_=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,g,S){if(typeof d!="function")throw new TypeError("The listener must be a function");var w=new i(d,g||u,S),I=n?n+c:c;return u._events[I]?u._events[I].fn?u._events[I]=[u._events[I],w]:u._events[I].push(w):(u._events[I]=w,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,g;if(this._eventsCount===0)return c;for(g in d=this._events)e.call(d,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var S=0,w=g.length,I=new Array(w);S<w;S++)I[S]=g[S].fn;return I},a.prototype.listenerCount=function(c){var d=n?n+c:c,g=this._events[d];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,d,g,S,w,I){var x=n?n+c:c;if(!this._events[x])return!1;var N=this._events[x],k=arguments.length,T,M;if(N.fn){switch(N.once&&this.removeListener(c,N.fn,void 0,!0),k){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,d),!0;case 3:return N.fn.call(N.context,d,g),!0;case 4:return N.fn.call(N.context,d,g,S),!0;case 5:return N.fn.call(N.context,d,g,S,w),!0;case 6:return N.fn.call(N.context,d,g,S,w,I),!0}for(M=1,T=new Array(k-1);M<k;M++)T[M-1]=arguments[M];N.fn.apply(N.context,T)}else{var B=N.length,L;for(M=0;M<B;M++)switch(N[M].once&&this.removeListener(c,N[M].fn,void 0,!0),k){case 1:N[M].fn.call(N[M].context);break;case 2:N[M].fn.call(N[M].context,d);break;case 3:N[M].fn.call(N[M].context,d,g);break;case 4:N[M].fn.call(N[M].context,d,g,S);break;default:if(!T)for(L=1,T=new Array(k-1);L<k;L++)T[L-1]=arguments[L];N[M].fn.apply(N[M].context,T)}}return!0},a.prototype.on=function(c,d,g){return s(this,c,d,g,!1)},a.prototype.once=function(c,d,g){return s(this,c,d,g,!0)},a.prototype.removeListener=function(c,d,g,S){var w=n?n+c:c;if(!this._events[w])return this;if(!d)return o(this,w),this;var I=this._events[w];if(I.fn)I.fn===d&&(!S||I.once)&&(!g||I.context===g)&&o(this,w);else{for(var x=0,N=[],k=I.length;x<k;x++)(I[x].fn!==d||S&&!I[x].once||g&&I[x].context!==g)&&N.push(I[x]);N.length?this._events[w]=N.length===1?N[0]:N:o(this,w)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Z0)),Z0.exports}(function(t){var e=Kk;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(B8()),r=e(F8()),i=e(Mf()),s=e(Gk()),o=e(Qk()),a=e(Yk()),u=e(Zk()),c=e(Xk()),d=iS();function g(x){var N=S();return function(){var T=(0,c.default)(x),M;if(N){var B=(0,c.default)(this).constructor;M=Reflect.construct(T,arguments,B)}else M=T.apply(this,arguments);return(0,u.default)(this,M)}}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var w=function(x,N){var k={};for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&N.indexOf(T)<0&&(k[T]=x[T]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,T=Object.getOwnPropertySymbols(x);M<T.length;M++)N.indexOf(T[M])<0&&Object.prototype.propertyIsEnumerable.call(x,T[M])&&(k[T[M]]=x[T[M]]);return k},I=function(x){(0,a.default)(k,x);var N=g(k);function k(T){var M,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,k);var F=L.autoconnect,U=F===void 0?!0:F,J=L.reconnect,Z=J===void 0?!0:J,Y=L.reconnect_interval,le=Y===void 0?1e3:Y,A=L.max_reconnects,l=A===void 0?5:A,h=w(L,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return M=N.call(this),M.webSocketFactory=T,M.queue={},M.rpc_id=0,M.address=B,M.autoconnect=U,M.ready=!1,M.reconnect=Z,M.reconnect_timer_id=void 0,M.reconnect_interval=le,M.max_reconnects=l,M.rest_options=h,M.current_reconnects=0,M.generate_request_id=P||function(){return++M.rpc_id},M.autoconnect&&M._connect(M.address,Object.assign({autoconnect:M.autoconnect,reconnect:M.reconnect,reconnect_interval:M.reconnect_interval,max_reconnects:M.max_reconnects},M.rest_options)),M}return(0,o.default)(k,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(M,B,L,P){var F=this;return!P&&(0,i.default)(L)==="object"&&(P=L,L=null),new Promise(function(U,J){if(!F.ready)return J(new Error("socket not ready"));var Z=F.generate_request_id(M,B),Y={jsonrpc:"2.0",method:M,params:B||null,id:Z};F.socket.send(JSON.stringify(Y),P,function(le){if(le)return J(le);F.queue[Z]={promise:[U,J]},L&&(F.queue[Z].timeout=setTimeout(function(){delete F.queue[Z],J(new Error("reply timeout"))},L))})})}},{key:"login",value:function(){var T=(0,r.default)(n.default.mark(function B(L){var P;return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,this.call("rpc.login",L);case 2:if(P=U.sent,P){U.next=5;break}throw new Error("authentication failed");case 5:return U.abrupt("return",P);case 6:case"end":return U.stop()}},B,this)}));function M(B){return T.apply(this,arguments)}return M}()},{key:"listMethods",value:function(){var T=(0,r.default)(n.default.mark(function B(){return n.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.call("__listMethods");case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},B,this)}));function M(){return T.apply(this,arguments)}return M}()},{key:"notify",value:function(M,B){var L=this;return new Promise(function(P,F){if(!L.ready)return F(new Error("socket not ready"));var U={jsonrpc:"2.0",method:M,params:B||null};L.socket.send(JSON.stringify(U),function(J){if(J)return F(J);P()})})}},{key:"subscribe",value:function(){var T=(0,r.default)(n.default.mark(function B(L){var P;return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return typeof L=="string"&&(L=[L]),U.next=3,this.call("rpc.on",L);case 3:if(P=U.sent,!(typeof L=="string"&&P[L]!=="ok")){U.next=6;break}throw new Error("Failed subscribing to an event '"+L+"' with: "+P[L]);case 6:return U.abrupt("return",P);case 7:case"end":return U.stop()}},B,this)}));function M(B){return T.apply(this,arguments)}return M}()},{key:"unsubscribe",value:function(){var T=(0,r.default)(n.default.mark(function B(L){var P;return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return typeof L=="string"&&(L=[L]),U.next=3,this.call("rpc.off",L);case 3:if(P=U.sent,!(typeof L=="string"&&P[L]!=="ok")){U.next=6;break}throw new Error("Failed unsubscribing from an event with: "+P);case 6:return U.abrupt("return",P);case 7:case"end":return U.stop()}},B,this)}));function M(B){return T.apply(this,arguments)}return M}()},{key:"close",value:function(M,B){this.socket.close(M||1e3,B)}},{key:"_connect",value:function(M,B){var L=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(M,B),this.socket.addEventListener("open",function(){L.ready=!0,L.emit("open"),L.current_reconnects=0}),this.socket.addEventListener("message",function(P){var F=P.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&L.listeners(F.notification).length){if(!Object.keys(F.params).length)return L.emit(F.notification);var U=[F.notification];if(F.params.constructor===Object)U.push(F.params);else for(var J=0;J<F.params.length;J++)U.push(F.params[J]);return Promise.resolve().then(function(){L.emit.apply(L,U)})}if(!L.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){L.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&L.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),L.queue[F.id].timeout&&clearTimeout(L.queue[F.id].timeout),F.error?L.queue[F.id].promise[1](F.error):L.queue[F.id].promise[0](F.result),delete L.queue[F.id]}),this.socket.addEventListener("error",function(P){return L.emit("error",P)}),this.socket.addEventListener("close",function(P){var F=P.code,U=P.reason;L.ready&&setTimeout(function(){return L.emit("close",F,U)},0),L.ready=!1,L.socket=void 0,F!==1e3&&(L.current_reconnects++,L.reconnect&&(L.max_reconnects>L.current_reconnects||L.max_reconnects===0)&&(L.reconnect_timer_id=setTimeout(function(){return L._connect(M,B)},L.reconnect_interval)))})}}]),k}(d.EventEmitter);t.default=I})(qk);const j8=ds(qk);var Jk={};(function(t){var e=Kk;Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var n=e(Gk()),r=e(Qk()),i=e(Yk()),s=e(Zk()),o=e(Xk()),a=iS();function u(S){var w=c();return function(){var x=(0,o.default)(S),N;if(w){var k=(0,o.default)(this).constructor;N=Reflect.construct(x,arguments,k)}else N=x.apply(this,arguments);return(0,s.default)(this,N)}}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var d=function(S){(0,i.default)(I,S);var w=u(I);function I(x,N,k){var T;return(0,n.default)(this,I),T=w.call(this),T.socket=new window.WebSocket(x,k),T.socket.onopen=function(){return T.emit("open")},T.socket.onmessage=function(M){return T.emit("message",M.data)},T.socket.onerror=function(M){return T.emit("error",M)},T.socket.onclose=function(M){T.emit("close",M.code,M.reason)},T}return(0,r.default)(I,[{key:"send",value:function(N,k,T){var M=T||k;try{this.socket.send(N),M()}catch(B){M(B)}}},{key:"close",value:function(N,k){this.socket.close(N,k)}},{key:"addEventListener",value:function(N,k,T){this.socket.addEventListener(N,k,T)}}]),I}(a.EventEmitter);function g(S,w){return new d(S,w)}})(Jk);const H8=ds(Jk),[eT,tT,nT]=[[],[],[]],q8=BigInt(0),Il=BigInt(1),W8=BigInt(2),K8=BigInt(7),G8=BigInt(256),Q8=BigInt(113);for(let t=0,e=Il,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],eT.push(2*(5*r+n)),tT.push((t+1)*(t+2)/2%64);let i=q8;for(let s=0;s<7;s++)e=(e<<Il^(e>>K8)*Q8)%G8,e&W8&&(i^=Il<<(Il<<BigInt(s))-Il);nT.push(i)}const[Y8,Z8]=Ue.split(nT,!0),T_=(t,e,n)=>n>32?Ue.rotlBH(t,e,n):Ue.rotlSH(t,e,n),R_=(t,e,n)=>n>32?Ue.rotlBL(t,e,n):Ue.rotlSL(t,e,n);function X8(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,c=n[u],d=n[u+1],g=T_(c,d,1)^n[a],S=R_(c,d,1)^n[a+1];for(let w=0;w<50;w+=10)t[o+w]^=g,t[o+w+1]^=S}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=tT[o],u=T_(i,s,a),c=R_(i,s,a),d=eT[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Y8[r],t[1]^=Z8[r]}n.fill(0)}class xg extends P1{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=uF(this.state)}keccak(){X8(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){kr.exists(this);const{blockLen:n,state:r}=this;e=bf(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){kr.exists(this,!1),kr.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new xg(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const ho=(t,e,n)=>wa(()=>new xg(e,t,n));ho(6,144,224/8);ho(6,136,256/8);ho(6,104,384/8);ho(6,72,512/8);ho(1,144,224/8);ho(1,136,256/8);ho(1,104,384/8);ho(1,72,512/8);const rT=(t,e,n)=>cF((r={})=>new xg(e,t,r.dkLen===void 0?n:r.dkLen,!0));rT(31,168,128/8);rT(31,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function J8(t){const e=U1(t);nl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:eU,hexToBytes:tU}=KF,Go={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Go;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:eU(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Go,n=typeof t=="string"?tU(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Go._parseInt(n.subarray(2)),{d:o,l:a}=Go._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const d=c.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),u=n(o);return`30${n(o+s+4)}02${u}${i}02${a}${r}`}},Qi=BigInt(0),jr=BigInt(1);BigInt(2);const N_=BigInt(3);BigInt(4);function nU(t){const e=J8(t),{Fp:n}=e,r=e.toBytes||((I,x,N)=>{const k=x.toAffine();return ha(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),i=e.fromBytes||(I=>{const x=I.subarray(1),N=n.fromBytes(x.subarray(0,n.BYTES)),k=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:N,y:k}});function s(I){const{a:x,b:N}=e,k=n.sqr(I),T=n.mul(k,I);return n.add(n.add(T,n.mul(I,x)),N)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(I){return typeof I=="bigint"&&Qi<I&&I<e.n}function a(I){if(!o(I))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(I){const{allowedPrivateKeyLengths:x,nByteLength:N,wrapPrivateKey:k,n:T}=e;if(x&&typeof I!="bigint"){if(I instanceof Uint8Array&&(I=fa(I)),typeof I!="string"||!x.includes(I.length))throw new Error("Invalid key");I=I.padStart(N*2,"0")}let M;try{M=typeof I=="bigint"?I:Jo(an("private key",I,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof I}`)}return k&&(M=Ut(M,T)),a(M),M}const c=new Map;function d(I){if(!(I instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(x,N,k){if(this.px=x,this.py=N,this.pz=k,x==null||!n.isValid(x))throw new Error("x required");if(N==null||!n.isValid(N))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required")}static fromAffine(x){const{x:N,y:k}=x||{};if(!x||!n.isValid(N)||!n.isValid(k))throw new Error("invalid affine point");if(x instanceof g)throw new Error("projective point not allowed");const T=M=>n.eql(M,n.ZERO);return T(N)&&T(k)?g.ZERO:new g(N,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const N=n.invertBatch(x.map(k=>k.pz));return x.map((k,T)=>k.toAffine(N[T])).map(g.fromAffine)}static fromHex(x){const N=g.fromAffine(i(an("pointHex",x)));return N.assertValidity(),N}static fromPrivateKey(x){return g.BASE.multiply(u(x))}_setWindowSize(x){this._WINDOW_SIZE=x,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x,y:N}=this.toAffine();if(!n.isValid(x)||!n.isValid(N))throw new Error("bad point: x or y not FE");const k=n.sqr(N),T=s(x);if(!n.eql(k,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:N,py:k,pz:T}=this,{px:M,py:B,pz:L}=x,P=n.eql(n.mul(N,L),n.mul(M,T)),F=n.eql(n.mul(k,L),n.mul(B,T));return P&&F}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:N}=e,k=n.mul(N,N_),{px:T,py:M,pz:B}=this;let L=n.ZERO,P=n.ZERO,F=n.ZERO,U=n.mul(T,T),J=n.mul(M,M),Z=n.mul(B,B),Y=n.mul(T,M);return Y=n.add(Y,Y),F=n.mul(T,B),F=n.add(F,F),L=n.mul(x,F),P=n.mul(k,Z),P=n.add(L,P),L=n.sub(J,P),P=n.add(J,P),P=n.mul(L,P),L=n.mul(Y,L),F=n.mul(k,F),Z=n.mul(x,Z),Y=n.sub(U,Z),Y=n.mul(x,Y),Y=n.add(Y,F),F=n.add(U,U),U=n.add(F,U),U=n.add(U,Z),U=n.mul(U,Y),P=n.add(P,U),Z=n.mul(M,B),Z=n.add(Z,Z),U=n.mul(Z,Y),L=n.sub(L,U),F=n.mul(Z,J),F=n.add(F,F),F=n.add(F,F),new g(L,P,F)}add(x){d(x);const{px:N,py:k,pz:T}=this,{px:M,py:B,pz:L}=x;let P=n.ZERO,F=n.ZERO,U=n.ZERO;const J=e.a,Z=n.mul(e.b,N_);let Y=n.mul(N,M),le=n.mul(k,B),A=n.mul(T,L),l=n.add(N,k),h=n.add(M,B);l=n.mul(l,h),h=n.add(Y,le),l=n.sub(l,h),h=n.add(N,T);let p=n.add(M,L);return h=n.mul(h,p),p=n.add(Y,A),h=n.sub(h,p),p=n.add(k,T),P=n.add(B,L),p=n.mul(p,P),P=n.add(le,A),p=n.sub(p,P),U=n.mul(J,h),P=n.mul(Z,A),U=n.add(P,U),P=n.sub(le,U),U=n.add(le,U),F=n.mul(P,U),le=n.add(Y,Y),le=n.add(le,Y),A=n.mul(J,A),h=n.mul(Z,h),le=n.add(le,A),A=n.sub(Y,A),A=n.mul(J,A),h=n.add(h,A),Y=n.mul(le,h),F=n.add(F,Y),Y=n.mul(p,h),P=n.mul(l,P),P=n.sub(P,Y),Y=n.mul(l,le),U=n.mul(p,U),U=n.add(U,Y),new g(P,F,U)}subtract(x){return this.add(x.negate())}is0(){return this.equals(g.ZERO)}wNAF(x){return w.wNAFCached(this,c,x,N=>{const k=n.invertBatch(N.map(T=>T.pz));return N.map((T,M)=>T.toAffine(k[M])).map(g.fromAffine)})}multiplyUnsafe(x){const N=g.ZERO;if(x===Qi)return N;if(a(x),x===jr)return this;const{endo:k}=e;if(!k)return w.unsafeLadder(this,x);let{k1neg:T,k1:M,k2neg:B,k2:L}=k.splitScalar(x),P=N,F=N,U=this;for(;M>Qi||L>Qi;)M&jr&&(P=P.add(U)),L&jr&&(F=F.add(U)),U=U.double(),M>>=jr,L>>=jr;return T&&(P=P.negate()),B&&(F=F.negate()),F=new g(n.mul(F.px,k.beta),F.py,F.pz),P.add(F)}multiply(x){a(x);let N=x,k,T;const{endo:M}=e;if(M){const{k1neg:B,k1:L,k2neg:P,k2:F}=M.splitScalar(N);let{p:U,f:J}=this.wNAF(L),{p:Z,f:Y}=this.wNAF(F);U=w.constTimeNegate(B,U),Z=w.constTimeNegate(P,Z),Z=new g(n.mul(Z.px,M.beta),Z.py,Z.pz),k=U.add(Z),T=J.add(Y)}else{const{p:B,f:L}=this.wNAF(N);k=B,T=L}return g.normalizeZ([k,T])[0]}multiplyAndAddUnsafe(x,N,k){const T=g.BASE,M=(L,P)=>P===Qi||P===jr||!L.equals(T)?L.multiplyUnsafe(P):L.multiply(P),B=M(this,N).add(M(x,k));return B.is0()?void 0:B}toAffine(x){const{px:N,py:k,pz:T}=this,M=this.is0();x==null&&(x=M?n.ONE:n.inv(T));const B=n.mul(N,x),L=n.mul(k,x),P=n.mul(T,x);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:B,y:L}}isTorsionFree(){const{h:x,isTorsionFree:N}=e;if(x===jr)return!0;if(N)return N(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:N}=e;return x===jr?this:N?N(g,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),r(g,this,x)}toHex(x=!0){return fa(this.toRawBytes(x))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const S=e.nBitLength,w=uk(g,e.endo?Math.ceil(S/2):S);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function rU(t){const e=U1(t);return nl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function iU(t){const e=rU(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(h){return Qi<h&&h<n.ORDER}function a(h){return Ut(h,r)}function u(h){return ev(h,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:g,isWithinCurveOrder:S}=nU({...e,toBytes(h,p,y){const m=p.toAffine(),b=n.toBytes(m.x),R=ha;return y?R(Uint8Array.from([p.hasEvenY()?2:3]),b):R(Uint8Array.from([4]),b,n.toBytes(m.y))},fromBytes(h){const p=h.length,y=h[0],m=h.subarray(1);if(p===i&&(y===2||y===3)){const b=Jo(m);if(!o(b))throw new Error("Point is not on curve");const R=g(b);let v=n.sqrt(R);const f=(v&jr)===jr;return(y&1)===1!==f&&(v=n.neg(v)),{x:b,y:v}}else if(p===s&&y===4){const b=n.fromBytes(m.subarray(0,n.BYTES)),R=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:b,y:R}}else throw new Error(`Point of length ${p} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=h=>fa(mu(h,e.nByteLength));function I(h){const p=r>>jr;return h>p}function x(h){return I(h)?a(-h):h}const N=(h,p,y)=>Jo(h.slice(p,y));class k{constructor(p,y,m){this.r=p,this.s=y,this.recovery=m,this.assertValidity()}static fromCompact(p){const y=e.nByteLength;return p=an("compactSignature",p,y*2),new k(N(p,0,y),N(p,y,2*y))}static fromDER(p){const{r:y,s:m}=Go.toSig(an("DER",p));return new k(y,m)}assertValidity(){if(!S(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!S(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(p){return new k(this.r,this.s,p)}recoverPublicKey(p){const{r:y,s:m,recovery:b}=this,R=F(an("msgHash",p));if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");const v=b===2||b===3?y+e.n:y;if(v>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=b&1?"03":"02",C=c.fromHex(f+w(v)),K=u(v),q=a(-R*K),G=a(m*K),oe=c.BASE.multiplyAndAddUnsafe(C,q,G);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return zu(this.toDERHex())}toDERHex(){return Go.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zu(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const T={isValidPrivateKey(h){try{return d(h),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const h=e.randomBytes(n.BYTES+8),p=i$(h,r);return mu(p,e.nByteLength)},precompute(h=8,p=c.BASE){return p._setWindowSize(h),p.multiply(BigInt(3)),p}};function M(h,p=!0){return c.fromPrivateKey(h).toRawBytes(p)}function B(h){const p=h instanceof Uint8Array,y=typeof h=="string",m=(p||y)&&h.length;return p?m===i||m===s:y?m===2*i||m===2*s:h instanceof c}function L(h,p,y=!0){if(B(h))throw new Error("first arg must be private key");if(!B(p))throw new Error("second arg must be public key");return c.fromHex(p).multiply(d(h)).toRawBytes(y)}const P=e.bits2int||function(h){const p=Jo(h),y=h.length*8-e.nBitLength;return y>0?p>>BigInt(y):p},F=e.bits2int_modN||function(h){return a(P(h))},U=F1(e.nBitLength);function J(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(Qi<=h&&h<U))throw new Error(`bigint expected < 2^${e.nBitLength}`);return mu(h,e.nByteLength)}function Z(h,p,y=Y){if(["recovered","canonical"].some(ue=>ue in y))throw new Error("sign() legacy options not supported");const{hash:m,randomBytes:b}=e;let{lowS:R,prehash:v,extraEntropy:f}=y;R==null&&(R=!0),h=an("msgHash",h),v&&(h=an("prehashed msgHash",m(h)));const C=F(h),K=d(p),q=[J(K),J(C)];if(f!=null){const ue=f===!0?b(n.BYTES):f;q.push(an("extraEntropy",ue,n.BYTES))}const G=ha(...q),oe=C;function ie(ue){const Rt=P(ue);if(!S(Rt))return;const ve=u(Rt),we=c.BASE.multiply(Rt).toAffine(),pt=a(we.x);if(pt===Qi)return;const Ee=a(ve*a(oe+pt*K));if(Ee===Qi)return;let Me=(we.x===pt?0:2)|Number(we.y&jr),br=Ee;return R&&I(Ee)&&(br=x(Ee),Me^=1),new k(pt,br,Me)}return{seed:G,k2sig:ie}}const Y={lowS:e.lowS,prehash:!1},le={lowS:e.lowS,prehash:!1};function A(h,p,y=Y){const{seed:m,k2sig:b}=Z(h,p,y),R=e;return ok(R.hash.outputLen,R.nByteLength,R.hmac)(m,b)}c.BASE._setWindowSize(8);function l(h,p,y,m=le){var we;const b=h;if(p=an("msgHash",p),y=an("publicKey",y),"strict"in m)throw new Error("options.strict was renamed to lowS");const{lowS:R,prehash:v}=m;let f,C;try{if(typeof b=="string"||b instanceof Uint8Array)try{f=k.fromDER(b)}catch(pt){if(!(pt instanceof Go.Err))throw pt;f=k.fromCompact(b)}else if(typeof b=="object"&&typeof b.r=="bigint"&&typeof b.s=="bigint"){const{r:pt,s:Ee}=b;f=new k(pt,Ee)}else throw new Error("PARSE");C=c.fromHex(y)}catch(pt){if(pt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&f.hasHighS())return!1;v&&(p=e.hash(p));const{r:K,s:q}=f,G=F(p),oe=u(q),ie=a(G*oe),ue=a(K*oe),Rt=(we=c.BASE.multiplyAndAddUnsafe(C,ie,ue))==null?void 0:we.toAffine();return Rt?a(Rt.x)===K:!1}return{CURVE:e,getPublicKey:M,getSharedSecret:L,sign:A,verify:l,ProjectivePoint:c,Signature:k,utils:T}}class iT extends P1{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kr.hash(e);const r=bf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return kr.exists(this),this.iHash.update(e),this}digestInto(e){kr.exists(this),kr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sT=(t,e,n)=>new iT(t,e).update(n).digest();sT.create=(t,e)=>new iT(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sU(t){return{hash:t,hmac:(e,...n)=>sT(t,e,JA(...n)),randomBytes:ek}}function oU(t,e){const n=r=>iU({...t,...sU(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),O_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aU=BigInt(1),sv=BigInt(2),L_=(t,e)=>(t+e/sv)/e;function uU(t){const e=oT,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,d=c*c*t%e,g=Yt(d,n,e)*d%e,S=Yt(g,n,e)*d%e,w=Yt(S,sv,e)*c%e,I=Yt(w,i,e)*w%e,x=Yt(I,s,e)*I%e,N=Yt(x,a,e)*x%e,k=Yt(N,u,e)*N%e,T=Yt(k,a,e)*x%e,M=Yt(T,n,e)*d%e,B=Yt(M,o,e)*I%e,L=Yt(B,r,e)*c%e,P=Yt(L,sv,e);if(!ov.eql(ov.sqr(P),t))throw new Error("Cannot find square root");return P}const ov=ak(oT,void 0,void 0,{sqrt:uU}),sS=oU({a:BigInt(0),b:BigInt(7),Fp:ov,n:O_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=O_,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-aU*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=L_(s*t,e),u=L_(-r*t,e);let c=Ut(t-a*n-u*i,e),d=Ut(-a*r-u*s,e);const g=c>o,S=d>o;if(g&&(c=e-c),S&&(d=e-d),c>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:c,k2neg:S,k2:d}}}},rv);BigInt(0);sS.ProjectivePoint;yg.utils.randomPrivateKey;function D_(t){try{return yg.ExtendedPoint.fromHex(t),!0}catch{return!1}}const aT=(t,e)=>yg.sign(t,e.slice(0,32)),lU=yg.verify,An=t=>je.Buffer.isBuffer(t)?t:t instanceof Uint8Array?je.Buffer.from(t.buffer,t.byteOffset,t.byteLength):je.Buffer.from(t);class cU{constructor(e){Object.assign(this,e)}encode(){return je.Buffer.from(wk($h,this))}static decode(e){return Sk($h,this,e)}static decodeUnchecked(e){return pk($h,this,e)}}const $h=new Map;let uT;const fU=32,Oi=32;function hU(t){return t._bn!==void 0}let P_=1;uT=Symbol.toStringTag;class xe extends cU{constructor(e){if(super({}),this._bn=void 0,hU(e))this._bn=e._bn;else{if(typeof e=="string"){const n=vn.decode(e);if(n.length!=Oi)throw new Error("Invalid public key input");this._bn=new d_(n)}else this._bn=new d_(e);if(this._bn.byteLength()>Oi)throw new Error("Invalid public key input")}}static unique(){const e=new xe(P_);return P_+=1,new xe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return vn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(je.Buffer);if(e.length===Oi)return e;const n=je.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[uT](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=je.Buffer.concat([e.toBuffer(),je.Buffer.from(n),r.toBuffer()]),s=rv(i);return new xe(s)}static createProgramAddressSync(e,n){let r=je.Buffer.alloc(0);e.forEach(function(s){if(s.length>fU)throw new TypeError("Max seed length exceeded");r=je.Buffer.concat([r,An(s)])}),r=je.Buffer.concat([r,n.toBuffer(),je.Buffer.from("ProgramDerivedAddress")]);const i=rv(r);if(D_(i))throw new Error("Invalid seeds, address must fall off the curve");return new xe(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(je.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new xe(e);return D_(n.toBytes())}}xe.default=new xe("11111111111111111111111111111111");$h.set(xe,{kind:"struct",fields:[["_bn","u256"]]});new xe("BPFLoader1111111111111111111111111111111111");const yu=1280-40-8,oS=127,ju=64;class lT extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(lT.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class cT extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(cT.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Fl extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Fl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Qd{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const ft=(t="publicKey")=>Dt(32,t),dU=(t="signature")=>Dt(64,t),Za=(t="string")=>{const e=Se([Ie("length"),Ie("lengthPadding"),Dt(ea(Ie(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const u={chars:je.Buffer.from(s,"utf8")};return r(u,o,a)},i.alloc=s=>Ie().span+Ie().span+je.Buffer.from(s,"utf8").length,i},pU=(t="authorized")=>Se([ft("staker"),ft("withdrawer")],t),gU=(t="lockup")=>Se([Ir("unixTimestamp"),Ir("epoch"),ft("custodian")],t),mU=(t="voteInit")=>Se([ft("nodePubkey"),ft("authorizedVoter"),ft("authorizedWithdrawer"),_t("commission")],t),yU=(t="voteAuthorizeWithSeedArgs")=>Se([Ie("voteAuthorizationType"),ft("currentAuthorityDerivedKeyOwnerPubkey"),Za("currentAuthorityDerivedKeySeed"),ft("newAuthorized")],t);function fT(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return fT({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Mr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Ar(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function $t(t,e){if(!t)throw new Error(e||"Assertion failed")}class Cg{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let u=r.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,u)),u},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const u=i(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new Cg(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];$t(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,u])=>u.isSigner&&u.isWritable),r=e.filter(([,u])=>u.isSigner&&!u.isWritable),i=e.filter(([,u])=>!u.isSigner&&u.isWritable),s=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{$t(n.length>0,"Expected at least one writable signer key");const[u]=n[0];$t(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([u])=>new xe(u)),...r.map(([u])=>new xe(u)),...i.map(([u])=>new xe(u)),...s.map(([u])=>new xe(u))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new xe(s),u=e.findIndex(c=>c.equals(a));u>=0&&($t(u<256,"Max lookup table index exceeded"),r.push(u),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}class hs{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new xe(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:vn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Qd(this.staticAccountKeys)}static compile(e){const n=Cg.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new Qd(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:vn.encode(a.data)}));return new hs({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Ar(n,e);const r=this.instructions.map(g=>{const{accounts:S,programIdIndex:w}=g,I=Array.from(vn.decode(g.data));let x=[];Ar(x,S.length);let N=[];return Ar(N,I.length),{programIdIndex:w,keyIndicesCount:je.Buffer.from(x),keyIndices:S,dataLength:je.Buffer.from(N),data:I}});let i=[];Ar(i,r.length);let s=je.Buffer.alloc(yu);je.Buffer.from(i).copy(s);let o=i.length;r.forEach(g=>{const w=Se([_t("programIdIndex"),Dt(g.keyIndicesCount.length,"keyIndicesCount"),Xn(_t("keyIndex"),g.keyIndices.length,"keyIndices"),Dt(g.dataLength.length,"dataLength"),Xn(_t("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=w}),s=s.slice(0,o);const a=Se([Dt(1,"numRequiredSignatures"),Dt(1,"numReadonlySignedAccounts"),Dt(1,"numReadonlyUnsignedAccounts"),Dt(n.length,"keyCount"),Xn(ft("key"),e,"keys"),ft("recentBlockhash")]),u={numRequiredSignatures:je.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:je.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:je.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:je.Buffer.from(n),keys:this.accountKeys.map(g=>An(g.toBytes())),recentBlockhash:vn.decode(this.recentBlockhash)};let c=je.Buffer.alloc(2048);const d=a.encode(u,c);return s.copy(c,d),c.slice(0,d+s.length)}static from(e){let n=[...e];const r=n.shift();if(r!==(r&oS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=n.shift(),s=n.shift(),o=Mr(n);let a=[];for(let S=0;S<o;S++){const w=n.slice(0,Oi);n=n.slice(Oi),a.push(new xe(je.Buffer.from(w)))}const u=n.slice(0,Oi);n=n.slice(Oi);const c=Mr(n);let d=[];for(let S=0;S<c;S++){const w=n.shift(),I=Mr(n),x=n.slice(0,I);n=n.slice(I);const N=Mr(n),k=n.slice(0,N),T=vn.encode(je.Buffer.from(k));n=n.slice(N),d.push({programIdIndex:w,accounts:x,data:T})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:vn.encode(je.Buffer.from(u)),accountKeys:a,instructions:d};return new hs(g)}}class jc{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Qd(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Cg.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const d of s){const g=n.extractTableLookup(d);if(g!==void 0){const[S,{writable:w,readonly:I}]=g;r.push(S),i.writable.push(...w),i.readonly.push(...I)}}const[o,a]=n.getMessageComponents(),c=new Qd(a,i).compileInstructions(e.instructions);return new jc({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Ar(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Ar(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Ar(s,this.addressTableLookups.length);const o=Se([_t("prefix"),Se([_t("numRequiredSignatures"),_t("numReadonlySignedAccounts"),_t("numReadonlyUnsignedAccounts")],"header"),Dt(e.length,"staticAccountKeysLength"),Xn(ft(),this.staticAccountKeys.length,"staticAccountKeys"),ft("recentBlockhash"),Dt(r.length,"instructionsLength"),Dt(n.length,"serializedInstructions"),Dt(s.length,"addressTableLookupsLength"),Dt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(yu),u=128,c=o.encode({prefix:u,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(d=>d.toBytes()),recentBlockhash:vn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(yu);for(const r of this.compiledInstructions){const i=Array();Ar(i,r.accountKeyIndexes.length);const s=Array();Ar(s,r.data.length);const o=Se([_t("programIdIndex"),Dt(i.length,"encodedAccountKeyIndexesLength"),Xn(_t(),r.accountKeyIndexes.length,"accountKeyIndexes"),Dt(s.length,"encodedDataLength"),Dt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(yu);for(const r of this.addressTableLookups){const i=Array();Ar(i,r.writableIndexes.length);const s=Array();Ar(s,r.readonlyIndexes.length);const o=Se([ft("accountKey"),Dt(i.length,"encodedWritableIndexesLength"),Xn(_t(),r.writableIndexes.length,"writableIndexes"),Dt(s.length,"encodedReadonlyIndexesLength"),Xn(_t(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=n.shift(),i=r&oS;$t(r!==i,"Expected versioned message but received legacy message");const s=i;$t(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:n.shift(),numReadonlySignedAccounts:n.shift(),numReadonlyUnsignedAccounts:n.shift()},a=[],u=Mr(n);for(let I=0;I<u;I++)a.push(new xe(n.splice(0,Oi)));const c=vn.encode(n.splice(0,Oi)),d=Mr(n),g=[];for(let I=0;I<d;I++){const x=n.shift(),N=Mr(n),k=n.splice(0,N),T=Mr(n),M=new Uint8Array(n.splice(0,T));g.push({programIdIndex:x,accountKeyIndexes:k,data:M})}const S=Mr(n),w=[];for(let I=0;I<S;I++){const x=new xe(n.splice(0,Oi)),N=Mr(n),k=n.splice(0,N),T=Mr(n),M=n.splice(0,T);w.push({accountKey:x,writableIndexes:k,readonlyIndexes:M})}return new jc({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:w})}}const aS={deserializeMessageVersion(t){const e=t[0],n=e&oS;return n===e?"legacy":n},deserialize:t=>{const e=aS.deserializeMessageVersion(t);if(e==="legacy")return hs.from(t);if(e===0)return jc.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bi;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(bi||(bi={}));const vU=je.Buffer.alloc(ju).fill(0);class si{constructor(e){this.keys=void 0,this.programId=void 0,this.data=je.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class gr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new si(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];n.forEach(x=>{x.keys.forEach(k=>{s.push({...k})});const N=x.programId.toString();i.includes(N)||i.push(N)}),i.forEach(x=>{s.push({pubkey:new xe(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const N=x.pubkey.toString(),k=o.findIndex(T=>T.pubkey.toString()===N);k>-1?(o[k].isWritable=o[k].isWritable||x.isWritable,o[k].isSigner=o[k].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,N){if(x.isSigner!==N.isSigner)return x.isSigner?-1:1;if(x.isWritable!==N.isWritable)return x.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(N.pubkey.toBase58(),"en",k)});const a=o.findIndex(x=>x.pubkey.equals(r));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const N=o.findIndex(k=>k.pubkey.equals(x.publicKey));if(N>-1)o[N].isSigner||(o[N].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let u=0,c=0,d=0;const g=[],S=[];o.forEach(({pubkey:x,isSigner:N,isWritable:k})=>{N?(g.push(x.toString()),u+=1,k||(c+=1)):(S.push(x.toString()),k||(d+=1))});const w=g.concat(S),I=n.map(x=>{const{data:N,programId:k}=x;return{programIdIndex:w.indexOf(k.toString()),accounts:x.keys.map(T=>w.indexOf(T.pubkey.toString())),data:vn.encode(N)}});return I.forEach(x=>{$t(x.programIdIndex>=0),x.accounts.forEach(N=>$t(N>=0))}),new hs({header:{numRequiredSignatures:u,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:w,recentBlockhash:e,instructions:I})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=aT(r,i.secretKey);this._addSignature(i.publicKey,An(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){$t(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=je.Buffer.from(n)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,n){for(const{signature:r,publicKey:i}of this.signatures)if(r===null){if(n)return!1}else if(!lU(r,e,i.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r&&!this._verifySignatures(i,n))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Ar(r,n.length);const i=r.length+n.length*64+e.length,s=je.Buffer.alloc(i);return $t(n.length<256),je.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&($t(o.length===64,"signature has invalid length"),je.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),$t(s.length<=yu,`Transaction too large: ${s.length} > ${yu}`),s}get keys(){return $t(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return $t(this.instructions.length===1),this.instructions[0].programId}get data(){return $t(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Mr(n);let i=[];for(let s=0;s<r;s++){const o=n.slice(0,ju);n=n.slice(ju),i.push(vn.encode(je.Buffer.from(o)))}return gr.populate(hs.from(n),i)}static populate(e,n=[]){const r=new gr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==vn.encode(vU)?null:vn.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new si({keys:s,programId:e.accountKeys[i.programIdIndex],data:vn.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Hc{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)$t(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(ju));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Ar(n,this.signatures.length);const r=Se([Dt(n.length,"encodedSignaturesLength"),Xn(dU(),this.signatures.length,"signatures"),Dt(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=Mr(n);for(let o=0;o<i;o++)r.push(new Uint8Array(n.splice(0,ju)));const s=aS.deserialize(new Uint8Array(n));return new Hc(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));$t(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=aT(n,i.secretKey)}}addSignature(e,n){$t(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));$t(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const wU=160,SU=64,EU=wU/SU,bU=1e3/EU;new xe("SysvarC1ock11111111111111111111111111111111");new xe("SysvarEpochSchedu1e111111111111111111111111");new xe("Sysvar1nstructions1111111111111111111111111");const X0=new xe("SysvarRecentB1ockHashes11111111111111111111"),B_=new xe("SysvarRent111111111111111111111111111111111");new xe("SysvarRewards111111111111111111111111111111");new xe("SysvarS1otHashes111111111111111111111111111");new xe("SysvarS1otHistory11111111111111111111111111");new xe("SysvarStakeHistory1111111111111111111111111");function La(t){return new Promise(e=>setTimeout(e,t))}function Ur(t,e){const n=t.layout.span>=0?t.layout.span:fT(t,e),r=je.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const _U=In("lamportsPerSignature"),hT=Se([Ie("version"),Ie("state"),ft("authorizedPubkey"),ft("nonce"),Se([_U],"feeCalculator")]),F_=hT.span;class uS{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=hT.decode(An(e),0);return new uS({authorizedPubkey:new xe(n.authorizedPubkey),nonce:new xe(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const xU=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},CU=t=>e=>{const n=Dt(t,e),{encode:r,decode:i}=xU(n),s=n;return s.decode=(o,a)=>{const u=i(o,a);return Q$(je.Buffer.from(u))},s.encode=(o,a,u)=>{const c=X$(o,t);return r(c,a,u)},s},Hu=CU(8),zr=Object.freeze({Create:{index:0,layout:Se([Ie("instruction"),Ir("lamports"),Ir("space"),ft("programId")])},Assign:{index:1,layout:Se([Ie("instruction"),ft("programId")])},Transfer:{index:2,layout:Se([Ie("instruction"),Hu("lamports")])},CreateWithSeed:{index:3,layout:Se([Ie("instruction"),ft("base"),Za("seed"),Ir("lamports"),Ir("space"),ft("programId")])},AdvanceNonceAccount:{index:4,layout:Se([Ie("instruction")])},WithdrawNonceAccount:{index:5,layout:Se([Ie("instruction"),Ir("lamports")])},InitializeNonceAccount:{index:6,layout:Se([Ie("instruction"),ft("authorized")])},AuthorizeNonceAccount:{index:7,layout:Se([Ie("instruction"),ft("authorized")])},Allocate:{index:8,layout:Se([Ie("instruction"),Ir("space")])},AllocateWithSeed:{index:9,layout:Se([Ie("instruction"),ft("base"),Za("seed"),Ir("space"),ft("programId")])},AssignWithSeed:{index:10,layout:Se([Ie("instruction"),ft("base"),Za("seed"),ft("programId")])},TransferWithSeed:{index:11,layout:Se([Ie("instruction"),Hu("lamports"),Za("seed"),ft("programId")])},UpgradeNonceAccount:{index:12,layout:Se([Ie("instruction")])}});class qc{constructor(){}static createAccount(e){const n=zr.Create,r=Ur(n,{lamports:e.lamports,space:e.space,programId:An(e.programId.toBuffer())});return new si({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=zr.TransferWithSeed;n=Ur(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:An(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=zr.Transfer;n=Ur(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new si({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=zr.AssignWithSeed;n=Ur(i,{base:An(e.basePubkey.toBuffer()),seed:e.seed,programId:An(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=zr.Assign;n=Ur(i,{programId:An(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new si({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=zr.CreateWithSeed,r=Ur(n,{base:An(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:An(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new si({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new gr;"basePubkey"in e&&"seed"in e?n.add(qc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:F_,programId:this.programId})):n.add(qc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:F_,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=zr.InitializeNonceAccount,r=Ur(n,{authorized:An(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:X0,isSigner:!1,isWritable:!1},{pubkey:B_,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new si(i)}static nonceAdvance(e){const n=zr.AdvanceNonceAccount,r=Ur(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:X0,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new si(i)}static nonceWithdraw(e){const n=zr.WithdrawNonceAccount,r=Ur(n,{lamports:e.lamports});return new si({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:X0,isSigner:!1,isWritable:!1},{pubkey:B_,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=zr.AuthorizeNonceAccount,r=Ur(n,{authorized:An(e.newAuthorizedPubkey.toBuffer())});return new si({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=zr.AllocateWithSeed;n=Ur(i,{base:An(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:An(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=zr.Allocate;n=Ur(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new si({keys:r,programId:this.programId,data:n})}}qc.programId=new xe("11111111111111111111111111111111");new xe("BPFLoader2111111111111111111111111111111111");var IU=Object.prototype.toString,MU=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function $l(t,e){var n,r,i,s,o,a,u;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return $l(t.toJSON(),e);if(u=IU.call(t),u==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=$l(t[n],!0)+",";return r>-1&&(i+=$l(t[n],!0)),i+"]"}else if(u==="[object Object]"){for(s=MU(t).sort(),r=s.length,i="",n=0;n<r;)o=s[n],a=$l(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var AU=function(t){var e=$l(t,!1);if(e!==void 0)return""+e},$_=AU;const Ml=32;function J0(t){let e=0;for(;t>1;)t/=2,e++;return e}function kU(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class TU{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=J0(kU(e+Ml+1))-J0(Ml)-1,r=this.getSlotsInEpoch(n),i=e-(r-Ml);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Ml:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+J0(Ml)):this.slotsPerEpoch}}class U_ extends Error{constructor(e,n){super(e),this.logs=void 0,this.logs=n}}class _e extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var RU=globalThis.fetch;class NU extends j8{constructor(e,n,r){const i=s=>{const o=H8(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function OU(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const z_=56;class V_{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=OU(LU,e),r=e.length-z_;$t(r>=0,"lookup table is invalid"),$t(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=Se([Xn(ft(),i,"addresses")]).decode(e.slice(z_));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new xe(n.authority[0]):void 0,addresses:s.map(o=>new xe(o))}}}const LU={index:1,layout:Se([Ie("typeIndex"),Hu("deactivationSlot"),In("lastExtendedSlot"),_t("lastExtendedStartIndex"),_t(),Xn(ft(),ea(_t(),-1),"authority")])},DU=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function PU(t){const e=t.match(DU);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${r}${u}${s}`}const hn=If(nS(xe),re(),t=>new xe(t)),dT=rS([re(),qt("base64")]),lS=If(nS(je.Buffer),dT,t=>je.Buffer.from(t[0],"base64")),BU=30*1e3;function FU(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function jt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function pT(t){return Er([ee({jsonrpc:qt("2.0"),id:re(),result:t}),ee({jsonrpc:qt("2.0"),id:re(),error:ee({code:Cf(),message:re(),data:Ae(o8())})})])}const $U=pT(Cf());function ct(t){return If(pT(t),$U,e=>"error"in e?e:{...e,result:se(e.result,t)})}function Jt(t){return ct(ee({context:ee({slot:H()}),value:t}))}function Ig(t){return ee({context:ee({slot:H()}),value:t})}function em(t,e){return t===0?new jc({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new xe(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:vn.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new hs(e)}const UU=ee({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),zU=ct(ce(fe(ee({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:Ae(fe(H()))})))),VU=ce(ee({slot:H(),prioritizationFee:H()})),jU=ee({total:H(),validator:H(),foundation:H(),epoch:H()}),HU=ee({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:Ae(H()),transactionCount:Ae(H())}),qU=ee({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:fs(),firstNormalEpoch:H(),firstNormalSlot:H()}),WU=$k(re(),ce(H())),ba=fe(Er([ee({}),re()])),KU=ee({err:ba}),GU=qt("receivedSignature"),QU=ee({"solana-core":re(),"feature-set":Ae(H())}),j_=Jt(ee({err:fe(Er([ee({}),re()])),logs:fe(ce(re())),accounts:Ae(fe(ce(fe(ee({executable:fs(),owner:re(),lamports:H(),data:ce(re()),rentEpoch:Ae(H())}))))),unitsConsumed:Ae(H()),returnData:Ae(fe(ee({programId:re(),data:rS([re(),qt("base64")])})))})),YU=Jt(ee({byIdentity:$k(re(),ce(H())),range:ee({firstSlot:H(),lastSlot:H()})}));function ZU(t,e,n,r,i,s){const o=n||RU;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(d,g)=>{const S=await new Promise((w,I)=>{try{r(d,g,(x,N)=>w([x,N]))}catch(x){I(x)}});return await o(...S)}),new D8(async(d,g)=>{const S={method:"POST",body:d,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Z9)};try{let w=5,I,x=500;for(;u?I=await u(t,S):I=await o(t,S),!(I.status!==429||i===!0||(w-=1,w===0));)console.log(`Server responded with ${I.status} ${I.statusText}.  Retrying after ${x}ms delay...`),await La(x),x*=2;const N=await I.text();I.ok?g(null,N):g(new Error(`${I.status} ${I.statusText}: ${N}`))}catch(w){w instanceof Error&&g(w)}},{})}function XU(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function JU(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const e9=ct(UU),t9=ct(jU),n9=ct(VU),r9=ct(HU),i9=ct(qU),s9=ct(WU),o9=ct(H()),a9=Jt(ee({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:ce(hn)})),av=ee({amount:re(),uiAmount:fe(H()),decimals:H(),uiAmountString:Ae(re())}),u9=Jt(ce(ee({address:hn,amount:re(),uiAmount:fe(H()),decimals:H(),uiAmountString:Ae(re())}))),l9=Jt(ce(ee({pubkey:hn,account:ee({executable:fs(),owner:hn,lamports:H(),data:lS,rentEpoch:H()})}))),uv=ee({program:re(),parsed:Cf(),space:H()}),c9=Jt(ce(ee({pubkey:hn,account:ee({executable:fs(),owner:hn,lamports:H(),data:uv,rentEpoch:H()})}))),f9=Jt(ce(ee({lamports:H(),address:hn}))),Wc=ee({executable:fs(),owner:hn,lamports:H(),data:lS,rentEpoch:H()}),h9=ee({pubkey:hn,account:Wc}),d9=If(Er([nS(je.Buffer),uv]),Er([dT,uv]),t=>Array.isArray(t)?se(t,lS):t),lv=ee({executable:fs(),owner:hn,lamports:H(),data:d9,rentEpoch:H()}),p9=ee({pubkey:hn,account:lv}),g9=ee({state:Er([qt("active"),qt("inactive"),qt("activating"),qt("deactivating")]),active:H(),inactive:H()}),m9=ct(ce(ee({signature:re(),slot:H(),err:ba,memo:fe(re()),blockTime:Ae(fe(H()))}))),y9=ct(ce(ee({signature:re(),slot:H(),err:ba,memo:fe(re()),blockTime:Ae(fe(H()))}))),v9=ee({subscription:H(),result:Ig(Wc)}),w9=ee({pubkey:hn,account:Wc}),S9=ee({subscription:H(),result:Ig(w9)}),E9=ee({parent:H(),slot:H(),root:H()}),b9=ee({subscription:H(),result:E9}),_9=Er([ee({type:Er([qt("firstShredReceived"),qt("completed"),qt("optimisticConfirmation"),qt("root")]),slot:H(),timestamp:H()}),ee({type:qt("createdBank"),parent:H(),slot:H(),timestamp:H()}),ee({type:qt("frozen"),slot:H(),timestamp:H(),stats:ee({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),ee({type:qt("dead"),slot:H(),timestamp:H(),err:re()})]),x9=ee({subscription:H(),result:_9}),C9=ee({subscription:H(),result:Ig(Er([KU,GU]))}),I9=ee({subscription:H(),result:H()}),M9=ee({pubkey:re(),gossip:fe(re()),tpu:fe(re()),rpc:fe(re()),version:fe(re())}),H_=ee({votePubkey:re(),nodePubkey:re(),activatedStake:H(),epochVoteAccount:fs(),epochCredits:ce(rS([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:fe(H())}),A9=ct(ee({current:ce(H_),delinquent:ce(H_)})),k9=Er([qt("processed"),qt("confirmed"),qt("finalized")]),T9=ee({slot:H(),confirmations:fe(H()),err:ba,confirmationStatus:Ae(k9)}),R9=Jt(ce(fe(T9))),N9=ct(H()),gT=ee({accountKey:hn,writableIndexes:ce(H()),readonlyIndexes:ce(H())}),cS=ee({signatures:ce(re()),message:ee({accountKeys:ce(re()),header:ee({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:ce(ee({accounts:ce(H()),data:re(),programIdIndex:H()})),recentBlockhash:re(),addressTableLookups:Ae(ce(gT))})}),mT=ee({pubkey:hn,signer:fs(),writable:fs(),source:Ae(Er([qt("transaction"),qt("lookupTable")]))}),yT=ee({accountKeys:ce(mT),signatures:ce(re())}),vT=ee({parsed:Cf(),program:re(),programId:hn}),wT=ee({accounts:ce(hn),data:re(),programId:hn}),O9=Er([wT,vT]),L9=Er([ee({parsed:Cf(),program:re(),programId:re()}),ee({accounts:ce(re()),data:re(),programId:re()})]),ST=If(O9,L9,t=>"accounts"in t?se(t,wT):se(t,vT)),ET=ee({signatures:ce(re()),message:ee({accountKeys:ce(mT),instructions:ce(ST),recentBlockhash:re(),addressTableLookups:Ae(fe(ce(gT)))})}),Yd=ee({accountIndex:H(),mint:re(),owner:Ae(re()),uiTokenAmount:av}),bT=ee({writable:ce(hn),readonly:ce(hn)}),Mg=ee({err:ba,fee:H(),innerInstructions:Ae(fe(ce(ee({index:H(),instructions:ce(ee({accounts:ce(H()),data:re(),programIdIndex:H()}))})))),preBalances:ce(H()),postBalances:ce(H()),logMessages:Ae(fe(ce(re()))),preTokenBalances:Ae(fe(ce(Yd))),postTokenBalances:Ae(fe(ce(Yd))),loadedAddresses:Ae(bT),computeUnitsConsumed:Ae(H())}),fS=ee({err:ba,fee:H(),innerInstructions:Ae(fe(ce(ee({index:H(),instructions:ce(ST)})))),preBalances:ce(H()),postBalances:ce(H()),logMessages:Ae(fe(ce(re()))),preTokenBalances:Ae(fe(ce(Yd))),postTokenBalances:Ae(fe(ce(Yd))),loadedAddresses:Ae(bT),computeUnitsConsumed:Ae(H())}),sl=Er([qt(0),qt("legacy")]),_a=ee({pubkey:re(),lamports:H(),postBalance:fe(H()),rewardType:fe(re()),commission:Ae(fe(H()))}),D9=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),transactions:ce(ee({transaction:cS,meta:fe(Mg),version:Ae(sl)})),rewards:Ae(ce(_a)),blockTime:fe(H()),blockHeight:fe(H())}))),P9=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),rewards:Ae(ce(_a)),blockTime:fe(H()),blockHeight:fe(H())}))),B9=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),transactions:ce(ee({transaction:yT,meta:fe(Mg),version:Ae(sl)})),rewards:Ae(ce(_a)),blockTime:fe(H()),blockHeight:fe(H())}))),F9=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),transactions:ce(ee({transaction:ET,meta:fe(fS),version:Ae(sl)})),rewards:Ae(ce(_a)),blockTime:fe(H()),blockHeight:fe(H())}))),$9=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),transactions:ce(ee({transaction:yT,meta:fe(fS),version:Ae(sl)})),rewards:Ae(ce(_a)),blockTime:fe(H()),blockHeight:fe(H())}))),U9=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),rewards:Ae(ce(_a)),blockTime:fe(H()),blockHeight:fe(H())}))),z9=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),transactions:ce(ee({transaction:cS,meta:fe(Mg)})),rewards:Ae(ce(_a)),blockTime:fe(H())}))),q_=ct(fe(ee({blockhash:re(),previousBlockhash:re(),parentSlot:H(),signatures:ce(re()),blockTime:fe(H())}))),tm=ct(fe(ee({slot:H(),meta:Mg,blockTime:Ae(fe(H())),transaction:cS,version:Ae(sl)}))),lh=ct(fe(ee({slot:H(),transaction:ET,meta:fe(fS),blockTime:Ae(fe(H())),version:Ae(sl)}))),V9=Jt(ee({blockhash:re(),feeCalculator:ee({lamportsPerSignature:H()})})),j9=Jt(ee({blockhash:re(),lastValidBlockHeight:H()})),H9=ee({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),q9=ct(ce(H9)),W9=Jt(fe(ee({feeCalculator:ee({lamportsPerSignature:H()})}))),K9=ct(re()),G9=ct(re()),Q9=ee({err:ba,logs:ce(re()),signature:re()}),Y9=ee({result:Ig(Q9),subscription:H()}),Z9={"solana-client":"js/0.0.0-development"};class X9{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async d=>{const{commitment:g,config:S}=jt(d),w=this._buildArgs([],g,void 0,S),I=$_(w);return c[I]=c[I]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",w),N=se(x,ct(H()));if("error"in N)throw new _e(N.error,"failed to get block height information");return N.result}finally{delete c[I]}})(),await c[I]}})();let r,i,s,o,a,u;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,u=n.httpAgent),this._rpcEndpoint=FU(e),this._rpcWsEndpoint=r||PU(e),this._rpcClient=ZU(e,i,s,o,a,u),this._rpcRequest=XU(this._rpcClient),this._rpcBatchRequest=JU(this._rpcClient),this._rpcWebSocket=new NU(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=se(o,Jt(H()));if("error"in a)throw new _e(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=se(n,ct(fe(H())));if("error"in r)throw new _e(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=se(e,ct(H()));if("error"in n)throw new _e(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=se(e,o9);if("error"in n)throw new _e(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=se(r,a9);if("error"in i)throw new _e(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=se(i,Jt(av));if("error"in s)throw new _e(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=se(i,Jt(av));if("error"in s)throw new _e(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=jt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),u=await this._rpcRequest("getTokenAccountsByOwner",a),c=se(u,l9);if("error"in c)throw new _e(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=se(o,c9);if("error"in a)throw new _e(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=se(i,f9);if("error"in s)throw new _e(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=se(i,u9);if("error"in s)throw new _e(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,Jt(fe(Wc)));if("error"in a)throw new _e(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,Jt(fe(lv)));if("error"in a)throw new _e(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=jt(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),u=se(a,Jt(ce(fe(lv))));if("error"in u)throw new _e(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=jt(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),u=se(a,Jt(ce(fe(Wc))));if("error"in u)throw new _e(u.error,`failed to get info for accounts ${s}`);return u.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=jt(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=se(a,ct(g9));if("error"in u)throw new _e(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=jt(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),u=await this._rpcRequest("getProgramAccounts",a),c=ce(h9),d=o.withContext===!0?se(u,Jt(c)):se(u,ct(c));if("error"in d)throw new _e(d.error,`failed to get accounts owned by program ${e.toBase58()}`);return d.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=se(o,ct(ce(p9)));if("error"in a)throw new _e(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=vn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return $t(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((u,c)=>{try{r=this.onSignature(n,(g,S)=>{r=void 0;const w={context:S,value:g};u({__type:bi.PROCESSED,response:w})},e);const d=new Promise(g=>{r==null?g():i=this._onSubscriptionStateChange(r,S=>{S==="subscribed"&&g()})});(async()=>{if(await d,s)return;const g=await this.getSignatureStatus(n);if(s||g==null)return;const{context:S,value:w}=g;if(w!=null)if(w!=null&&w.err)c(w.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(w.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(w.confirmationStatus==="processed"||w.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,u({__type:bi.PROCESSED,response:{context:S,value:w}})}})()}catch(d){c(d)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(g=>{const S=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let w=await S();if(!s){for(;w<=r;)if(await La(1e3),s||(w=await S(),s))return;g({__type:bi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let d;try{const g=await Promise.race([c,u,o]);if(g.__type===bi.PROCESSED)d=g.response;else throw new lT(i)}finally{s=!0,a()}return d}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const u=new Promise(w=>{let I=s,x=null;const N=async()=>{try{const{context:k,value:T}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=k.slot,T==null?void 0:T.nonce}catch{return I}};(async()=>{if(I=await N(),!a)for(;;){if(s!==I){w({__type:bi.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await La(2e3),a||(I=await N(),a))return}})()}),{abortConfirmation:c,confirmationPromise:d}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),g=this.getCancellationPromise(n);let S;try{const w=await Promise.race([g,d,u]);if(w.__type===bi.PROCESSED)S=w.response;else{let I;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(w.slotInWhichNonceDidAdvance??r)){await La(400);continue}I=x;break}if(I!=null&&I.value){const x=e||"finalized",{confirmationStatus:N}=I.value;switch(x){case"processed":case"recent":if(N!=="processed"&&N!=="confirmed"&&N!=="finalized")throw new Fl(o);break;case"confirmed":case"single":case"singleGossip":if(N!=="confirmed"&&N!=="finalized")throw new Fl(o);break;case"finalized":case"max":case"root":if(N!=="finalized")throw new Fl(o);break;default:(k=>{})(x)}S={context:I.context,value:{err:I.value.err}}}else throw new Fl(o)}}finally{a=!0,c()}return S}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(u=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:bi.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const u=await Promise.race([o,i]);if(u.__type===bi.PROCESSED)a=u.response;else throw new cT(n,u.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=se(e,ct(ce(M9)));if("error"in n)throw new _e(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=se(r,A9);if("error"in i)throw new _e(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=se(s,ct(H()));if("error"in o)throw new _e(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=se(s,ct(re()));if("error"in o)throw new _e(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=se(i,ct(ce(hn)));if("error"in s)throw new _e(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);$t(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=se(i,R9);if("error"in s)throw new _e(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=se(s,ct(H()));if("error"in o)throw new _e(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=se(r,e9);if("error"in i)throw new _e(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=jt(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=se(a,zU);if("error"in u)throw new _e(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=se(e,t9);if("error"in n)throw new _e(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=se(s,r9);if("error"in o)throw new _e(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=se(e,i9);if("error"in n)throw new _e(n.error,"failed to get epoch schedule");const r=n.result;return new TU(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=se(e,s9);if("error"in n)throw new _e(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=se(i,N9);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",n),i=se(r,V9);if("error"in i)throw new _e(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=se(n,q9);if("error"in r)throw new _e(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=se(i,W9);if("error"in s)throw new _e(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=An(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=se(s,Jt(fe(H())));if("error"in o)throw new _e(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=this._buildArgs(n!=null&&n.length?[n]:[]),i=await this._rpcRequest("getRecentPrioritizationFees",r),s=se(i,n9);if("error"in s)throw new _e(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=se(s,j9);if("error"in o)throw new _e(o.error,"failed to get latest blockhash");return o.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=se(e,ct(QU));if("error"in n)throw new _e(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=se(e,ct(re()));if("error"in n)throw new _e(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,B9);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,P9);if("error"in a)throw a.error;return a.result}default:{const a=se(o,D9);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:c,meta:d,version:g})=>({meta:d,transaction:{...c,message:em(g,c.message)},version:g}))}:null}}}catch(a){throw new _e(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,$9);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,U9);if("error"in a)throw a.error;return a.result}default:{const a=se(o,F9);if("error"in a)throw a.error;return a.result}}}catch(a){throw new _e(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...u}=e;r=a,n=u}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=se(s,YU);if("error"in o)throw new _e(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=se(o,tm);if("error"in a)throw new _e(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:em(u.version,u.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=jt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=se(o,lh);if("error"in a)throw new _e(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=jt(n),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(u=>{const c=se(u,lh);if("error"in c)throw new _e(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=jt(n),s=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(u=>{const c=se(u,tm);if("error"in c)throw new _e(c.error,"failed to get transactions");const d=c.result;return d&&{...d,transaction:{...d.transaction,message:em(d.version,d.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,z9);if("error"in s)throw new _e(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:c})=>{const d=new hs(u.message);return{meta:c,transaction:{...u,message:d}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:c})=>({meta:c,transaction:gr.populate(u.message,u.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=se(s,ct(ce(H())));if("error"in o)throw new _e(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=se(i,q_);if("error"in s)throw new _e(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,q_);if("error"in s)throw new _e(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,tm);if("error"in s)throw new _e(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new hs(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:gr.populate(a,u)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,lh);if("error"in s)throw new _e(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=se(o,lh);if("error"in a)throw new _e(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const u=await this.getConfirmedBlockSignatures(n,"finalized");u.signatures.length>0&&(i.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(i.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=se(s,m9);if("error"in o)throw new _e(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=se(s,y9);if("error"in o)throw new _e(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new V_({key:e,state:V_.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=uS.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=se(r,K9);if("error"in i)throw new _e(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await La(100);const r=Date.now()-this._blockhashInfo.lastFetch>=BU;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await La(bU/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=jt(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=se(s,Jt(H()));if("error"in o)throw new _e(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),N=je.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const k=n||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment);const T=[N,k],M=await this._rpcRequest("simulateTransaction",T),B=se(M,j_);if("error"in B)throw new Error("failed to simulate transaction: "+B.error.message);return B.result}let i;if(e instanceof gr){let I=e;i=new gr,i.feePayer=I.feePayer,i.instructions=e.instructions,i.nonceInfo=I.nonceInfo,i.signatures=I.signatures}else i=gr.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let I=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(I);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const N=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(N)&&!this._blockhashInfo.transactionSignatures.includes(N)){this._blockhashInfo.simulatedSignatures.push(N);break}else I=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),d={encoding:"base64",commitment:this.commitment};if(r){const I=(Array.isArray(r)?r:o.nonProgramIds()).map(x=>x.toBase58());d.accounts={encoding:"base64",addresses:I}}s&&(d.sigVerify=!0);const g=[c,d],S=await this._rpcRequest("simulateTransaction",g),w=se(S,j_);if("error"in w){let I;if("data"in w.error&&(I=w.error.data.logs,I&&Array.isArray(I))){const x=`
    `,N=x+I.join(x);console.error(w.error.message,N)}throw new U_("failed to simulate transaction: "+w.error.message,I)}return w.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=An(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),u=se(a,G9);if("error"in u){let c;throw"data"in u.error&&(c=u.error.data.logs),new U_("failed to send transaction: "+u.error.message,c)}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=se(e,v9);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=$_([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];$t(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=se(e,S9);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=se(e,Y9);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=se(e,b9);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=se(e,x9);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=se(e,C9);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(u,c)=>{n(u,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=se(e,I9);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Se([Ie("instruction"),Hu("recentSlot"),_t("bumpSeed")])},FreezeLookupTable:{index:1,layout:Se([Ie("instruction")])},ExtendLookupTable:{index:2,layout:Se([Ie("instruction"),Hu(),Xn(ft(),ea(Ie(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Se([Ie("instruction")])},CloseLookupTable:{index:4,layout:Se([Ie("instruction")])}});new xe("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Se([_t("instruction"),Ie("units"),Ie("additionalFee")])},RequestHeapFrame:{index:1,layout:Se([_t("instruction"),Ie("bytes")])},SetComputeUnitLimit:{index:2,layout:Se([_t("instruction"),Ie("units")])},SetComputeUnitPrice:{index:3,layout:Se([_t("instruction"),Hu("microLamports")])}});new xe("ComputeBudget111111111111111111111111111111");Se([_t("numSignatures"),_t("padding"),Hr("signatureOffset"),Hr("signatureInstructionIndex"),Hr("publicKeyOffset"),Hr("publicKeyInstructionIndex"),Hr("messageDataOffset"),Hr("messageDataSize"),Hr("messageInstructionIndex")]);new xe("Ed25519SigVerify111111111111111111111111111");sS.utils.isValidPrivateKey;sS.getPublicKey;Se([_t("numSignatures"),Hr("signatureOffset"),_t("signatureInstructionIndex"),Hr("ethAddressOffset"),_t("ethAddressInstructionIndex"),Hr("messageDataOffset"),Hr("messageDataSize"),_t("messageInstructionIndex"),Dt(20,"ethAddress"),Dt(64,"signature"),_t("recoveryId")]);new xe("KeccakSecp256k11111111111111111111111111111");new xe("StakeConfig11111111111111111111111111111111");class W_{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}W_.default=new W_(0,0,xe.default);Object.freeze({Initialize:{index:0,layout:Se([Ie("instruction"),pU(),gU()])},Authorize:{index:1,layout:Se([Ie("instruction"),ft("newAuthorized"),Ie("stakeAuthorizationType")])},Delegate:{index:2,layout:Se([Ie("instruction")])},Split:{index:3,layout:Se([Ie("instruction"),Ir("lamports")])},Withdraw:{index:4,layout:Se([Ie("instruction"),Ir("lamports")])},Deactivate:{index:5,layout:Se([Ie("instruction")])},Merge:{index:7,layout:Se([Ie("instruction")])},AuthorizeWithSeed:{index:8,layout:Se([Ie("instruction"),ft("newAuthorized"),Ie("stakeAuthorizationType"),Za("authoritySeed"),ft("authorityOwner")])}});new xe("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Se([Ie("instruction"),mU()])},Authorize:{index:1,layout:Se([Ie("instruction"),ft("newAuthorized"),Ie("voteAuthorizationType")])},Withdraw:{index:3,layout:Se([Ie("instruction"),Ir("lamports")])},AuthorizeWithSeed:{index:10,layout:Se([Ie("instruction"),yU()])}});new xe("Vote111111111111111111111111111111111111111");new xe("Va1idator1nfo111111111111111111111111111111");ee({name:re(),website:Ae(re()),details:Ae(re()),keybaseUsername:Ae(re())});new xe("Vote111111111111111111111111111111111111111");Se([ft("nodePubkey"),ft("authorizedWithdrawer"),_t("commission"),In(),Xn(Se([In("slot"),Ie("confirmationCount")]),ea(Ie(),-8),"votes"),_t("rootSlotValid"),In("rootSlot"),In(),Xn(Se([In("epoch"),ft("authorizedVoter")]),ea(Ie(),-8),"authorizedVoters"),Se([Xn(Se([ft("authorizedPubkey"),In("epochOfLastAuthorizedSwitch"),In("targetEpoch")]),32,"buf"),In("idx"),_t("isEmpty")],"priorVoters"),In(),Xn(Se([In("epoch"),In("credits"),In("prevCredits")]),ea(Ie(),-8),"epochCredits"),Se([In("slot"),In("timestamp")],"lastTimestamp")]);const K_={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function J9(t,e){const n=e===!1?"http":"https";if(!t)return K_[n].devnet;const r=K_[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}const _T=$.createContext({});function xT(){return $.useContext(_T)}const ez=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const r=$.useMemo(()=>new X9(e,n),[e,n]);return Q.createElement(_T.Provider,{value:{connection:r}},t)};var tz=iS();const nz=ds(tz);class Bn extends Error{constructor(e,n){super(e),this.error=n}}class eo extends Bn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class rz extends Bn{constructor(){super(...arguments),this.name="WalletLoadError"}}class nc extends Bn{constructor(){super(...arguments),this.name="WalletConfigError"}}class da extends Bn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Af extends Bn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Ag extends Bn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class vu extends Bn{constructor(){super(...arguments),this.name="WalletAccountError"}}class to extends Bn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class rn extends Bn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Ji extends Bn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Kc extends Bn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class ar extends Bn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var Le;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(Le||(Le={}));class CT extends nz{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,n,r={}){const i=this.publicKey;if(!i)throw new rn;return e.feePayer=e.feePayer||i,e.recentBlockhash=e.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function hS(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function n(){if(t())for(const s of e)s()}const r=setInterval(n,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}function cv(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),n=t.includes("safari");return e&&n}function Os(t){return"version"in t}class iz extends CT{async sendTransaction(e,n,r={}){let i=!0;try{if(Os(e)){if(!this.supportedTransactionVersions)throw new Ji("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Ji(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const s=e.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof ar?(i=!1,s):new Ji(s==null?void 0:s.message,s)}}else try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s),e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,o)}catch(s){throw s instanceof ar?(i=!1,s):new Ji(s==null?void 0:s.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(e){for(const r of e)if(Os(r)){if(!this.supportedTransactionVersions)throw new ar("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new ar(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of e)n.push(await this.signTransaction(r));return n}}class kg extends iz{}const Es="solana:signAndSendTransaction",ch="solana:signMessage",Kn="solana:signTransaction",IT="standard:connect",G_="standard:disconnect",MT="standard:events";function sz(t){return IT in t.features&&MT in t.features&&(Es in t.features||Kn in t.features)}var fv;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(fv||(fv={}));class Q_ extends Bn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const oz=[],Tg={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(t){console.error(_i("get","select"))},connect(){return Promise.reject(console.error(_i("get","connect")))},disconnect(){return Promise.reject(console.error(_i("get","disconnect")))},sendTransaction(t,e,n){return Promise.reject(console.error(_i("get","sendTransaction")))},signTransaction(t){return Promise.reject(console.error(_i("get","signTransaction")))},signAllTransactions(t){return Promise.reject(console.error(_i("get","signAllTransactions")))},signMessage(t){return Promise.reject(console.error(_i("get","signMessage")))}};Object.defineProperty(Tg,"wallets",{get(){return console.error(_i("read","wallets")),oz}});Object.defineProperty(Tg,"wallet",{get(){return console.error(_i("read","wallet")),null}});Object.defineProperty(Tg,"publicKey",{get(){return console.error(_i("read","publicKey")),null}});function _i(t,e){return`You have tried to  ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext`}const AT=$.createContext(Tg);function xa(){return $.useContext(AT)}function az(t,e){const n=$.useState(()=>{try{const s=localStorage.getItem(t);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return e}),r=n[0],i=$.useRef(!0);return $.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,t]),n}const no={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class ro extends Error{constructor(...e){const[n,r,i]=e;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class kT extends Error{constructor(...e){const[n,r,i,s]=e;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function Tr(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(g){o(g)}}function u(d){try{c(r.throw(d))}catch(g){o(g)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function uz(t,e){return Tr(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}const Xa=4;function lz(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(Xa);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}function cz(){return Tr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function fz(){return Tr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}const hv=12;function hz(t,e){return Tr(this,void 0,void 0,function*(){const n=JSON.stringify(t),r=lz(t.id),i=new Uint8Array(hv);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(TT(r,i),e,new TextEncoder().encode(n)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function dz(t,e){return Tr(this,void 0,void 0,function*(){const n=t.slice(0,Xa),r=t.slice(Xa,Xa+hv),i=t.slice(Xa+hv),s=yield crypto.subtle.decrypt(TT(n,r),e,i),o=pz().decode(s),a=JSON.parse(o);if(Object.hasOwnProperty.call(a,"error"))throw new kT(a.id,a.error.code,a.error.message);return a})}function TT(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let nm;function pz(){return nm===void 0&&(nm=new TextDecoder("utf-8")),nm}function gz(t,e,n){return Tr(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t,{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function mz(){return RT(49152+Math.floor(Math.random()*(65535-49152+1)))}function RT(t){if(t<49152||t>65535)throw new ro(no.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function yz(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function vz(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const wz="solana-wallet";function Y_(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Sz(t,e){let n=null;if(e){try{n=new URL(e)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new ro(no.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${wz}:/`));const r=t.startsWith("/")?t:[...Y_(n.pathname),...Y_(t)].join("/");return new URL(r,n)}function Ez(t,e,n){return Tr(this,void 0,void 0,function*(){const r=RT(e),i=yield crypto.subtle.exportKey("raw",t),s=yz(i),o=Sz("v1/associate/local",n);return o.searchParams.set("association",vz(s)),o.searchParams.set("port",`${r}`),o})}const Zd={Firefox:0,Other:1};function bz(){return navigator.userAgent.indexOf("Firefox/")!==-1?Zd.Firefox:Zd.Other}function _z(){return new Promise((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),e()},2e3)})}let Al=null;function xz(t){Al==null&&(Al=document.createElement("iframe"),Al.style.display="none",document.body.appendChild(Al)),Al.contentWindow.location.href=t.toString()}function Cz(t,e){return Tr(this,void 0,void 0,function*(){const n=mz(),r=yield Ez(t,n,e);if(r.protocol==="https:")window.location.assign(r);else try{const i=bz();switch(i){case Zd.Firefox:xz(r);break;case Zd.Other:{const s=_z();window.location.assign(r),yield s;break}default:}}catch{throw new ro(no.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return n})}const Z_={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},Iz="com.solana.mobilewalletadapter.v1";function Mz(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ro(no.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Az(t){let e;try{e=new URL(t)}catch{throw new ro(no.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new ro(no.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function kz(t){return new DataView(t).getUint32(0,!1)}function Tz(t,e){return Tr(this,void 0,void 0,function*(){Mz();const n=yield cz(),r=yield Cz(n.publicKey,e==null?void 0:e.baseUri),i=`ws://localhost:${r}/solana-wallet`;let s;const o=(()=>{const d=[...Z_.retryDelayScheduleMs];return()=>d.length>1?d.shift():d[0]})();let a=1,u=0,c={__type:"disconnected"};return new Promise((d,g)=>{let S;const w={},I=()=>Tr(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}const{associationKeypair:L}=c;S.removeEventListener("open",I);const P=yield fz();S.send(yield uz(P.publicKey,L.privateKey)),c={__type:"hello_req_sent",associationPublicKey:L.publicKey,ecdhPrivateKey:P.privateKey}}),x=L=>{L.wasClean?c={__type:"disconnected"}:g(new ro(no.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${L.code}: ${L.reason}).`,{closeEvent:L})),T()},N=L=>Tr(this,void 0,void 0,function*(){T(),Date.now()-s>=Z_.timeoutMs?g(new ro(no.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise(P=>{const F=o();M=window.setTimeout(P,F)}),B())}),k=L=>Tr(this,void 0,void 0,function*(){const P=yield L.data.arrayBuffer();switch(c.__type){case"connected":try{const F=P.slice(0,Xa),U=kz(F);if(U!==u+1)throw new Error("Encrypted message has invalid sequence number");u=U;const J=yield dz(P,c.sharedSecret),Z=w[J.id];delete w[J.id],Z.resolve(J.result)}catch(F){if(F instanceof kT){const U=w[F.jsonRpcMessageId];delete w[F.jsonRpcMessageId],U.reject(F)}else throw F}break;case"hello_req_sent":{const F=yield gz(P,c.associationPublicKey,c.ecdhPrivateKey);c={__type:"connected",sharedSecret:F};const U=new Proxy({},{get(J,Z){if(J[Z]==null){const Y=Z.toString().replace(/[A-Z]/g,le=>`_${le.toLowerCase()}`).toLowerCase();J[Z]=function(le){return Tr(this,void 0,void 0,function*(){const A=a++;return S.send(yield hz({id:A,jsonrpc:"2.0",method:Y,params:le??{}},F)),new Promise((l,h)=>{w[A]={resolve(p){switch(Z){case"authorize":case"reauthorize":{const{wallet_uri_base:y}=p;if(y!=null)try{Az(y)}catch(m){h(m);return}break}}l(p)},reject:h}})})}}return J[Z]},defineProperty(){return!1},deleteProperty(){return!1}});try{d(yield t(U))}catch(J){g(J)}finally{T(),S.close()}break}}});let T,M;const B=()=>{T&&T(),c={__type:"connecting",associationKeypair:n},s===void 0&&(s=Date.now()),S=new WebSocket(i,[Iz]),S.addEventListener("open",I),S.addEventListener("close",x),S.addEventListener("error",N),S.addEventListener("message",k),T=()=>{window.clearTimeout(M),S.removeEventListener("open",I),S.removeEventListener("close",x),S.removeEventListener("error",N),S.removeEventListener("message",k)}};B()})})}function Rz(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var I=0,x=0,N=0,k=w.length;N!==k&&w[N]===0;)N++,I++;for(var T=(k-N)*c+1>>>0,M=new Uint8Array(T);N!==k;){for(var B=w[N],L=0,P=T-1;(B!==0||L<x)&&P!==-1;P--,L++)B+=256*M[P]>>>0,M[P]=B%o>>>0,B=B/o>>>0;if(B!==0)throw new Error("Non-zero carry");x=L,N++}for(var F=T-x;F!==T&&M[F]===0;)F++;for(var U=a.repeat(I);F<T;++F)U+=t.charAt(M[F]);return U}function g(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var I=0,x=0,N=0;w[I]===a;)x++,I++;for(var k=(w.length-I)*u+1>>>0,T=new Uint8Array(k);w[I];){var M=e[w.charCodeAt(I)];if(M===255)return;for(var B=0,L=k-1;(M!==0||B<N)&&L!==-1;L--,B++)M+=o*T[L]>>>0,T[L]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");N=B,I++}for(var P=k-N;P!==k&&T[P]===0;)P++;for(var F=new Uint8Array(x+(k-P)),U=x;P!==k;)F[U++]=T[P++];return F}function S(w){var I=g(w);if(I)return I;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:g,decode:S}}var Nz=Rz;const Oz=Nz,Lz="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Dz=Oz(Lz);const Pz=ds(Dz);function rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(g){o(g)}}function u(d){try{c(r.throw(d))}catch(g){o(g)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function NT(t){return window.btoa(String.fromCharCode.call(null,...t))}function im(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function X_(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return NT(e)}function Bz(t){const n=t[0]*ju+1;return aS.deserializeMessageVersion(t.slice(n,t.length))==="legacy"?gr.from(t):Hc.deserialize(t)}function Fz(t,e){return fh(this,void 0,void 0,function*(){return yield Tz(r=>{const i=new Proxy({},{get(s,o){if(s[o]==null)switch(o){case"signAndSendTransactions":s[o]=function(a){var{minContextSlot:u,transactions:c}=a,d=rm(a,["minContextSlot","transactions"]);return fh(this,void 0,void 0,function*(){const g=c.map(X_),{signatures:S}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},d),u!=null?{options:{min_context_slot:u}}:null),{payloads:g}));return S.map(im).map(Pz.encode)})};break;case"signMessages":s[o]=function(a){var{payloads:u}=a,c=rm(a,["payloads"]);return fh(this,void 0,void 0,function*(){const d=u.map(NT),{signed_payloads:g}=yield r.signMessages(Object.assign(Object.assign({},c),{payloads:d}));return g.map(im)})};break;case"signTransactions":s[o]=function(a){var{transactions:u}=a,c=rm(a,["transactions"]);return fh(this,void 0,void 0,function*(){const d=u.map(X_),{signed_payloads:g}=yield r.signTransactions(Object.assign(Object.assign({},c),{payloads:d}));return g.map(im).map(Bz)})};break;default:{s[o]=r[o];break}}return s[o]},defineProperty(){return!1},deleteProperty(){return!1}});return t(i)},e)})}function xt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(g){o(g)}}function u(d){try{c(r.throw(d))}catch(g){o(g)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function $z(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function Uz(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const xs="Mobile Wallet Adapter",zz=64;function Vz(t){const e=$z(t);return new xe(e)}function J_(t){return"version"in t}class jz extends kg{constructor(e){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=xs,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=Uz()?Le.Loadable:Le.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._cluster=e.cluster,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==Le.Unsupported&&this._authorizationResultCache.get().then(n=>{n&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=Vz(this._selectedAddress)}catch(e){throw new to(e instanceof Error&&(e==null?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==Le.Installed&&this.emit("readyStateChange",this._readyState=Le.Installed)}runWithGuard(e){return xt(this,void 0,void 0,function*(){try{return yield e()}catch(n){throw this.emit("error",n),n}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return xt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return xt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>xt(this,void 0,void 0,function*(){if(this._readyState!==Le.Installed&&this._readyState!==Le.Loadable)throw new eo;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new da(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}connect(){return xt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>xt(this,void 0,void 0,function*(){if(this._readyState!==Le.Installed&&this._readyState!==Le.Loadable)throw new eo;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();if(e){this.handleAuthorizationResult(e);return}yield this.transact(n=>xt(this,void 0,void 0,function*(){const r=yield n.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}))}catch(e){throw new da(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}handleAuthorizationResult(e){var n;return xt(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((n=this._authorizationResult)===null||n===void 0?void 0:n.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some((i,s)=>i.address!==e.accounts[s].address);if(this._authorizationResult=e,this.declareWalletAsInstalled(),r){const i=yield this._addressSelector.select(e.accounts.map(({address:s})=>s));i!==this._selectedAddress&&(this._selectedAddress=i,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(e,n){return xt(this,void 0,void 0,function*(){try{const r=yield e.reauthorize({auth_token:n,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new Af(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return xt(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(e){var n;return xt(this,void 0,void 0,function*(){const r=(n=this._authorizationResult)===null||n===void 0?void 0:n.wallet_uri_base,i=r?{baseUri:r}:void 0,s=this._connectionGeneration;try{return yield Fz(e,i)}catch(o){throw this._connectionGeneration!==s&&(yield new Promise(()=>{})),o instanceof Error&&o.name==="SolanaMobileWalletAdapterError"&&o.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),o}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new rn;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return xt(this,void 0,void 0,function*(){const{authToken:n}=this.assertIsAuthorized();try{return yield this.transact(r=>xt(this,void 0,void 0,function*(){return yield this.performReauthorization(r,n),yield r.signTransactions({transactions:e})}))}catch(r){throw new ar(r==null?void 0:r.message,r)}})}sendTransaction(e,n,r){return xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>xt(this,void 0,void 0,function*(){const{authToken:i}=this.assertIsAuthorized(),s=r==null?void 0:r.minContextSlot;try{return yield this.transact(o=>xt(this,void 0,void 0,function*(){function a(){let g;switch(n.commitment){case"confirmed":case"finalized":case"processed":g=n.commitment;break;default:g="finalized"}let S;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":S=r.preflightCommitment;break;case void 0:S=g;default:S="finalized"}return(S==="finalized"?2:S==="confirmed"?1:0)<(g==="finalized"?2:g==="confirmed"?1:0)?S:g}const[u,c,d]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,i),J_(e)?null:(()=>xt(this,void 0,void 0,function*(){var g;if(e.feePayer||(e.feePayer=(g=this.publicKey)!==null&&g!==void 0?g:void 0),e.recentBlockhash==null){const{blockhash:S}=yield n.getLatestBlockhash({commitment:a()});e.recentBlockhash=S}}))()]);if(u.supports_sign_and_send_transactions)return(yield o.signAndSendTransactions({minContextSlot:s,transactions:[e]}))[0];{const[g]=yield o.signTransactions({transactions:[e]});if(J_(g))return yield n.sendTransaction(g);{const S=g.serialize();return yield n.sendRawTransaction(S,Object.assign(Object.assign({},r),{preflightCommitment:a()}))}}}))}catch(o){throw new Ji(o==null?void 0:o.message,o)}}))})}signTransaction(e){return xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>xt(this,void 0,void 0,function*(){const[n]=yield this.performSignTransactions([e]);return n}))})}signAllTransactions(e){return xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>xt(this,void 0,void 0,function*(){return yield this.performSignTransactions(e)}))})}signMessage(e){return xt(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>xt(this,void 0,void 0,function*(){const{authToken:n,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(i=>xt(this,void 0,void 0,function*(){yield this.performReauthorization(i,n);const[s]=yield i.signMessages({addresses:[r],payloads:[e]});return s.slice(-zz)}))}catch(i){throw new Kc(i==null?void 0:i.message,i)}}))})}}function Hz(){return{select(t){return xt(this,void 0,void 0,function*(){return t[0]})}}}const sm="SolanaMobileWalletAdapterDefaultAuthorizationCache";function qz(){let t;try{t=window.localStorage}catch{}return{clear(){return xt(this,void 0,void 0,function*(){if(t)try{t.removeItem(sm)}catch{}})},get(){return xt(this,void 0,void 0,function*(){if(t)try{return JSON.parse(t.getItem(sm))||void 0}catch{}})},set(e){return xt(this,void 0,void 0,function*(){if(t)try{t.setItem(sm,JSON.stringify(e))}catch{}})}}}function Wz(t){return xt(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(t.url)})}function Kz(){return Wz}function om(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const ex="solana:mainnet",Gz="solana:devnet",Qz="solana:testnet",Yz="solana:localnet",Zz="https://api.mainnet-beta.solana.com";function Xz(t){return t.includes(Zz)?ex:/\bdevnet\b/i.test(t)?Gz:/\btestnet\b/i.test(t)?Qz:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?Yz:ex}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;function Jz(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var fr=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Be=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},li,Ti,Ja,Da,Pa,rc,Lt,Uh,zh,Xd,Vh,dv,tx,nx,rx;class e7 extends CT{constructor({wallet:e}){super(),li.add(this),Ti.set(this,void 0),Ja.set(this,void 0),Da.set(this,void 0),Pa.set(this,void 0),rc.set(this,void 0),Lt.set(this,void 0),Uh.set(this,void 0),zh.set(this,typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.Installed),dv.set(this,r=>{if(Be(this,Pa,"f")||!Be(this,Ti,"f")||!Be(this,Ja,"f")||!("accounts"in r))return;const i=Be(this,Lt,"f").accounts[0];if(!i){Be(this,li,"m",Vh).call(this),this.emit("error",new Af),this.emit("disconnect");return}if(i===Be(this,Ti,"f"))return;let s;try{s=new xe(i.publicKey)}catch(o){Be(this,li,"m",Vh).call(this),this.emit("error",new to(o==null?void 0:o.message)),this.emit("disconnect");return}Be(this,li,"m",Xd).call(this,i,s),this.emit("connect",s)}),fr(this,Lt,e,"f");const n=Es in e.features?e.features[Es].supportedTransactionVersions:e.features[Kn].supportedTransactionVersions;fr(this,Uh,Jz(n,["legacy"])?null:new Set(n),"f"),fr(this,Ti,null,"f"),fr(this,Ja,null,"f"),fr(this,Da,!1,"f"),fr(this,Pa,!1,"f")}get supportedTransactionVersions(){return Be(this,Uh,"f")}get name(){return Be(this,Lt,"f").name}get icon(){return Be(this,Lt,"f").icon}get url(){return"https://github.com/solana-labs/wallet-standard"}get publicKey(){return Be(this,Ja,"f")}get connecting(){return Be(this,Da,"f")}get readyState(){return Be(this,zh,"f")}get wallet(){return Be(this,Lt,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(Be(this,zh,"f")!==Le.Installed)throw new eo;if(fr(this,Da,!0,"f"),!Be(this,Lt,"f").accounts.length)try{await Be(this,Lt,"f").features[IT].connect()}catch(r){throw new da(r==null?void 0:r.message,r)}if(!Be(this,Lt,"f").accounts.length)throw new vu;const e=Be(this,Lt,"f").accounts[0];let n;try{n=new xe(e.publicKey)}catch(r){throw new to(r==null?void 0:r.message,r)}fr(this,rc,Be(this,Lt,"f").features[MT].on("change",Be(this,dv,"f")),"f"),Be(this,li,"m",Xd).call(this,e,n),this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{fr(this,Da,!1,"f")}}async disconnect(){if(G_ in Be(this,Lt,"f").features)try{fr(this,Pa,!0,"f"),await Be(this,Lt,"f").features[G_].disconnect()}catch(e){this.emit("error",new Ag(e==null?void 0:e.message,e))}finally{fr(this,Pa,!1,"f")}Be(this,li,"m",Vh).call(this),this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=Be(this,Ti,"f");if(!i)throw new rn;let s;if(Es in Be(this,Lt,"f").features)if(i.features.includes(Es))s=Es;else if(Kn in Be(this,Lt,"f").features&&i.features.includes(Kn))s=Kn;else throw new vu;else if(Kn in Be(this,Lt,"f").features){if(!i.features.includes(Kn))throw new vu;s=Kn}else throw new nc;const o=Xz(n.rpcEndpoint);if(!i.chains.includes(o))throw new Ji;try{const{signers:a,...u}=r;let c;if(Os(e)?(a!=null&&a.length&&e.sign(a),c=e.serialize()):(e=await this.prepareTransaction(e,n,u),a!=null&&a.length&&e.partialSign(...a),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===Es){const[d]=await Be(this,Lt,"f").features[Es].signAndSendTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:om(u.preflightCommitment||n.commitment),skipPreflight:u.skipPreflight,maxRetries:u.maxRetries,minContextSlot:u.minContextSlot}});return vn.encode(d.signature)}else{const[d]=await Be(this,Lt,"f").features[Kn].signTransaction({account:i,chain:o,transaction:c,options:{preflightCommitment:om(u.preflightCommitment||n.commitment),minContextSlot:u.minContextSlot}});return await n.sendRawTransaction(d.signedTransaction,{...u,preflightCommitment:om(u.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof Bn?a:new Ji(a==null?void 0:a.message,a)}}catch(i){throw this.emit("error",i),i}}}Ti=new WeakMap,Ja=new WeakMap,Da=new WeakMap,Pa=new WeakMap,rc=new WeakMap,Lt=new WeakMap,Uh=new WeakMap,zh=new WeakMap,dv=new WeakMap,li=new WeakSet,Xd=function(e,n){fr(this,Ti,e,"f"),fr(this,Ja,n,"f"),e!=null&&e.features.includes(Kn)?(this.signTransaction=Be(this,li,"m",tx),this.signAllTransactions=Be(this,li,"m",nx)):(delete this.signTransaction,delete this.signAllTransactions),e!=null&&e.features.includes(ch)?this.signMessage=Be(this,li,"m",rx):delete this.signMessage},Vh=function(){const e=Be(this,rc,"f");e&&(fr(this,rc,void 0,"f"),e()),Be(this,li,"m",Xd).call(this,null,null)},tx=async function(e){try{const n=Be(this,Ti,"f");if(!n)throw new rn;if(!(Kn in Be(this,Lt,"f").features))throw new nc;if(!n.features.includes(Kn))throw new vu;try{const i=(await Be(this,Lt,"f").features[Kn].signTransaction({account:n,transaction:Os(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Os(e)?Hc.deserialize(i):gr.from(i)}catch(r){throw r instanceof Bn?r:new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},nx=async function(e){try{const n=Be(this,Ti,"f");if(!n)throw new rn;if(!(Kn in Be(this,Lt,"f").features))throw new nc;if(!n.features.includes(Kn))throw new ar;try{const r=await Be(this,Lt,"f").features[Kn].signTransaction(...e.map(i=>({account:n,transaction:Os(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((i,s)=>{const o=r[s].signedTransaction;return Os(i)?Hc.deserialize(o):gr.from(o)})}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},rx=async function(e){try{const n=Be(this,Ti,"f");if(!n)throw new rn;if(!(ch in Be(this,Lt,"f").features))throw new nc;if(!n.features.includes(ch))throw new Kc;try{return(await Be(this,Lt,"f").features[ch].signMessage({account:n,message:e}))[0].signature}catch(r){throw new Kc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}};const t7=sz;var n7=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},r7=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},jh;let Cr;const Hh=new Set,eu={};function i7(){if(Cr||(Cr=Object.freeze({register:ix,get:s7,on:o7}),typeof window>"u"))return Cr;const t=Object.freeze({register:ix});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new a7(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Cr}function ix(...t){var e;return t=t.filter(n=>!Hh.has(n)),t.length?(t.forEach(n=>Hh.add(n)),(e=eu.register)==null||e.forEach(n=>pv(()=>n(...t))),function(){var r;t.forEach(i=>Hh.delete(i)),(r=eu.unregister)==null||r.forEach(i=>pv(()=>i(...t)))}):()=>{}}function s7(){return[...Hh]}function o7(t,e){var n;return(n=eu[t])!=null&&n.push(e)||(eu[t]=[e]),function(){var i;eu[t]=(i=eu[t])==null?void 0:i.filter(s=>e!==s)}}function pv(t){try{t()}catch(e){console.error(e)}}class a7 extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),jh.set(this,void 0),n7(this,jh,e,"f")}get detail(){return r7(this,jh,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}jh=new WeakMap;function u7(){if(Cr||(Cr=i7(),typeof window>"u"))return Cr;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Cr;const{register:e}=Cr,n=(...r)=>r.forEach(i=>pv(()=>i({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),Cr}return n(...t),Cr}function l7(t){const{get:e,on:n}=sx(()=>u7()),[r,i]=$.useState(()=>ox(e())),s=sx(()=>new Set);return $.useEffect(()=>{const o=[n("register",(...a)=>i(u=>[...u,...ox(a)])),n("unregister",(...a)=>i(u=>u.filter(c=>a.some(d=>d===c.wallet))))];return()=>o.forEach(a=>a())},[n]),$.useMemo(()=>[...r,...t.filter(({name:o})=>r.some(a=>a.name===o)?(s.has(o)||(s.add(o),console.warn(`${o} was registered as a Standard Wallet. The Wallet Adapter for ${o} can be removed from your app.`)),!1):!0)],[r,t,s])}function sx(t){const e=$.useRef();return e.current||(e.current={value:t()}),e.current.value}function ox(t){return t.filter(t7).map(e=>new e7({wallet:e}))}var wu;(function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"})(wu||(wu={}));function c7(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function f7({adapters:t,userAgentString:e}){return t.some(n=>n.name!==xs&&n.readyState===Le.Installed)?wu.DESKTOP_WEB:e&&/android/i.test(e)&&!c7(e)?wu.MOBILE_WEB:wu.DESKTOP_WEB}function h7(t){return t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"}function d7({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const u=$.useRef(!1),[c,d]=$.useState(!1),g=$.useRef(!1),[S,w]=$.useState(!1),[I,x]=$.useState(()=>(n==null?void 0:n.publicKey)??null),[N,k]=$.useState(()=>(n==null?void 0:n.connected)??!1),T=$.useRef(o);$.useEffect(()=>(T.current=o,()=>{T.current=void 0}),[o]);const M=$.useRef((l,h)=>(r.current||(T.current?T.current(l,h):(console.error(l,h),l instanceof eo&&typeof window<"u"&&h&&window.open(h.url,"_blank"))),l)),[B,L]=$.useState(()=>e.map(l=>({adapter:l,readyState:l.readyState})).filter(({readyState:l})=>l!==Le.Unsupported));$.useEffect(()=>{L(h=>e.map((p,y)=>{const m=h[y];return m&&m.adapter===p&&m.readyState===p.readyState?m:{adapter:p,readyState:p.readyState}}).filter(({readyState:p})=>p!==Le.Unsupported));function l(h){L(p=>{const y=p.findIndex(({adapter:b})=>b===this);if(y===-1)return p;const{adapter:m}=p[y];return[...p.slice(0,y),{adapter:m,readyState:h},...p.slice(y+1)].filter(({readyState:b})=>b!==Le.Unsupported)})}return e.forEach(h=>h.on("readyStateChange",l,h)),()=>{e.forEach(h=>h.off("readyStateChange",l,h))}},[n,e]);const P=$.useMemo(()=>B.find(l=>l.adapter===n)??null,[n,B]);$.useEffect(()=>{if(!n)return;const l=y=>{x(y),u.current=!1,d(!1),k(!0),g.current=!1,w(!1)},h=()=>{r.current||(x(null),u.current=!1,d(!1),k(!1),g.current=!1,w(!1))},p=y=>{M.current(y,n)};return n.on("connect",l),n.on("disconnect",h),n.on("error",p),()=>{n.off("connect",l),n.off("disconnect",h),n.off("error",p),h()}},[n,r]);const F=$.useRef(!1);$.useEffect(()=>()=>{F.current=!1},[n]),$.useEffect(()=>{F.current||u.current||N||!i||!((P==null?void 0:P.readyState)===Le.Installed||(P==null?void 0:P.readyState)===Le.Loadable)||(u.current=!0,d(!0),F.current=!0,async function(){try{await i()}catch{s()}finally{d(!1),u.current=!1}}())},[N,i,s,P]);const U=$.useCallback(async(l,h,p)=>{if(!n)throw M.current(new Q_);if(!N)throw M.current(new rn,n);return await n.sendTransaction(l,h,p)},[n,N]),J=$.useMemo(()=>n&&"signTransaction"in n?async l=>{if(!N)throw M.current(new rn,n);return await n.signTransaction(l)}:void 0,[n,N]),Z=$.useMemo(()=>n&&"signAllTransactions"in n?async l=>{if(!N)throw M.current(new rn,n);return await n.signAllTransactions(l)}:void 0,[n,N]),Y=$.useMemo(()=>n&&"signMessage"in n?async l=>{if(!N)throw M.current(new rn,n);return await n.signMessage(l)}:void 0,[n,N]),le=$.useCallback(async()=>{if(u.current||g.current||P!=null&&P.adapter.connected)return;if(!P)throw M.current(new Q_);const{adapter:l,readyState:h}=P;if(!(h===Le.Installed||h===Le.Loadable))throw M.current(new eo,l);u.current=!0,d(!0);try{await l.connect()}catch(p){throw s(),p}finally{d(!1),u.current=!1}},[s,P]),A=$.useCallback(async()=>{if(!g.current&&n){g.current=!0,w(!0);try{await n.disconnect()}finally{w(!1),g.current=!1}}},[n]);return Q.createElement(AT.Provider,{value:{autoConnect:!!i,wallets:B,wallet:P,publicKey:I,connected:N,connecting:c,disconnecting:S,select:a,connect:le,disconnect:A,sendTransaction:U,signTransaction:J,signAllTransactions:Z,signMessage:Y}},t)}let am;function p7(){var t;return am===void 0&&(am=((t=globalThis.navigator)==null?void 0:t.userAgent)??null),am}function hh(t){const e=p7();return f7({adapters:t,userAgentString:e})===wu.MOBILE_WEB}function g7(){const t=globalThis.location;if(t!=null)return`${t.protocol}//${t.host}`}function m7({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=xT(),o=l7(e),a=$.useMemo(()=>{if(!hh(o))return null;const T=o.find(M=>M.name===xs);return T||new jz({addressSelector:Hz(),appIdentity:{uri:g7()},authorizationResultCache:qz(),cluster:h7(s==null?void 0:s.rpcEndpoint),onWalletNotFound:Kz()})},[o,s==null?void 0:s.rpcEndpoint]),u=$.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[c,d]=az(r,hh(o)?xs:null),g=$.useMemo(()=>u.find(T=>T.name===c)??null,[u,c]),S=$.useCallback(T=>{c!==T&&(g&&g.name!==xs&&g.disconnect(),d(T))},[g,d,c]);$.useEffect(()=>{if(g==null)return;function T(){x.current||c===xs&&hh(o)||d(null)}return g.on("disconnect",T),()=>{g.off("disconnect",T)}},[g,o,d,c]);const w=$.useRef(!1),I=$.useMemo(()=>{if(!(n!==!0||!g))return()=>w.current?g.connect():g.autoConnect()},[g,n]),x=$.useRef(!1);$.useEffect(()=>{if(c===xs&&hh(o)){x.current=!1;return}function T(){x.current=!0}return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[o,c]);const N=$.useCallback(()=>{g&&g.name!==xs&&S(null)},[g,S]),k=$.useCallback(T=>{w.current=!0,S(T)},[S]);return Q.createElement(d7,{wallets:u,adapter:g,isUnloadingRef:x,onAutoConnectRequest:I,onConnectError:N,onError:i,onSelectWallet:k},t)}const OT={setVisible(t){console.error(LT("call","setVisible"))},visible:!1};Object.defineProperty(OT,"visible",{get(){return console.error(LT("read","visible")),!1}});function LT(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const DT=$.createContext(OT);function dS(){return $.useContext(DT)}const Rg=t=>Q.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&Q.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&Q.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),pS=({wallet:t,...e})=>t&&Q.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e}),y7=({children:t,disabled:e,onClick:n,...r})=>{const{wallet:i,connect:s,connecting:o,connected:a}=xa(),u=$.useCallback(d=>{n&&n(d),d.defaultPrevented||s().catch(()=>{})},[n,s]),c=$.useMemo(()=>t||(o?"Connecting ...":a?"Connected":i?"Connect":"Connect Wallet"),[t,o,a,i]);return Q.createElement(Rg,{className:"wallet-adapter-button-trigger",disabled:e||!i||o||a,startIcon:i?Q.createElement(pS,{wallet:i}):void 0,onClick:u,...r},c)},ax=({id:t,children:e,expanded:n=!1})=>{const r=$.useRef(null),i=$.useRef(!0),s="height 250ms ease-out",o=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.scrollHeight+"px"})},a=()=>{const u=r.current;u&&requestAnimationFrame(()=>{u.style.height=u.offsetHeight+"px",u.style.overflow="hidden",requestAnimationFrame(()=>{u.style.height="0"})})};return $.useLayoutEffect(()=>{n?o():a()},[n]),$.useLayoutEffect(()=>{const u=r.current;if(!u)return;function c(){u&&(u.style.overflow=n?"initial":"hidden",n&&(u.style.height="auto"))}function d(g){u&&g.target===u&&g.propertyName==="height"&&c()}return i.current&&(c(),i.current=!1),u.addEventListener("transitionend",d),()=>u.removeEventListener("transitionend",d)},[n]),Q.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:i.current?void 0:s}},e)},um=({handleClick:t,tabIndex:e,wallet:n})=>Q.createElement("li",null,Q.createElement(Rg,{onClick:t,startIcon:Q.createElement(pS,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===Le.Installed&&Q.createElement("span",null,"Detected"))),v7=()=>Q.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),Q.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),Q.createElement("g",{clipPath:"url(#clip0_880_5115)"},Q.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),Q.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),Q.createElement("defs",null,Q.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},Q.createElement("stop",{stopColor:"#9945FF"}),Q.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),Q.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),Q.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),Q.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),Q.createElement("stop",{offset:"1",stopColor:"#00D18C"})),Q.createElement("clipPath",{id:"clip0_880_5115"},Q.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),w7=({className:t="",container:e="body"})=>{const n=$.useRef(null),{wallets:r,select:i}=xa(),{setVisible:s}=dS(),[o,a]=$.useState(!1),[u,c]=$.useState(!1),[d,g]=$.useState(null),[S,w]=$.useMemo(()=>{const M=[],B=[],L=[];for(const U of r)U.readyState===Le.NotDetected?L.push(U):U.readyState===Le.Loadable?B.push(U):U.readyState===Le.Installed&&M.push(U);let P=[],F=[];return M.length?(P=M,F=[...B,...L]):(B.length&&(P=B),F=L),[P,F]},[r]),I=$.useCallback(()=>{c(!1),setTimeout(()=>s(!1),150)},[s]),x=$.useCallback(M=>{M.preventDefault(),I()},[I]),N=$.useCallback((M,B)=>{i(B),x(M)},[i,x]),k=$.useCallback(()=>a(!o),[o]),T=$.useCallback(M=>{const B=n.current;if(!B)return;const L=B.querySelectorAll("button"),P=L[0],F=L[L.length-1];M.shiftKey?document.activeElement===P&&(F.focus(),M.preventDefault()):document.activeElement===F&&(P.focus(),M.preventDefault())},[n]);return $.useLayoutEffect(()=>{const M=L=>{L.key==="Escape"?I():L.key==="Tab"&&T(L)},{overflow:B}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",M,!1),()=>{document.body.style.overflow=B,window.removeEventListener("keydown",M,!1)}},[I,T]),$.useLayoutEffect(()=>g(document.querySelector(e)),[e]),d&&tf.createPortal(Q.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${u&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},Q.createElement("div",{className:"wallet-adapter-modal-container"},Q.createElement("div",{className:"wallet-adapter-modal-wrapper"},Q.createElement("button",{onClick:x,className:"wallet-adapter-modal-button-close"},Q.createElement("svg",{width:"14",height:"14"},Q.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),S.length?Q.createElement(Q.Fragment,null,Q.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),Q.createElement("ul",{className:"wallet-adapter-modal-list"},S.map(M=>Q.createElement(um,{key:M.adapter.name,handleClick:B=>N(B,M.adapter.name),wallet:M})),w.length?Q.createElement(ax,{expanded:o,id:"wallet-adapter-modal-collapse"},w.map(M=>Q.createElement(um,{key:M.adapter.name,handleClick:B=>N(B,M.adapter.name),tabIndex:o?0:-1,wallet:M}))):null),w.length?Q.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},Q.createElement("span",null,o?"Less ":"More ","options"),Q.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Q.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):Q.createElement(Q.Fragment,null,Q.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),Q.createElement("div",{className:"wallet-adapter-modal-middle"},Q.createElement(v7,null)),w.length?Q.createElement(Q.Fragment,null,Q.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},Q.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),Q.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},Q.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),Q.createElement(ax,{expanded:o,id:"wallet-adapter-modal-collapse"},Q.createElement("ul",{className:"wallet-adapter-modal-list"},w.map(M=>Q.createElement(um,{key:M.adapter.name,handleClick:B=>N(B,M.adapter.name),tabIndex:o?0:-1,wallet:M}))))):null))),Q.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:x})),d)},S7=({children:t="Select Wallet",onClick:e,...n})=>{const{visible:r,setVisible:i}=dS(),s=$.useCallback(o=>{e&&e(o),o.defaultPrevented||i(!r)},[e,i,r]);return Q.createElement(Rg,{className:"wallet-adapter-button-trigger",onClick:s,...n},t)},E7=({children:t,...e})=>{const[n,r]=$.useState(!1);return Q.createElement(DT.Provider,{value:{visible:n,setVisible:r}},t,n&&Q.createElement(w7,{...e}))},ux=({children:t,...e})=>{const{publicKey:n,wallet:r,disconnect:i}=xa(),{setVisible:s}=dS(),[o,a]=$.useState(!1),[u,c]=$.useState(!1),d=$.useRef(null),g=$.useMemo(()=>n==null?void 0:n.toBase58(),[n]),S=$.useMemo(()=>t||(!r||!g?null:g.slice(0,4)+".."+g.slice(-4)),[t,r,g]),w=$.useCallback(async()=>{g&&(await navigator.clipboard.writeText(g),a(!0),setTimeout(()=>a(!1),400))},[g]),I=$.useCallback(()=>{c(!0)},[]),x=$.useCallback(()=>{c(!1)},[]),N=$.useCallback(()=>{s(!0),x()},[s,x]);return $.useEffect(()=>{const k=T=>{const M=d.current;!M||M.contains(T.target)||x()};return document.addEventListener("mousedown",k),document.addEventListener("touchstart",k),()=>{document.removeEventListener("mousedown",k),document.removeEventListener("touchstart",k)}},[d,x]),r?g?Q.createElement("div",{className:"wallet-adapter-dropdown"},Q.createElement(Rg,{"aria-expanded":u,className:"wallet-adapter-button-trigger",style:{pointerEvents:u?"none":"auto",...e.style},onClick:I,startIcon:Q.createElement(pS,{wallet:r}),...e},S),Q.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${u&&"wallet-adapter-dropdown-list-active"}`,ref:d,role:"menu"},Q.createElement("li",{onClick:w,className:"wallet-adapter-dropdown-list-item",role:"menuitem"},o?"Copied":"Copy address"),Q.createElement("li",{onClick:N,className:"wallet-adapter-dropdown-list-item",role:"menuitem"},"Change wallet"),Q.createElement("li",{onClick:i,className:"wallet-adapter-dropdown-list-item",role:"menuitem"},"Disconnect"))):Q.createElement(y7,{...e},t):Q.createElement(S7,{...e},t)};const b7=1e9,PT=t=>{if(t===""||Number(Number(t).toFixed(0))===Number(t))return t;if(/[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)/.test(t))return Number(t).toFixed(9);const n=Math.min(t.split(".")[1].length,9);return Number(t).toFixed(n)},_7=t=>PT(Number(t/b7).toString()),x7=({setSolAmount:t,solAmount:e,disabled:n})=>Zn.jsxs(Zn.Fragment,{children:[Zn.jsx("label",{htmlFor:"amount-input",children:"Amount"}),Zn.jsx("input",{id:"amount-input",type:"number",value:e,placeholder:"amount (SOL)",step:1e-9,min:"0",onChange:i=>t(PT(i.target.value)),required:!0,disabled:n})]});function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gv(t,e)}function Ca(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gv(t,e)}var ol=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),Jd=typeof window>"u";function kn(){}function C7(t,e){return typeof t=="function"?t(e):t}function mv(t){return typeof t=="number"&&t>=0&&t!==1/0}function ep(t){return Array.isArray(t)?t:[t]}function BT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qh(t,e,n){return kf(t)?typeof e=="function"?lt({},n,{queryKey:t,queryFn:e}):lt({},e,{queryKey:t}):t}function I7(t,e,n){return kf(t)?typeof e=="function"?lt({},n,{mutationKey:t,mutationFn:e}):lt({},e,{mutationKey:t}):typeof t=="function"?lt({},e,{mutationFn:t}):lt({},t)}function Cs(t,e,n){return kf(t)?[lt({},e,{queryKey:t}),n]:[t||{},e]}function M7(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function lx(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,u=t.stale;if(kf(a)){if(r){if(e.queryHash!==gS(a,e.options))return!1}else if(!tp(e.queryKey,a))return!1}var c=M7(n,s);if(c==="none")return!1;if(c!=="all"){var d=e.isActive();if(c==="active"&&!d||c==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function cx(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(kf(s)){if(!e.options.mutationKey)return!1;if(n){if(Qo(e.options.mutationKey)!==Qo(s))return!1}else if(!tp(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function gS(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Qo;return n(t)}function Qo(t){var e=ep(t);return A7(e)}function A7(t){return JSON.stringify(t,function(e,n){return yv(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function tp(t,e){return FT(ep(t),ep(e))}function FT(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!FT(t[n],e[n])}):!1}function np(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||yv(t)&&yv(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,u=0;u<s;u++){var c=n?u:i[u];o[c]=np(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function k7(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function yv(t){if(!fx(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!fx(n)||!n.hasOwnProperty("isPrototypeOf"))}function fx(t){return Object.prototype.toString.call(t)==="[object Object]"}function kf(t){return typeof t=="string"||Array.isArray(t)}function T7(t){return new Promise(function(e){setTimeout(e,t)})}function hx(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function $T(){if(typeof AbortController=="function")return new AbortController}var R7=function(t){Ca(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Jd&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(ol),ic=new R7,N7=function(t){Ca(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!Jd&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(ol),Wh=new N7;function O7(t){return Math.min(1e3*Math.pow(2,t),3e4)}function rp(t){return typeof(t==null?void 0:t.cancel)=="function"}var UT=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Kh(t){return t instanceof UT}var zT=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(S){return i==null?void 0:i(S)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(S,w){o=S,a=w});var u=function(w){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(w),s==null||s(),o(w))},c=function(w){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(w),s==null||s(),a(w))},d=function(){return new Promise(function(w){s=w,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},g=function S(){if(!n.isResolved){var w;try{w=e.fn()}catch(I){w=Promise.reject(I)}i=function(x){if(!n.isResolved&&(c(new UT(x)),n.abort==null||n.abort(),rp(w)))try{w.cancel()}catch{}},n.isTransportCancelable=rp(w),Promise.resolve(w).then(u).catch(function(I){var x,N;if(!n.isResolved){var k=(x=e.retry)!=null?x:3,T=(N=e.retryDelay)!=null?N:O7,M=typeof T=="function"?T(n.failureCount,I):T,B=k===!0||typeof k=="number"&&n.failureCount<k||typeof k=="function"&&k(n.failureCount,I);if(r||!B){c(I);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,I),T7(M).then(function(){if(!ic.isFocused()||!Wh.isOnline())return d()}).then(function(){r?c(I):S()})}})}};g()},L7=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):hx(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&hx(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),zt=new L7,VT=console;function ip(){return VT}function D7(t){VT=t}var P7=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=lt({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),mv(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,u=C7(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,u)?u=a:this.options.structuralSharing!==!1&&(u=np(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),u},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(kn).catch(kn):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!BT(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(T){return T.options.queryFn});d&&this.setOptions(d.options)}var g=ep(this.queryKey),S=$T(),w={queryKey:g,pageParam:void 0,meta:this.meta};Object.defineProperty(w,"signal",{enumerable:!0,get:function(){if(S)return s.abortSignalConsumed=!0,S.signal}});var I=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(w)):Promise.reject("Missing queryFn")},x={fetchOptions:i,options:this.options,queryKey:g,state:this.state,fetchFn:I,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var N;(N=this.options.behavior)==null||N.onFetch(x)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=x.fetchOptions)==null?void 0:a.meta)){var k;this.dispatch({type:"fetch",meta:(k=x.fetchOptions)==null?void 0:k.meta})}return this.retryer=new zT({fn:x.fetchFn,abort:S==null||(u=S.abort)==null?void 0:u.bind(S),onSuccess:function(M){s.setData(M),s.cache.config.onSuccess==null||s.cache.config.onSuccess(M,s),s.cacheTime===0&&s.optionalRemove()},onError:function(M){Kh(M)&&M.silent||s.dispatch({type:"error",error:M}),Kh(M)||(s.cache.config.onError==null||s.cache.config.onError(M,s),ip().error(M)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),zt.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return lt({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return lt({},r,{isPaused:!0});case"continue":return lt({},r,{isPaused:!1});case"fetch":return lt({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return lt({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return Kh(a)&&a.revert&&this.revertState?lt({},this.revertState):lt({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return lt({},r,{isInvalidated:!0});case"setState":return lt({},r,i.state);default:return r}},t}(),B7=function(t){Ca(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,u=s.queryKey,c=(a=s.queryHash)!=null?a:gS(u,s),d=this.get(c);return d||(d=new P7({cache:this,queryKey:u,queryHash:c,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(u),meta:s.meta}),this.add(d)),d},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;zt.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=Cs(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return lx(a,u)})},n.findAll=function(i,s){var o=Cs(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(u){return lx(a,u)}):this.queries},n.notify=function(i){var s=this;zt.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;zt.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;zt.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(ol),F7=function(){function t(n){this.options=lt({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||jT(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(kn).catch(kn)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),ip().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new zT({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=$7(this.state,r),zt.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function jT(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function $7(t,e){switch(e.type){case"failed":return lt({},t,{failureCount:t.failureCount+1});case"pause":return lt({},t,{isPaused:!0});case"continue":return lt({},t,{isPaused:!1});case"loading":return lt({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return lt({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return lt({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return lt({},t,e.state);default:return t}}var U7=function(t){Ca(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new F7({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;zt.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return cx(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return cx(i,s)})},n.notify=function(i){var s=this;zt.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return zt.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(kn)})},Promise.resolve())})},e}(ol);function z7(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,u=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,d=c==null?void 0:c.pageParam,g=(c==null?void 0:c.direction)==="forward",S=(c==null?void 0:c.direction)==="backward",w=((o=e.state.data)==null?void 0:o.pages)||[],I=((a=e.state.data)==null?void 0:a.pageParams)||[],x=$T(),N=x==null?void 0:x.signal,k=I,T=!1,M=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},B=function(l,h,p,y){return k=y?[h].concat(k):[].concat(k,[h]),y?[p].concat(l):[].concat(l,[p])},L=function(l,h,p,y){if(T)return Promise.reject("Cancelled");if(typeof p>"u"&&!h&&l.length)return Promise.resolve(l);var m={queryKey:e.queryKey,signal:N,pageParam:p,meta:e.meta},b=M(m),R=Promise.resolve(b).then(function(f){return B(l,p,f,y)});if(rp(b)){var v=R;v.cancel=b.cancel}return R},P;if(!w.length)P=L([]);else if(g){var F=typeof d<"u",U=F?d:dx(e.options,w);P=L(w,F,U)}else if(S){var J=typeof d<"u",Z=J?d:V7(e.options,w);P=L(w,J,Z,!0)}else(function(){k=[];var A=typeof e.options.getNextPageParam>"u",l=u&&w[0]?u(w[0],0,w):!0;P=l?L([],A,I[0]):Promise.resolve(B([],I[0],w[0]));for(var h=function(m){P=P.then(function(b){var R=u&&w[m]?u(w[m],m,w):!0;if(R){var v=A?I[m]:dx(e.options,b);return L(b,A,v)}return Promise.resolve(B(b,I[m],w[m]))})},p=1;p<w.length;p++)h(p)})();var Y=P.then(function(A){return{pages:A,pageParams:k}}),le=Y;return le.cancel=function(){T=!0,x==null||x.abort(),rp(P)&&P.cancel()},Y}}}}function dx(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function V7(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var j7=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new B7,this.mutationCache=n.mutationCache||new U7,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=ic.subscribe(function(){ic.isFocused()&&Wh.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Wh.subscribe(function(){ic.isFocused()&&Wh.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=Cs(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(lt({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=qh(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return zt.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var u=a.queryKey;return[u,o.setQueryData(u,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=Cs(r,i),o=s[0],a=this.queryCache;zt.batch(function(){a.findAll(o).forEach(function(u){a.remove(u)})})},e.resetQueries=function(r,i,s){var o=this,a=Cs(r,i,s),u=a[0],c=a[1],d=this.queryCache,g=lt({},u,{active:!0});return zt.batch(function(){return d.findAll(u).forEach(function(S){S.reset()}),o.refetchQueries(g,c)})},e.cancelQueries=function(r,i,s){var o=this,a=Cs(r,i,s),u=a[0],c=a[1],d=c===void 0?{}:c;typeof d.revert>"u"&&(d.revert=!0);var g=zt.batch(function(){return o.queryCache.findAll(u).map(function(S){return S.cancel(d)})});return Promise.all(g).then(kn).catch(kn)},e.invalidateQueries=function(r,i,s){var o,a,u,c=this,d=Cs(r,i,s),g=d[0],S=d[1],w=lt({},g,{active:(o=(a=g.refetchActive)!=null?a:g.active)!=null?o:!0,inactive:(u=g.refetchInactive)!=null?u:!1});return zt.batch(function(){return c.queryCache.findAll(g).forEach(function(I){I.invalidate()}),c.refetchQueries(w,S)})},e.refetchQueries=function(r,i,s){var o=this,a=Cs(r,i,s),u=a[0],c=a[1],d=zt.batch(function(){return o.queryCache.findAll(u).map(function(S){return S.fetch(void 0,lt({},c,{meta:{refetchPage:u==null?void 0:u.refetchPage}}))})}),g=Promise.all(d).then(kn);return c!=null&&c.throwOnError||(g=g.catch(kn)),g},e.fetchQuery=function(r,i,s){var o=qh(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(kn).catch(kn)},e.fetchInfiniteQuery=function(r,i,s){var o=qh(r,i,s);return o.behavior=z7(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(kn).catch(kn)},e.cancelMutations=function(){var r=this,i=zt.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(kn).catch(kn)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return Qo(r)===Qo(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return tp(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return Qo(r)===Qo(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return tp(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=lt({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=gS(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:lt({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),H7=function(t){Ca(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),px(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return vv(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return vv(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var u=this.hasListeners();u&&gx(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},u=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(i).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return u(c),i[c]}})}),(s.useErrorBoundary||s.suspense)&&u("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var u=s.subscribe(function(c){c.isFetching||(u(),c.isError&&(i!=null&&i.throwOnError)?a(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(lt({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(kn)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Jd||this.currentResult.isStale||!mv(this.options.staleTime))){var s=BT(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Jd||this.options.enabled===!1||!mv(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||ic.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,u=this.currentResult,c=this.currentResultState,d=this.currentResultOptions,g=i!==o,S=g?i.state:this.currentQueryInitialState,w=g?this.currentResult:this.previousQueryResult,I=i.state,x=I.dataUpdatedAt,N=I.error,k=I.errorUpdatedAt,T=I.isFetching,M=I.status,B=!1,L=!1,P;if(s.optimisticResults){var F=this.hasListeners(),U=!F&&px(i,s),J=F&&gx(i,o,s,a);(U||J)&&(T=!0,x||(M="loading"))}if(s.keepPreviousData&&!I.dataUpdateCount&&(w!=null&&w.isSuccess)&&M!=="error")P=w.data,x=w.dataUpdatedAt,M=w.status,B=!0;else if(s.select&&typeof I.data<"u")if(u&&I.data===(c==null?void 0:c.data)&&s.select===this.selectFn)P=this.selectResult;else try{this.selectFn=s.select,P=s.select(I.data),s.structuralSharing!==!1&&(P=np(u==null?void 0:u.data,P)),this.selectResult=P,this.selectError=null}catch(le){ip().error(le),this.selectError=le}else P=I.data;if(typeof s.placeholderData<"u"&&typeof P>"u"&&(M==="loading"||M==="idle")){var Z;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(d==null?void 0:d.placeholderData))Z=u.data;else if(Z=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof Z<"u")try{Z=s.select(Z),s.structuralSharing!==!1&&(Z=np(u==null?void 0:u.data,Z)),this.selectError=null}catch(le){ip().error(le),this.selectError=le}typeof Z<"u"&&(M="success",P=Z,L=!0)}this.selectError&&(N=this.selectError,P=this.selectResult,k=Date.now(),M="error");var Y={status:M,isLoading:M==="loading",isSuccess:M==="success",isError:M==="error",isIdle:M==="idle",data:P,dataUpdatedAt:x,error:N,errorUpdatedAt:k,failureCount:I.fetchFailureCount,errorUpdateCount:I.errorUpdateCount,isFetched:I.dataUpdateCount>0||I.errorUpdateCount>0,isFetchedAfterMount:I.dataUpdateCount>S.dataUpdateCount||I.errorUpdateCount>S.errorUpdateCount,isFetching:T,isRefetching:T&&M!=="loading",isLoadingError:M==="error"&&I.dataUpdatedAt===0,isPlaceholderData:L,isPreviousData:B,isRefetchError:M==="error"&&I.dataUpdatedAt!==0,isStale:mS(i,s),refetch:this.refetch,remove:this.remove};return Y},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,u=o.notifyOnChangePropsExclusions;if(!a&&!u||a==="tracked"&&!this.trackedProps.length)return!0;var c=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(d){var g=d,S=i[g]!==s[g],w=c==null?void 0:c.some(function(x){return x===d}),I=u==null?void 0:u.some(function(x){return x===d});return S&&!I&&(!c||w)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!k7(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(lt({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!Kh(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;zt.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(ol);function q7(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function px(t,e){return q7(t,e)||t.state.dataUpdatedAt>0&&vv(t,e,e.refetchOnMount)}function vv(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&mS(t,e)}return!1}function gx(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&mS(t,n)}function mS(t,e){return t.isStaleByTime(e.staleTime)}var W7=function(t){Ca(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,lt({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:jT(),s=lt({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},n.notify=function(i){var s=this;zt.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(ol),K7=mN.unstable_batchedUpdates;zt.setBatchNotifyFunction(K7);var G7=console;D7(G7);var mx=Q.createContext(void 0),HT=Q.createContext(!1);function qT(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=mx),window.ReactQueryClientContext):mx}var yS=function(){var e=Q.useContext(qT(Q.useContext(HT)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Q7=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;Q.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=qT(i);return Q.createElement(HT.Provider,{value:i},Q.createElement(o.Provider,{value:n},s))};function Y7(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var Z7=Q.createContext(Y7()),X7=function(){return Q.useContext(Z7)};function WT(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function KT(t,e,n){var r=Q.useRef(!1),i=Q.useState(0),s=i[1],o=I7(t,e,n),a=yS(),u=Q.useRef();u.current?u.current.setOptions(o):u.current=new W7(a,o);var c=u.current.getCurrentResult();Q.useEffect(function(){r.current=!0;var g=u.current.subscribe(zt.batchCalls(function(){r.current&&s(function(S){return S+1})}));return function(){r.current=!1,g()}},[]);var d=Q.useCallback(function(g,S){u.current.mutate(g,S).catch(kn)},[]);if(c.error&&WT(void 0,u.current.options.useErrorBoundary,[c.error]))throw c.error;return lt({},c,{mutate:d,mutateAsync:c.mutate})}function J7(t,e){var n=Q.useRef(!1),r=Q.useState(0),i=r[1],s=yS(),o=X7(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=zt.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=zt.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=zt.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var u=Q.useState(function(){return new e(s,a)}),c=u[0],d=c.getOptimisticResult(a);if(Q.useEffect(function(){n.current=!0,o.clearReset();var g=c.subscribe(zt.batchCalls(function(){n.current&&i(function(S){return S+1})}));return c.updateResult(),function(){n.current=!1,g()}},[o,c]),Q.useEffect(function(){c.setOptions(a,{listeners:!1})},[a,c]),a.suspense&&d.isLoading)throw c.fetchOptimistic(a).then(function(g){var S=g.data;a.onSuccess==null||a.onSuccess(S),a.onSettled==null||a.onSettled(S,null)}).catch(function(g){o.clearReset(),a.onError==null||a.onError(g),a.onSettled==null||a.onSettled(void 0,g)});if(d.isError&&!o.isReset()&&!d.isFetching&&WT(a.suspense,a.useErrorBoundary,[d.error,c.getCurrentQuery()]))throw d.error;return a.notifyOnChangeProps==="tracked"&&(d=c.trackResult(d,a)),d}function eV(t,e,n){var r=qh(t,e,n);return J7(r,H7)}var tV="firebase",nV="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs(tV,nV,"app");const rV={apiKey:"AIzaSyCnymgBlx5yirDHXVy23tpDmUX_mXpcAak",authDomain:"parclsoltransactions.firebaseapp.com",projectId:"parclsoltransactions",storageBucket:"parclsoltransactions.appspot.com",messagingSenderId:"461076459515",appId:"1:461076459515:web:7379c40dbc09666ef3e55e",measurementId:"G-WPLZJ87DLV"},iV=vI(rV),sV=$B(iV),GT=({publicKeyAddress:t})=>{const e=PB(sV,"transactions"),n=yS(),r=eV("transactions",async()=>{if(t==="")return;const s=ZB(e,XB("fromAddress","==",t)),o=await o5(s),a=[];return o.forEach(u=>{const c=u.data(),d={signature:c.signature,block:c.block,fromAddress:c.fromAddress,toAddress:c.toAddress,amount:c.amount,timestamp:c.timestamp,feePayer:c.feePayer,feeAmount:c.fee,error:c.error,lastBlockHash:c.lastBlockHash};a.push(d)}),a}),i=KT("addTransaction",s=>a5(e,s),{onSuccess:()=>{console.log("success"),n.invalidateQueries("transactions")}});return{transactionsData:r.data,getTransactionsStatus:r.status,getTransactionsError:r.error,addTransaction:i.mutateAsync,addTransactionStatus:i.status,addTransactionError:i.error}},oV=()=>{const{connection:t}=xT(),{publicKey:e,sendTransaction:n}=xa(),{addTransaction:r}=GT({publicKeyAddress:(e==null?void 0:e.toBase58())||""}),i=KT("submitTransfer",async({lamports:s,toAddress:o})=>{if(!e)throw Error("Wallet not connected");if(s===0||isNaN(s))throw Error("Amount is invalid");let a;try{a=new xe(o)}catch(c){throw Error(`Problem with wallet given: ${c.message}`)}let u;try{const c=await t.getLatestBlockhash("processed");let d=c?new gr(c):new gr;d.add(qc.transfer({fromPubkey:e,toPubkey:a,lamports:s})),d.feePayer=e,u=await n(d,t);const g=await t.confirmTransaction({...c,signature:u});console.log("transfer confirm result",JSON.stringify(g))}catch(c){throw Error(`Transfer failed: ${c.message}`)}return u},{onSuccess:async s=>{var c,d,g,S,w,I,x,N,k,T,M,B,L;console.log("success"),console.log("data",s);const o=await t.getParsedTransaction(s,"confirmed");if(!o)return;const a=o.transaction.message.instructions.find(P=>(P==null?void 0:P.programId.toBase58())==="11111111111111111111111111111111"),u={signature:s,block:o==null?void 0:o.slot.toString(),fromAddress:(d=(c=a==null?void 0:a.parsed)==null?void 0:c.info)==null?void 0:d.source,toAddress:(S=(g=a==null?void 0:a.parsed)==null?void 0:g.info)==null?void 0:S.destination,amount:(I=(w=a==null?void 0:a.parsed)==null?void 0:w.info)==null?void 0:I.lamports,timestamp:fn.fromDate(new Date),feePayer:(N=(x=a==null?void 0:a.parsed)==null?void 0:x.info)==null?void 0:N.source,feeAmount:((k=o==null?void 0:o.meta)==null?void 0:k.fee)??0,error:((M=(T=o==null?void 0:o.meta)==null?void 0:T.err)==null?void 0:M.toString())??"",lastBlockHash:(L=(B=o==null?void 0:o.transaction)==null?void 0:B.message)==null?void 0:L.recentBlockhash};r(u)}});return{submitTransfer:i.mutateAsync,submitTransferStatus:i.status,submitTransferError:i.error}};var Ng=$.forwardRef(function({as:e="span",style:n={},...r},i){return $.createElement(e,{ref:i,style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal",...n},...r})});Ng.displayName="VisuallyHidden";/**
  * @reach/utils v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */function QT(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Gh(t,e){return n=>{if(t&&t(n),!n.defaultPrevented)return e(n)}}function aV(t){return!!(t&&{}.toString.call(t)=="[object Function]")}function uV(t,e){if(t!=null)if(aV(t))t(e);else try{t.current=e}catch{throw new Error(`Cannot assign value "${e}" to ref "${t}"`)}}function YT(...t){return $.useCallback(e=>{for(let n of t)uV(n,e)},t)}function ZT(t){return QT()?t?t.ownerDocument:document:null}function lV(t,e){let n=$.createContext(e);function r(s){let{children:o,...a}=s,u=$.useMemo(()=>a,Object.values(a));return $.createElement(n.Provider,{value:u},o)}function i(s){let o=$.useContext(n);if(o)return o;if(e)return e;throw Error(`${s} must be rendered inside of a ${t} component.`)}return n.displayName=`${t}Context`,r.displayName=`${t}Provider`,[r,i]}function vS(){}function cV(){let[,t]=$.useState(Object.create(null));return $.useCallback(()=>{t(Object.create(null))},[])}var fV=QT()?$.useLayoutEffect:$.useEffect,hV={polite:-1,assertive:-1},Su={polite:{},assertive:{}},sc={polite:null,assertive:null},lm,XT=$.forwardRef(function({as:e="div",children:n,...r},i){return $.createElement(e,{ref:i,...r},n)}),JT=$.forwardRef(function(e,n){let r=$.useRef(null),i=YT(n,r);pV(r,e);let{type:s,...o}=e;return $.createElement(XT,{ref:i,...o,"data-reach-alert":"","aria-hidden":!0})});JT.displayName="Alert";function dV(t,e){let n=++hV[t],r=o=>{if(sc[t])Su[t][n]=o,cm();else{let a=e.createElement("div");a.setAttribute(`data-reach-live-${t}`,"true"),sc[t]=a,e.body.appendChild(sc[t]),r(o)}};return{mount:r,update:o=>{Su[t][n]=o,cm()},unmount:()=>{delete Su[t][n],cm()}}}function cm(){lm!=null&&window.clearTimeout(lm),lm=window.setTimeout(()=>{Object.keys(Su).forEach(t=>{let e=t;sc[e]&&tf.render($.createElement(Ng,{as:"div"},$.createElement("div",{role:e==="assertive"?"alert":"status","aria-live":e},Object.keys(Su[e]).map(r=>$.cloneElement(Su[e][r],{key:r,ref:null})))),sc[e])})},500)}function pV(t,{type:e="polite",...n}){let r=$.useRef(null);$.useEffect(()=>{let i=ZT(t.current);if(i)return r.current=dV(e,i),r.current.mount($.createElement(XT,{...n})),()=>{var s;(s=r.current)==null||s.unmount()}},[t,e,...Object.values(n)])}const gV=()=>{const[t,e]=Q.useState(""),[n,r]=Q.useState(""),{publicKey:i}=xa(),{submitTransfer:s,submitTransferStatus:o,submitTransferError:a}=oV(),u=async c=>{if(!i)return;c.preventDefault();const d=n?Number(n)*1e9:0;await s({lamports:d,toAddress:t}),e(""),r("")};return yt("form",{css:Oo.transactionForm,onSubmit:u,children:[yt("div",{css:Oo.formInfo,children:[me("h2",{children:" Transfer Solana"}),me("p",{children:" Enter the address and amount you'd like to transfer."})]}),yt("div",{css:Oo.formElements,children:[yt("div",{css:Oo.formInputWrapper,children:[me("label",{htmlFor:"wallet-input",children:"Wallet"}),me("input",{id:"wallet-input",type:"text",value:t,placeholder:"wallet address",onChange:c=>e(c.target.value),disabled:o==="loading",required:!0})]}),yt("div",{css:Oo.submitWrapper,children:[me("div",{css:Oo.formInputWrapper,children:me(x7,{solAmount:n,setSolAmount:r,disabled:o==="loading"})}),me("button",{disabled:!(i&&o!=="loading"),type:"submit",children:"Send Solana"})]}),me("span",{css:Oo.statusFlashMessage,children:o==="loading"?me("span",{children:"Submitting transaction..."}):o==="success"?me("span",{children:"Transaction submitted successfully!"}):o==="error"?me(JT,{type:"assertive",children:a==null?void 0:a.message}):""})]})]})},Oo={transactionForm:en({display:"flex",width:"60%",background:"#512da8",padding:"20px",justifyContent:"space-between",borderRadius:"6px"}),formInfo:en({width:"35%"}),formElements:en({display:"flex",width:"50%",flexDirection:"column",justifyContent:"space-between",button:{width:"150px",alignContent:"center",height:"30px",marginLeft:"16px",marginTop:"auto",whiteSpace:"nowrap"}}),formInputWrapper:en({width:"100%",label:{display:"block",marginBottom:"6px"},input:{width:"100%"},marginTop:"12px"}),submitWrapper:en({display:"flex",justifyContent:"flex-end"}),statusFlashMessage:en({marginTop:"8px",minWidth:"250px"})};/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(t,e){return typeof t=="function"?t(e):t}function ni(t,e){return n=>{e.setState(r=>({...r,[t]:Ls(n,r[t])}))}}function sp(t){return t instanceof Function}function mV(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function yV(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Oe(t,e,n){let r=[],i;return()=>{let s;n.key&&n.debug&&(s=Date.now());const o=t();if(!(o.length!==r.length||o.some((c,d)=>r[d]!==c)))return i;r=o;let u;if(n.key&&n.debug&&(u=Date.now()),i=e(...o),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-u)*100)/100,g=d/16,S=(w,I)=>{for(w=String(w);w.length<I;)w=" "+w;return w};console.info(`%c ${S(d,5)} /${S(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function vV(t,e,n,r){var i,s;const a={...t._getDefaultColumnDef(),...e},u=a.accessorKey;let c=(i=(s=a.id)!=null?s:u?u.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:u&&(u.includes(".")?d=S=>{let w=S;for(const x of u.split(".")){var I;w=(I=w)==null?void 0:I[x]}return w}:d=S=>S[a.accessorKey]),!c)throw new Error;let g={id:`${String(c)}`,accessorFn:d,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Oe(()=>[!0],()=>{var S;return[g,...(S=g.columns)==null?void 0:S.flatMap(w=>w.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var S;return(S=t.options.debugAll)!=null?S:t.options.debugColumns}}),getLeafColumns:Oe(()=>[t._getOrderColumnsFn()],S=>{var w;if((w=g.columns)!=null&&w.length){let I=g.columns.flatMap(x=>x.getLeafColumns());return S(I)}return[g]},{key:"column.getLeafColumns",debug:()=>{var S;return(S=t.options.debugAll)!=null?S:t.options.debugColumns}})};return g=t._features.reduce((S,w)=>Object.assign(S,w.createColumn==null?void 0:w.createColumn(g,t)),g),g}function yx(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),o.push(u)};return a(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{Object.assign(s,o.createHeader==null?void 0:o.createHeader(s,t))}),s}const wV={createTable:t=>({getHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const a=(s=r==null?void 0:r.map(g=>n.find(S=>S.id===g)).filter(Boolean))!=null?s:[],u=(o=i==null?void 0:i.map(g=>n.find(S=>S.id===g)).filter(Boolean))!=null?o:[],c=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(i!=null&&i.includes(g.id)));return dh(e,[...a,...c,...u],t)},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),dh(e,n,t,"center")),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return dh(e,s,t,"left")},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightHeaderGroups:Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return dh(e,s,t,"right")},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getFooterGroups:Oe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftFooterGroups:Oe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterFooterGroups:Oe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightFooterGroups:Oe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getFlatHeaders:Oe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftFlatHeaders:Oe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterFlatHeaders:Oe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightFlatHeaders:Oe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getCenterLeafHeaders:Oe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeftLeafHeaders:Oe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getRightLeafHeaders:Oe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),getLeafHeaders:Oe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,a,u,c;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(u=(c=r[0])==null?void 0:c.headers)!=null?u:[]].map(d=>d.getLeafHeaders()).flat()},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}})})};function dh(t,e,n,r){var i,s;let o=0;const a=function(S,w){w===void 0&&(w=1),o=Math.max(o,w),S.filter(I=>I.getIsVisible()).forEach(I=>{var x;(x=I.columns)!=null&&x.length&&a(I.columns,w+1)},0)};a(t);let u=[];const c=(S,w)=>{const I={depth:w,id:[r,`${w}`].filter(Boolean).join("_"),headers:[]},x=[];S.forEach(N=>{const k=[...x].reverse()[0],T=N.column.depth===I.depth;let M,B=!1;if(T&&N.column.parent?M=N.column.parent:(M=N.column,B=!0),k&&(k==null?void 0:k.column)===M)k.subHeaders.push(N);else{const L=yx(n,M,{id:[r,w,M.id,N==null?void 0:N.id].filter(Boolean).join("_"),isPlaceholder:B,placeholderId:B?`${x.filter(P=>P.column===M).length}`:void 0,depth:w,index:x.length});L.subHeaders.push(N),x.push(L)}I.headers.push(N),N.headerGroup=I}),u.push(I),w>0&&c(x,w-1)},d=e.map((S,w)=>yx(n,S,{depth:o,index:w}));c(d,o-1),u.reverse();const g=S=>S.filter(I=>I.column.getIsVisible()).map(I=>{let x=0,N=0,k=[0];I.subHeaders&&I.subHeaders.length?(k=[],g(I.subHeaders).forEach(M=>{let{colSpan:B,rowSpan:L}=M;x+=B,k.push(L)})):x=1;const T=Math.min(...k);return N=N+T,I.colSpan=x,I.rowSpan=N,{colSpan:x,rowSpan:N}});return g((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const ph={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},fm=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),SV={getDefaultColumnDef:()=>ph,getInitialState:t=>({columnSizing:{},columnSizingInfo:fm(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",onColumnSizingChange:ni("columnSizing",t),onColumnSizingInfoChange:ni("columnSizingInfo",t)}),createColumn:(t,e)=>({getSize:()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:ph.minSize,(r=s??t.columnDef.size)!=null?r:ph.size),(i=t.columnDef.maxSize)!=null?i:ph.maxSize)},getStart:n=>{const r=n?n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns(),i=r.findIndex(s=>s.id===t.id);if(i>0){const s=r[i-1];return s.getStart(n)+s.getSize()}return 0},resetSize:()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},getCanResize:()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},getIsResizing:()=>e.getState().columnSizingInfo.isResizingColumn===t.id}),createHeader:(t,e)=>({getSize:()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},getStart:()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},getResizeHandler:()=>{const n=e.getColumn(t.column.id),r=n==null?void 0:n.getCanResize();return i=>{if(!n||!r||(i.persist==null||i.persist(),hm(i)&&i.touches&&i.touches.length>1))return;const s=t.getSize(),o=t?t.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[n.id,n.getSize()]],a=hm(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(x,N)=>{typeof N=="number"&&(e.setColumnSizingInfo(k=>{var T,M;const B=N-((T=k==null?void 0:k.startOffset)!=null?T:0),L=Math.max(B/((M=k==null?void 0:k.startSize)!=null?M:0),-.999999);return k.columnSizingStart.forEach(P=>{let[F,U]=P;u[F]=Math.round(Math.max(U+U*L,0)*100)/100}),{...k,deltaOffset:B,deltaPercentage:L}}),(e.options.columnResizeMode==="onChange"||x==="end")&&e.setColumnSizing(k=>({...k,...u})))},d=x=>c("move",x),g=x=>{c("end",x),e.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},S={moveHandler:x=>d(x.clientX),upHandler:x=>{document.removeEventListener("mousemove",S.moveHandler),document.removeEventListener("mouseup",S.upHandler),g(x.clientX)}},w={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),d(x.touches[0].clientX),!1),upHandler:x=>{var N;document.removeEventListener("touchmove",w.moveHandler),document.removeEventListener("touchend",w.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),g((N=x.touches[0])==null?void 0:N.clientX)}},I=EV()?{passive:!1}:!1;hm(i)?(document.addEventListener("touchmove",w.moveHandler,I),document.addEventListener("touchend",w.upHandler,I)):(document.addEventListener("mousemove",S.moveHandler,I),document.addEventListener("mouseup",S.upHandler,I)),e.setColumnSizingInfo(x=>({...x,startOffset:a,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}}),createTable:t=>({setColumnSizing:e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),setColumnSizingInfo:e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),resetColumnSizing:e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},resetHeaderSizeInfo:e=>{var n;t.setColumnSizingInfo(e?fm():(n=t.initialState.columnSizingInfo)!=null?n:fm())},getTotalSize:()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},getLeftTotalSize:()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},getCenterTotalSize:()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},getRightTotalSize:()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}})};let gh=null;function EV(){if(typeof gh=="boolean")return gh;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return gh=t,gh}function hm(t){return t.type==="touchstart"}const bV={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:ni("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;return{_autoResetExpanded:()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},setExpanded:r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),toggleAllRowsExpanded:r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},resetExpanded:r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},getCanSomeRowsExpand:()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),getToggleAllRowsExpandedHandler:()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},getIsAllRowsExpanded:()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},getExpandedDepth:()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},getPreExpandedRowModel:()=>t.getSortedRowModel(),getExpandedRowModel:()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())}},createRow:(t,e)=>({toggleExpanded:n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:a,...u}=o;return u}return r})},getIsExpanded:()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},getCanExpand:()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},getToggleExpandedHandler:()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}})},eR=(t,e,n)=>{var r,i,s;const o=n.toLowerCase();return!!(!((r=t.getValue(e))==null||(i=r.toString())==null||(s=i.toLowerCase())==null)&&s.includes(o))};eR.autoRemove=t=>pi(t);const tR=(t,e,n)=>{var r,i;return!!(!((r=t.getValue(e))==null||(i=r.toString())==null)&&i.includes(n))};tR.autoRemove=t=>pi(t);const nR=(t,e,n)=>{var r,i;return((r=t.getValue(e))==null||(i=r.toString())==null?void 0:i.toLowerCase())===(n==null?void 0:n.toLowerCase())};nR.autoRemove=t=>pi(t);const rR=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};rR.autoRemove=t=>pi(t)||!(t!=null&&t.length);const iR=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});iR.autoRemove=t=>pi(t)||!(t!=null&&t.length);const sR=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});sR.autoRemove=t=>pi(t)||!(t!=null&&t.length);const oR=(t,e,n)=>t.getValue(e)===n;oR.autoRemove=t=>pi(t);const aR=(t,e,n)=>t.getValue(e)==n;aR.autoRemove=t=>pi(t);const wS=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};wS.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};wS.autoRemove=t=>pi(t)||pi(t[0])&&pi(t[1]);const qi={includesString:eR,includesStringSensitive:tR,equalsString:nR,arrIncludes:rR,arrIncludesAll:iR,arrIncludesSome:sR,equals:oR,weakEquals:aR,inNumberRange:wS};function pi(t){return t==null||t===""}const _V={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],globalFilter:void 0,...t}),getDefaultOptions:t=>({onColumnFiltersChange:ni("columnFilters",t),onGlobalFilterChange:ni("globalFilter",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n,r;const i=(n=t.getCoreRowModel().flatRows[0])==null||(r=n._getAllCellsByColumnId()[e.id])==null?void 0:r.getValue();return typeof i=="string"||typeof i=="number"}}),createColumn:(t,e)=>({getAutoFilterFn:()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?qi.includesString:typeof r=="number"?qi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?qi.equals:Array.isArray(r)?qi.arrIncludes:qi.weakEquals},getFilterFn:()=>{var n,r;return sp(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:qi[t.columnDef.filterFn]},getCanFilter:()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},getCanGlobalFilter:()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn},getIsFiltered:()=>t.getFilterIndex()>-1,getFilterValue:()=>{var n,r;return(n=e.getState().columnFilters)==null||(r=n.find(i=>i.id===t.id))==null?void 0:r.value},getFilterIndex:()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},setFilterValue:n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(d=>d.id===t.id),o=Ls(n,s?s.value:void 0);if(vx(i,o,t)){var a;return(a=r==null?void 0:r.filter(d=>d.id!==t.id))!=null?a:[]}const u={id:t.id,value:o};if(s){var c;return(c=r==null?void 0:r.map(d=>d.id===t.id?u:d))!=null?c:[]}return r!=null&&r.length?[...r,u]:[u]})},_getFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),getFacetedRowModel:()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),_getFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),getFacetedUniqueValues:()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),getFacetedMinMaxValues:()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}),createRow:(t,e)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:t=>({getGlobalAutoFilterFn:()=>qi.includesString,getGlobalFilterFn:()=>{var e,n;const{globalFilterFn:r}=t.options;return sp(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:qi[r]},setColumnFilters:e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Ls(e,i))==null?void 0:s.filter(o=>{const a=n.find(u=>u.id===o.id);if(a){const u=a.getFilterFn();if(vx(u,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},setGlobalFilter:e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},resetGlobalFilter:e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)},resetColumnFilters:e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},getPreFilteredRowModel:()=>t.getCoreRowModel(),getFilteredRowModel:()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel()),_getGlobalFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),getGlobalFacetedRowModel:()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),getGlobalFacetedUniqueValues:()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}})};function vx(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const xV=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),CV=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},IV=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},MV=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},AV=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},kV=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!mV(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},TV=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),RV=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,NV=(t,e)=>e.length,dm={sum:xV,min:CV,max:IV,extent:MV,mean:AV,median:kV,unique:TV,uniqueCount:RV,count:NV},OV={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:ni("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>({toggleGrouping:()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},getCanGroup:()=>{var n,r,i,s;return(n=(r=(i=(s=t.columnDef.enableGrouping)!=null?s:!0)!=null?i:e.options.enableGrouping)!=null?r:!0)!=null?n:!!t.accessorFn},getIsGrouped:()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},getGroupedIndex:()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},getToggleGroupingHandler:()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},getAutoAggregationFn:()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return dm.sum;if(Object.prototype.toString.call(r)==="[object Date]")return dm.extent},getAggregationFn:()=>{var n,r;if(!t)throw new Error;return sp(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:dm[t.columnDef.aggregationFn]}}),createTable:t=>({setGrouping:e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),resetGrouping:e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},getPreGroupedRowModel:()=>t.getFilteredRowModel(),getGroupedRowModel:()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())}),createRow:(t,e)=>({getIsGrouped:()=>!!t.groupingColumnId,getGroupingValue:n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},_groupingValuesCache:{}}),createCell:(t,e,n,r)=>({getIsGrouped:()=>e.getIsGrouped()&&e.id===n.groupingColumnId,getIsPlaceholder:()=>!t.getIsGrouped()&&e.getIsGrouped(),getIsAggregated:()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}})};function LV(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const DV={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:ni("columnOrder",t)}),createTable:t=>({setColumnOrder:e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),resetColumnOrder:e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},_getOrderColumnsFn:Oe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],a=[...i];for(;a.length&&o.length;){const u=o.shift(),c=a.findIndex(d=>d.id===u);c>-1&&s.push(a.splice(c,1)[0])}s=[...s,...a]}return LV(s,n,r)},{key:!1})})},wv=0,Sv=10,pm=()=>({pageIndex:wv,pageSize:Sv}),PV={getInitialState:t=>({...t,pagination:{...pm(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:ni("pagination",t)}),createTable:t=>{let e=!1,n=!1;return{_autoResetPageIndex:()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},setPagination:r=>{const i=s=>Ls(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},resetPagination:r=>{var i;t.setPagination(r?pm():(i=t.initialState.pagination)!=null?i:pm())},setPageIndex:r=>{t.setPagination(i=>{let s=Ls(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},resetPageIndex:r=>{var i,s,o;t.setPageIndex(r?wv:(i=(s=t.initialState)==null||(o=s.pagination)==null?void 0:o.pageIndex)!=null?i:wv)},resetPageSize:r=>{var i,s,o;t.setPageSize(r?Sv:(i=(s=t.initialState)==null||(o=s.pagination)==null?void 0:o.pageSize)!=null?i:Sv)},setPageSize:r=>{t.setPagination(i=>{const s=Math.max(1,Ls(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},setPageCount:r=>t.setPagination(i=>{var s;let o=Ls(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),getPageOptions:Oe(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},{key:!1,debug:()=>{var r;return(r=t.options.debugAll)!=null?r:t.options.debugTable}}),getCanPreviousPage:()=>t.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},previousPage:()=>t.setPageIndex(r=>r-1),nextPage:()=>t.setPageIndex(r=>r+1),getPrePaginationRowModel:()=>t.getExpandedRowModel(),getPaginationRowModel:()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),getPageCount:()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getPrePaginationRowModel().rows.length/t.getState().pagination.pageSize)}}}},gm=()=>({left:[],right:[]}),BV={getInitialState:t=>({columnPinning:gm(),...t}),getDefaultOptions:t=>({onColumnPinningChange:ni("columnPinning",t)}),createColumn:(t,e)=>({pin:n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var a,u;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((u=i==null?void 0:i.right)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var c,d;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g)))}})},getCanPin:()=>t.getLeafColumns().some(r=>{var i,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=e.options.enablePinning)!=null?s:!0)}),getIsPinned:()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},getPinnedIndex:()=>{var n,r,i;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(i=r[s])==null?void 0:i.indexOf(t.id))!=null?n:-1:0}}),createRow:(t,e)=>({getCenterVisibleCells:Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}}),getLeftVisibleCells:Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,,],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}}),getRightVisibleCells:Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})}),createTable:t=>({setColumnPinning:e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),resetColumnPinning:e=>{var n,r;return t.setColumnPinning(e?gm():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:gm())},getIsSomeColumnsPinned:e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},getLeftLeafColumns:Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}}),getRightLeafColumns:Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}}),getCenterLeafColumns:Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}})})},FV={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:ni("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>({setRowSelection:e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),resetRowSelection:e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},toggleAllRowsSelected:e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},toggleAllPageRowsSelected:e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{Ev(i,s.id,r,t)}),i}),getPreSelectedRowModel:()=>t.getCoreRowModel(),getSelectedRowModel:Oe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?mm(t,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),getFilteredSelectedRowModel:Oe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?mm(t,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),getGroupedSelectedRowModel:Oe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?mm(t,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),getIsAllRowsSelected:()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},getIsAllPageRowsSelected:()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},getIsSomeRowsSelected:()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>e=>{t.toggleAllRowsSelected(e.target.checked)},getToggleAllPageRowsSelectedHandler:()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}}),createRow:(t,e)=>({toggleSelected:n=>{const r=t.getIsSelected();e.setRowSelection(i=>{if(n=typeof n<"u"?n:!r,r===n)return i;const s={...i};return Ev(s,t.id,n,e),s})},getIsSelected:()=>{const{rowSelection:n}=e.getState();return SS(t,n)},getIsSomeSelected:()=>{const{rowSelection:n}=e.getState();return wx(t,n)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=e.getState();return wx(t,n)==="all"},getCanSelect:()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},getCanSelectSubRows:()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},getCanMultiSelect:()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},getToggleSelectedHandler:()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}})},Ev=(t,e,n,r)=>{var i;const s=r.getRow(e);n?(s.getCanMultiSelect()||Object.keys(t).forEach(o=>delete t[o]),s.getCanSelect()&&(t[e]=!0)):delete t[e],(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(o=>Ev(t,o.id,n,r))};function mm(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(u=>{var c;const d=SS(u,n);if(d&&(r.push(u),i[u.id]=u),(c=u.subRows)!=null&&c.length&&(u={...u,subRows:s(u.subRows)}),d)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function SS(t,e){var n;return(n=e[t.id])!=null?n:!1}function wx(t,e,n){if(t.subRows&&t.subRows.length){let r=!0,i=!1;return t.subRows.forEach(s=>{i&&!r||(SS(s,e)?i=!0:r=!1)}),r?"all":i?"some":!1}return!1}const bv=/([0-9]+)/gm,$V=(t,e,n)=>uR(io(t.getValue(n)).toLowerCase(),io(e.getValue(n)).toLowerCase()),UV=(t,e,n)=>uR(io(t.getValue(n)),io(e.getValue(n))),zV=(t,e,n)=>ES(io(t.getValue(n)).toLowerCase(),io(e.getValue(n)).toLowerCase()),VV=(t,e,n)=>ES(io(t.getValue(n)),io(e.getValue(n))),jV=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},HV=(t,e,n)=>ES(t.getValue(n),e.getValue(n));function ES(t,e){return t===e?0:t>e?1:-1}function io(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function uR(t,e){const n=t.split(bv).filter(Boolean),r=e.split(bv).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),u=[o,a].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const kl={alphanumeric:$V,alphanumericCaseSensitive:UV,text:zV,textCaseSensitive:VV,datetime:jV,basic:HV},qV={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto"}),getDefaultOptions:t=>({onSortingChange:ni("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>({getAutoSortingFn:()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return kl.datetime;if(typeof s=="string"&&(r=!0,s.split(bv).length>1))return kl.alphanumeric}return r?kl.text:kl.basic},getAutoSortDir:()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},getSortingFn:()=>{var n,r;if(!t)throw new Error;return sp(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:kl[t.columnDef.sortingFn]},toggleSorting:(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const a=o==null?void 0:o.find(w=>w.id===t.id),u=o==null?void 0:o.findIndex(w=>w.id===t.id);let c=[],d,g=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?a?d="toggle":d="add":o!=null&&o.length&&u!==o.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(s||i||(d="remove")),d==="add"){var S;c=[...o,{id:t.id,desc:g}],c.splice(0,c.length-((S=e.options.maxMultiSortColCount)!=null?S:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=o.map(w=>w.id===t.id?{...w,desc:g}:w):d==="remove"?c=o.filter(w=>w.id!==t.id):c=[{id:t.id,desc:g}];return c})},getFirstSortDir:()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},getCanSort:()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},getCanMultiSort:()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},getIsSorted:()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},getSortIndex:()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},clearSorting:()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},getToggleSortingHandler:()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}}),createTable:t=>({setSorting:e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),resetSorting:e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},getPreSortedRowModel:()=>t.getGroupedRowModel(),getSortedRowModel:()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())})},WV={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:ni("columnVisibility",t)}),createColumn:(t,e)=>({toggleVisibility:n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},getIsVisible:()=>{var n,r;return(n=(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},getCanHide:()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},getToggleVisibilityHandler:()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}}),createRow:(t,e)=>({_getAllVisibleCells:Oe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}}),getVisibleCells:Oe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})}),createTable:t=>{const e=(n,r)=>Oe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),{key:n,debug:()=>{var i;return(i=t.options.debugAll)!=null?i:t.options.debugColumns}});return{getVisibleFlatColumns:e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),getVisibleLeafColumns:e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),getLeftVisibleLeafColumns:e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),getRightVisibleLeafColumns:e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),getCenterVisibleLeafColumns:e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),setColumnVisibility:n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),resetColumnVisibility:n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},toggleAllColumnsVisible:n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),getIsSomeColumnsVisible:()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}}},Sx=[wV,WV,DV,BV,_V,qV,OV,bV,PV,FV,SV];function KV(t){var e;(t.debugAll||t.debugTable)&&console.info("Creating Table Instance...");let n={_features:Sx};const r=n._features.reduce((d,g)=>Object.assign(d,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),i=d=>n.options.mergeOptions?n.options.mergeOptions(r,d):{...r,...d};let o={...{},...(e=t.initialState)!=null?e:{}};n._features.forEach(d=>{var g;o=(g=d.getInitialState==null?void 0:d.getInitialState(o))!=null?g:o});const a=[];let u=!1;const c={_features:Sx,options:{...r,...t},initialState:o,_queue:d=>{a.push(d),u||(u=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();u=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:d=>{const g=Ls(d,n.options);n.options=i(g)},getState:()=>n.options.state,setState:d=>{n.options.onStateChange==null||n.options.onStateChange(d)},_getRowId:(d,g,S)=>{var w;return(w=n.options.getRowId==null?void 0:n.options.getRowId(d,g,S))!=null?w:`${S?[S.id,g].join("."):g}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:d=>{const g=n.getRowModel().rowsById[d];if(!g)throw new Error;return g},_getDefaultColumnDef:Oe(()=>[n.options.defaultColumn],d=>{var g;return d=(g=d)!=null?g:{},{header:S=>{const w=S.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:S=>{var w,I;return(w=(I=S.renderValue())==null||I.toString==null?void 0:I.toString())!=null?w:null},...n._features.reduce((S,w)=>Object.assign(S,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...d}},{debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Oe(()=>[n._getColumnDefs()],d=>{const g=function(S,w,I){return I===void 0&&(I=0),S.map(x=>{const N=vV(n,x,I,w),k=x;return N.columns=k.columns?g(k.columns,N,I+1):[],N})};return g(d)},{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),getAllFlatColumns:Oe(()=>[n.getAllColumns()],d=>d.flatMap(g=>g.getFlatColumns()),{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),_getAllFlatColumnsById:Oe(()=>[n.getAllFlatColumns()],d=>d.reduce((g,S)=>(g[S.id]=S,g),{}),{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),getAllLeafColumns:Oe(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(d,g)=>{let S=d.flatMap(w=>w.getLeafColumns());return g(S)},{key:!1,debug:()=>{var d;return(d=n.options.debugAll)!=null?d:n.options.debugColumns}}),getColumn:d=>n._getAllFlatColumnsById()[d]};return Object.assign(n,c),n._features.forEach(d=>Object.assign(n,d.createTable==null?void 0:d.createTable(n))),n}function GV(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Oe(()=>[t,n,e,s],(o,a,u,c)=>({table:o,column:a,row:u,cell:c,getValue:c.getValue,renderValue:c.renderValue}),{key:!1,debug:()=>t.options.debugAll})};return t._features.forEach(o=>{Object.assign(s,o.createCell==null?void 0:o.createCell(s,n,e,t))},{}),s}const bS=(t,e,n,r,i,s,o)=>{let a={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const c=t.getColumn(u);if(c!=null&&c.accessorFn)return a._valuesCache[u]=c.accessorFn(a.original,r),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const c=t.getColumn(u);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var c;return(c=a.getValue(u))!=null?c:t.options.renderFallbackValue},subRows:s??[],getLeafRows:()=>yV(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId):void 0,getParentRows:()=>{let u=[],c=a;for(;;){const d=c.getParentRow();if(!d)break;u.push(d),c=d}return u.reverse()},getAllCells:Oe(()=>[t.getAllLeafColumns()],u=>u.map(c=>GV(t,a,c,c.id)),{key:!1,debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugRows}}),_getAllCellsByColumnId:Oe(()=>[a.getAllCells()],u=>u.reduce((c,d)=>(c[d.column.id]=d,c),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var u;return(u=t.options.debugAll)!=null?u:t.options.debugRows}})};for(let u=0;u<t._features.length;u++){const c=t._features[u];Object.assign(a,c==null||c.createRow==null?void 0:c.createRow(a,t))}return a};function QV(){return t=>Oe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let c=0;c<i.length;c++){const d=bS(t,t._getRowId(i[c],c,o),i[c],c,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,a.push(d),t.options.getSubRows){var u;d.originalSubRows=t.options.getSubRows(i[c],c),(u=d.originalSubRows)!=null&&u.length&&(d.subRows=r(d.originalSubRows,s+1,d))}}return a};return n.rows=r(e),n},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable},onChange:()=>{t._autoResetPageIndex()}})}function lR(t,e,n){return n.options.filterFromLeafRows?YV(t,e,n):ZV(t,e,n)}function YV(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(u,c){c===void 0&&(c=0);const d=[];for(let S=0;S<u.length;S++){var g;let w=u[S];const I=bS(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);if(I.columnFilters=w.columnFilters,(g=w.subRows)!=null&&g.length&&c<o){if(I.subRows=a(w.subRows,c+1),w=I,e(w)&&!I.subRows.length){d.push(w),s[w.id]=w,s[S]=w;continue}if(e(w)||I.subRows.length){d.push(w),s[w.id]=w,s[S]=w;continue}}else w=I,e(w)&&(d.push(w),s[w.id]=w,s[S]=w)}return d};return{rows:a(t),flatRows:i,rowsById:s}}function ZV(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(u,c){c===void 0&&(c=0);const d=[];for(let S=0;S<u.length;S++){let w=u[S];if(e(w)){var g;if((g=w.subRows)!=null&&g.length&&c<o){const x=bS(n,w.id,w.original,w.index,w.depth,void 0,w.parentId);x.subRows=a(w.subRows,c+1),w=x}d.push(w),i.push(w),s[w.id]=w}}return d};return{rows:a(t),flatRows:i,rowsById:s}}function XV(){return t=>Oe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let S=0;S<e.flatRows.length;S++)e.flatRows[S].columnFilters={},e.flatRows[S].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(S=>{var w;const I=t.getColumn(S.id);if(!I)return;const x=I.getFilterFn();x&&i.push({id:S.id,filterFn:x,resolvedValue:(w=x.resolveFilterValue==null?void 0:x.resolveFilterValue(S.value))!=null?w:S.value})});const o=n.map(S=>S.id),a=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(S=>S.getCanGlobalFilter());r&&a&&u.length&&(o.push("__global__"),u.forEach(S=>{var w;s.push({id:S.id,filterFn:a,resolvedValue:(w=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?w:r})}));let c,d;for(let S=0;S<e.flatRows.length;S++){const w=e.flatRows[S];if(w.columnFilters={},i.length)for(let I=0;I<i.length;I++){c=i[I];const x=c.id;w.columnFilters[x]=c.filterFn(w,x,c.resolvedValue,N=>{w.columnFiltersMeta[x]=N})}if(s.length){for(let I=0;I<s.length;I++){d=s[I];const x=d.id;if(d.filterFn(w,x,d.resolvedValue,N=>{w.columnFiltersMeta[x]=N})){w.columnFilters.__global__=!0;break}}w.columnFilters.__global__!==!0&&(w.columnFilters.__global__=!1)}}const g=S=>{for(let w=0;w<o.length;w++)if(S.columnFilters[o[w]]===!1)return!1;return!0};return lR(e.rows,g,t)},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable},onChange:()=>{t._autoResetPageIndex()}})}function JV(){return(t,e)=>Oe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(a=>a.id).filter(a=>a!==e),i?"__global__":void 0].filter(Boolean),o=a=>{for(let u=0;u<s.length;u++)if(a.columnFilters[s[u]]===!1)return!1;return!0};return lR(n.rows,o,t)},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable},onChange:()=>{}})}function ej(){return(t,e)=>Oe(()=>{var n;return[(n=t.getColumn(e))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(e);for(let a=0;a<o.length;a++){const u=o[a];if(r.has(u)){var i;r.set(u,((i=r.get(u))!=null?i:0)+1)}else r.set(u,1)}}return r},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable},onChange:()=>{}})}function tj(){return(t,e)=>Oe(()=>{var n;return[(n=t.getColumn(e))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const i=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(e);if(typeof i>"u")return;let s=[i,i];for(let o=0;o<n.flatRows.length;o++){const a=n.flatRows[o].getUniqueValues(e);for(let u=0;u<a.length;u++){const c=a[u];c<s[0]?s[0]=c:c>s[1]&&(s[1]=c)}}return s},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable},onChange:()=>{}})}function nj(){return t=>Oe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(u=>{var c;return(c=t.getColumn(u.id))==null?void 0:c.getCanSort()}),o={};s.forEach(u=>{const c=t.getColumn(u.id);c&&(o[u.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=u=>{const c=[...u];return c.sort((d,g)=>{for(let w=0;w<s.length;w+=1){var S;const I=s[w],x=o[I.id],N=(S=I==null?void 0:I.desc)!=null?S:!1;if(x.sortUndefined){const T=d.getValue(I.id),M=g.getValue(I.id),B=typeof T>"u",L=typeof M>"u";if(B||L){let P=B&&L?0:B?x.sortUndefined:-x.sortUndefined;return N&&P!==0&&(P*=-1),P}}let k=x.sortingFn(d,g,I.id);if(k!==0)return N&&(k*=-1),x.invertSorting&&(k*=-1),k}return d.index-g.index}),c.forEach(d=>{var g;i.push(d),(g=d.subRows)!=null&&g.length&&(d.subRows=a(d.subRows))}),c};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable},onChange:()=>{t._autoResetPageIndex()}})}function rj(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function ij(t){return e=>Oe(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:a,rowsById:u}=r;const c=i*s,d=c+i;o=o.slice(c,d);let g;e.options.paginateExpandedRows?g={rows:o,flatRows:a,rowsById:u}:g=rj({rows:o,flatRows:a,rowsById:u}),g.flatRows=[];const S=w=>{g.flatRows.push(w),w.subRows.length&&w.subRows.forEach(S)};return g.rows.forEach(S),g},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable}})}/**
 * react-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ex(t,e){return t?sj(t)?$.createElement(t,e):t:null}function sj(t){return oj(t)||typeof t=="function"||aj(t)}function oj(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function aj(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function uj(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=$.useState(()=>({current:KV(e)})),[r,i]=$.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}/**
 * match-sorter-utils
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cR={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},lj=Object.keys(cR).join("|"),cj=new RegExp(lj,"g");function fj(t){return t.replace(cj,e=>cR[e])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const hr={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function hj(t,e,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:hr.MATCHES,!n.accessors){const o=bx(t,e,n);return{rankedValue:t,rank:o,accessorIndex:-1,accessorThreshold:n.threshold,passed:o>=n.threshold}}const i=mj(t,n.accessors),s={rankedValue:t,rank:hr.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let o=0;o<i.length;o++){const a=i[o];let u=bx(a.itemValue,e,n);const{minRanking:c,maxRanking:d,threshold:g=n.threshold}=a.attributes;u<c&&u>=hr.MATCHES?u=c:u>d&&(u=d),u=Math.min(u,d),u>=g&&u>s.rank&&(s.rank=u,s.passed=!0,s.accessorIndex=o,s.accessorThreshold=g,s.rankedValue=a.itemValue)}return s}function bx(t,e,n){return t=_x(t,n),e=_x(e,n),e.length>t.length?hr.NO_MATCH:t===e?hr.CASE_SENSITIVE_EQUAL:(t=t.toLowerCase(),e=e.toLowerCase(),t===e?hr.EQUAL:t.startsWith(e)?hr.STARTS_WITH:t.includes(` ${e}`)?hr.WORD_STARTS_WITH:t.includes(e)?hr.CONTAINS:e.length===1?hr.NO_MATCH:dj(t).includes(e)?hr.ACRONYM:pj(t,e))}function dj(t){let e="";return t.split(" ").forEach(r=>{r.split("-").forEach(s=>{e+=s.substr(0,1)})}),e}function pj(t,e){let n=0,r=0;function i(u,c,d){for(let g=d,S=c.length;g<S;g++)if(c[g]===u)return n+=1,g+1;return-1}function s(u){const c=1/u,d=n/e.length;return hr.MATCHES+d*c}const o=i(e[0],t,0);if(o<0)return hr.NO_MATCH;r=o;for(let u=1,c=e.length;u<c;u++){const d=e[u];if(r=i(d,t,r),!(r>-1))return hr.NO_MATCH}const a=r-o;return s(a)}function _x(t,e){let{keepDiacritics:n}=e;return t=`${t}`,n||(t=fj(t)),t}function gj(t,e){let n=e;typeof e=="object"&&(n=e.accessor);const r=n(t);return r==null?[]:Array.isArray(r)?r:[String(r)]}function mj(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r],o=yj(s),a=gj(t,s);for(let u=0,c=a.length;u<c;u++)n.push({itemValue:a[u],attributes:o})}return n}const xx={maxRanking:1/0,minRanking:-1/0};function yj(t){return typeof t=="function"?xx:{...xx,...t}}const vj=({data:t,handleRowClick:e})=>{const[n,r]=Q.useState([]),[i,s]=Q.useState(""),o=[{header:"Amount (Lamports)",accessorKey:"amount",cell:c=>c.getValue(),footer:c=>c.column.id,size:60,maxSize:60},{header:"Solana Amount",accessorKey:"amount",cell:c=>_7(Number(c.getValue())),id:"solanaAmount",footer:c=>c.column.id,enableColumnFilter:!1,size:70,maxSize:70},{header:"To Public Key",accessorKey:"toAddress",cell:c=>c.getValue(),footer:c=>c.column.id,size:60,maxSize:60},{header:"Timestamp",accessorKey:"timestamp",cell:c=>{const d=c.getValue().toDate();return d.toLocaleDateString()+" "+d.toLocaleTimeString()},footer:c=>c.column.id,filterFn:(c,d,g)=>{const[S,w]=[Date.parse(g[0]),Date.parse(g[1])+864e5],I=c.getValue(d).toDate();return S&&w?I.getTime()>=S&&I.getTime()<=w:S?I.getTime()>=S:w?I.getTime()<=w:!0},size:80,maxSize:80},{header:"Signature",accessorKey:"signature",cell:c=>c.getValue(),footer:c=>c.column.id,size:60,maxSize:60}],a=(c,d,g,S)=>{const w=hj(c.getValue(d),g);return S({itemRank:w}),w.passed},u=uj({data:t,columns:o,filterFns:{fuzzy:a},state:{columnFilters:n,globalFilter:i},onGlobalFilterChange:s,onColumnFiltersChange:r,globalFilterFn:a,getCoreRowModel:QV(),getFilteredRowModel:XV(),getSortedRowModel:nj(),getPaginationRowModel:ij(),getFacetedRowModel:JV(),getFacetedUniqueValues:ej(),getFacetedMinMaxValues:tj()});return yt(Fp,{children:[yt("div",{css:xi.transactionsHeader,children:[me("h2",{children:"Your Transactions"}),yt("div",{css:xi.headerInputs,children:[yt("div",{children:[me("label",{htmlFor:"globalSearch",children:"Filter Columns:"}),me(Ba,{id:"globalSearch",value:i??"",onChange:c=>s(String(c)),css:xi.searchInput,placeholder:"Search all columns..."})]}),yt("div",{children:[me("label",{htmlFor:"numRows",children:"Number of rows:"}),me("select",{id:"numRows",value:u.getState().pagination.pageSize,onChange:c=>{u.setPageSize(Number(c.target.value))},children:[10,20,30,40,50].map(c=>yt("option",{value:c,children:["Show ",c]},c))})]})]})]}),yt("table",{css:xi.transactionsTable,children:[me("thead",{children:u.getHeaderGroups().map(c=>me("tr",{children:c.headers.map(d=>me("th",{style:{width:d.getSize()},children:d.isPlaceholder?null:yt("div",{css:d.column.getCanSort()?xi.headerCellContentSortable:xi.headerCellContent,children:[yt("div",{onClick:d.column.getToggleSortingHandler(),children:[Ex(d.column.columnDef.header,d.getContext()),{asc:" ",desc:" "}[d.column.getIsSorted()]??null]}),d.column.getCanFilter()?me("div",{css:"headerCellFilter",children:me(wj,{column:d.column,table:u})}):null]})},d.id))},c.id))}),me("tbody",{children:u.getRowModel().rows.map(c=>me("tr",{onClick:()=>e(c.original),children:c.getVisibleCells().map(d=>me("td",{children:Ex(d.column.columnDef.cell,d.getContext())},d.id+d.column))},c.id))})]}),me("div",{}),yt("div",{children:[yt("div",{css:xi.pageButtons,children:[me("button",{onClick:()=>u.setPageIndex(0),disabled:!u.getCanPreviousPage(),children:"<<"}),me("button",{onClick:()=>u.previousPage(),disabled:!u.getCanPreviousPage(),children:"<"}),me("button",{onClick:()=>u.nextPage(),disabled:!u.getCanNextPage(),children:">"}),me("button",{onClick:()=>u.setPageIndex(u.getPageCount()-1),disabled:!u.getCanNextPage(),children:">>"})]}),yt("span",{children:[me("div",{children:"Page"}),yt("strong",{children:[u.getState().pagination.pageIndex+1," of"," ",u.getPageCount()]})]}),yt("span",{children:["| Go to page:",me("input",{type:"number",defaultValue:u.getState().pagination.pageIndex+1,onChange:c=>{const d=c.target.value?Number(c.target.value)-1:0;u.setPageIndex(d)}})]})]}),yt("div",{children:[u.getPrePaginationRowModel().rows.length," Rows"]})]})};function wj({column:t,table:e}){var o,a,u,c,d,g,S,w,I;const n=(o=e.getPreFilteredRowModel().flatRows[0])==null?void 0:o.getValue(t.id),r=t.id==="timestamp",i=t.getFilterValue(),s=Q.useMemo(()=>typeof n=="number"||r?[]:Array.from(t.getFacetedUniqueValues().keys()).sort(),[t.getFacetedUniqueValues()]);if(r){const x=i;return yt("div",{css:xi.doubleFilter,children:[me(Ba,{type:"date",value:(x==null?void 0:x[0])??"",onChange:N=>t.setFilterValue(k=>[N,k==null?void 0:k[1]]),placeholder:"Start"}),me(Ba,{type:"date",value:(x==null?void 0:x[1])??"",onChange:N=>t.setFilterValue(k=>[k==null?void 0:k[0],N]),placeholder:"End"})]})}return typeof n=="number"?yt("div",{css:xi.doubleFilter,children:[me(Ba,{type:"number",min:Number(((a=t.getFacetedMinMaxValues())==null?void 0:a[0])??""),max:Number(((u=t.getFacetedMinMaxValues())==null?void 0:u[1])??""),value:(i==null?void 0:i[0])??"",onChange:x=>t.setFilterValue(N=>[x,N==null?void 0:N[1]]),placeholder:`Min ${(c=t.getFacetedMinMaxValues())!=null&&c[0]?`(${(d=t.getFacetedMinMaxValues())==null?void 0:d[0]})`:""}`}),me(Ba,{type:"number",min:Number(((g=t.getFacetedMinMaxValues())==null?void 0:g[0])??""),max:Number(((S=t.getFacetedMinMaxValues())==null?void 0:S[1])??""),value:(i==null?void 0:i[1])??"",onChange:x=>t.setFilterValue(N=>[N==null?void 0:N[0],x]),placeholder:`Max ${(w=t.getFacetedMinMaxValues())!=null&&w[1]?`(${(I=t.getFacetedMinMaxValues())==null?void 0:I[1]})`:""}`})]}):yt("div",{css:xi.singleFilter,children:[me("datalist",{id:t.id+"list",children:s.slice(0,5e3).map(x=>me("option",{value:x},x))}),me(Ng,{children:me("label",{htmlFor:"filter"+t.id,children:"Filter:"})}),me(Ba,{id:"filter"+t.id,type:"text",value:i??"",onChange:x=>t.setFilterValue(x),placeholder:`Search... (${t.getFacetedUniqueValues().size})`,list:t.id+"list"})]})}function Ba({value:t,onChange:e,debounce:n=500,...r}){const[i,s]=Q.useState(t);return Q.useEffect(()=>{s(t)},[t]),Q.useEffect(()=>{const o=setTimeout(()=>{e(i)},n);return()=>clearTimeout(o)},[i]),me("input",{...r,value:i,onChange:o=>s(o.target.value)})}const xi={searchInput:{},transactionsHeader:en({display:"flex",justifyContent:"space-between",alignItems:"end",marginBottom:"24px"}),headerInputs:en({display:"flex",label:{display:"block",marginBottom:"2px"},input:{width:"300px",marginRight:"20px"},justifyContent:"space-between"}),pageButtons:en({display:"flex",gap:"10px",justifyContent:"center",marginTop:"16px"}),transactionsTable:en({textAlign:"left",tableLayout:"fixed",width:"100%",borderCollapse:"collapse",fontSize:"18px",td:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"2px 6px"},th:{padding:"2px 6px"}}),headerCellContent:{display:"flex"},headerCellContentSortable:{display:"block",cursor:"pointer",select:"none"},singleFilter:{input:{width:"100%"}},doubleFilter:{display:"flex",justifyContent:"space-between",input:{width:"48%"}}};var Sj=({children:t,type:e="reach-portal",containerRef:n})=>{let r=$.useRef(null),i=$.useRef(null),s=cV();return $.useEffect(()=>{n!=null&&(typeof n!="object"||!("current"in n)?console.warn("@reach/portal: Invalid value passed to the `containerRef` of a `Portal`. The portal will be appended to the document body, but if you want to attach it to another DOM node you must pass a valid React ref object to `containerRef`."):n.current==null&&console.warn("@reach/portal: A ref was passed to the `containerRef` prop of a `Portal`, but no DOM node was attached to it. Be sure to pass the ref to a DOM component.\n\nIf you are forwarding the ref from another component, be sure to use the React.forwardRef API. See https://reactjs.org/docs/forwarding-refs.html."))},[n]),fV(()=>{if(!r.current)return;let o=r.current.ownerDocument,a=(n==null?void 0:n.current)||o.body;return i.current=o==null?void 0:o.createElement(e),a.appendChild(i.current),s(),()=>{i.current&&a&&a.removeChild(i.current)}},[e,s,n]),i.current?tf.createPortal(t,i.current):$.createElement("span",{ref:r})},fR=({unstable_skipInitialRender:t,...e})=>{let[n,r]=$.useState(!1);return $.useEffect(()=>{t&&r(!0)},[t]),t&&!n?null:$.createElement(Sj,{...e})};fR.displayName="Portal";function Ej(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _v="data-focus-lock",hR="data-focus-lock-disabled",bj="data-no-focus-lock",_j="data-autofocus-inside";function xj(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Cj(t,e){var n=$.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function dR(t,e){return Cj(e||null,function(n){return t.forEach(function(r){return xj(r,n)})})}var ym={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function pR(t){return t}function gR(t,e){e===void 0&&(e=pR);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function _S(t,e){return e===void 0&&(e=pR),gR(t,e)}function mR(t){t===void 0&&(t={});var e=gR(null);return e.options=$d({async:!0,ssr:!1},t),e}var yR=function(t){var e=t.sideCar,n=R1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,$d({},n))};yR.isSideCarExport=!0;function Ij(t,e){return t.useMedium(e),yR}var vR=_S({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),wR=_S(),Mj=_S(),Aj=mR({async:!0}),kj=[],xS=$.forwardRef(function(e,n){var r,i=$.useState(),s=i[0],o=i[1],a=$.useRef(),u=$.useRef(!1),c=$.useRef(null),d=e.children,g=e.disabled,S=e.noFocusGuards,w=e.persistentFocus,I=e.crossFrame,x=e.autoFocus;e.allowTextSelection;var N=e.group,k=e.className,T=e.whiteList,M=e.shards,B=M===void 0?kj:M,L=e.as,P=L===void 0?"div":L,F=e.lockProps,U=F===void 0?{}:F,J=e.sideCar,Z=e.returnFocus,Y=e.onActivation,le=e.onDeactivation,A=$.useState({}),l=A[0],h=$.useCallback(function(){c.current=c.current||document&&document.activeElement,a.current&&Y&&Y(a.current),u.current=!0},[Y]),p=$.useCallback(function(){u.current=!1,le&&le(a.current)},[le]),y=$.useCallback(function(q){var G=c.current;if(Z&&G&&G.focus){var oe=typeof Z=="object"?Z:void 0;c.current=null,q?Promise.resolve().then(function(){return G.focus(oe)}):G.focus(oe)}},[Z]),m=$.useCallback(function(q){u.current&&vR.useMedium(q)},[]),b=wR.useMedium,R=$.useCallback(function(q){a.current!==q&&(a.current=q,o(q))},[]),v=lt((r={},r[hR]=g&&"disabled",r[_v]=N,r),U),f=S!==!0,C=f&&S!=="tail",K=dR([n,R]);return $.createElement($.Fragment,null,f&&[$.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:ym}),$.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:ym})],!g&&$.createElement(J,{id:l,sideCar:Aj,observed:s,disabled:g,persistentFocus:w,crossFrame:I,autoFocus:x,whiteList:T,shards:B,onActivation:h,onDeactivation:p,returnFocus:y}),$.createElement(P,lt({ref:K},v,{className:k,onBlur:b,onFocus:m}),d),C&&$.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:ym}))});xS.propTypes={};xS.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const SR=xS;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Tj(t,e){if(Gc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rj(t){var e=Tj(t,"string");return Gc(e)==="symbol"?e:String(e)}function Nj(t,e,n){return e=Rj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oj(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var s=[],o;function a(){o=t(s.map(function(c){return c.props})),e(o)}var u=function(c){Ca(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return o};var g=d.prototype;return g.componentDidMount=function(){s.push(this),a()},g.componentDidUpdate=function(){a()},g.componentWillUnmount=function(){var w=s.indexOf(this);s.splice(w,1),a()},g.render=function(){return Q.createElement(i,this.props)},d}($.PureComponent);return Nj(u,"displayName","SideEffect("+n(i)+")"),u}}var so=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},xv=function(t){return Array.isArray(t)?t:[t]},Lj=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var s=t[r].compareDocumentPosition(t[i]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},ER=function(t){return t.parentNode?ER(t.parentNode):t},CS=function(t){var e=xv(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(_v);return n.push.apply(n,i?Lj(so(ER(r).querySelectorAll("["+_v+'="'+i+'"]:not(['+hR+'="disabled"])'))):[r]),n},[])},Dj=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},Pj=function(t,e){return!t||t===document||t&&t.nodeType===Node.DOCUMENT_NODE||!Dj(t)&&e(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode)},bR=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=Pj(e,bR.bind(void 0,t));return t.set(e,r),r},Bj=function(t){return!((t.tagName==="INPUT"||t.tagName==="BUTTON")&&(t.type==="hidden"||t.disabled))},IS=function(t){return!!(t&&t.dataset&&t.dataset.focusGuard)},op=function(t){return!IS(t)},Fj=function(t){return!!t},$j=function(t,e){var n=t.tabIndex-e.tabIndex,r=t.index-e.index;if(n){if(!t.tabIndex)return 1;if(!e.tabIndex)return-1}return n||r},_R=function(t,e,n){return so(t).map(function(r,i){return{node:r,index:i,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!e||r.tabIndex>=0}).sort($j)},Uj=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],Cv=Uj.join(","),zj=Cv+", [data-focus-guard]",MS=function(t,e){return t.reduce(function(n,r){return n.concat(so(r.querySelectorAll(e?zj:Cv)),r.parentNode?so(r.parentNode.querySelectorAll(Cv)).filter(function(i){return i===r}):[])},[])},Vj=function(t){var e=t.querySelectorAll("["+_j+"]");return so(e).map(function(n){return MS([n])}).reduce(function(n,r){return n.concat(r)},[])},AS=function(t,e){return so(t).filter(function(n){return bR(e,n)}).filter(function(n){return Bj(n)})},Iv=function(t,e,n){return _R(AS(MS(t,n),e),!0,n)},Cx=function(t,e){return _R(AS(MS(t),e),!1)},jj=function(t,e){return AS(Vj(t),e)},Mv=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&Mv(t.parentNode,e),e},vm=function(t,e){for(var n=Mv(t),r=Mv(e),i=0;i<n.length;i+=1){var s=n[i];if(r.indexOf(s)>=0)return s}return!1},xR=function(t,e,n){var r=xv(t),i=xv(e),s=r[0],o=!1;return i.filter(Boolean).forEach(function(a){o=vm(o||a,a)||o,n.filter(Boolean).forEach(function(u){var c=vm(s,u);c&&(!o||c.contains(o)?o=c:o=vm(c,o))})}),o},Hj=function(t,e){return t.reduce(function(n,r){return n.concat(jj(r,e))},[])},qj=function(t){var e=CS(t).filter(op),n=xR(t,t,e),r=new Map,i=Iv([n],r,!0),s=Iv(e,r).filter(function(o){var a=o.node;return op(a)}).map(function(o){var a=o.node;return a});return i.map(function(o){var a=o.node,u=o.index;return{node:a,index:u,lockItem:s.indexOf(a)>=0,guard:IS(a)}})},Wj=function(t){return t===document.activeElement},Kj=function(t){return!!so(t.querySelectorAll("iframe")).some(function(e){return Wj(e)})},CR=function(t){var e=document&&document.activeElement;return!e||e.dataset&&e.dataset.focusGuard?!1:CS(t).reduce(function(n,r){return n||r.contains(e)||Kj(r)},!1)},Gj=function(){return document&&so(document.querySelectorAll("["+bj+"]")).some(function(t){return t.contains(document.activeElement)})},IR=function(t){return t.tagName==="INPUT"&&t.type==="radio"},Qj=function(t,e){return e.filter(IR).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},kS=function(t,e){return IR(t)&&t.name?Qj(t,e):t},Yj=function(t){var e=new Set;return t.forEach(function(n){return e.add(kS(n,t))}),t.filter(function(n){return e.has(n)})},Ix=function(t){return t[0]&&t.length>1?kS(t[0],t):t[0]},Mx=function(t,e){return t.length>1?t.indexOf(kS(t[e],t)):e},MR="NEW_FOCUS",Zj=function(t,e,n,r){var i=t.length,s=t[0],o=t[i-1],a=IS(n);if(!(t.indexOf(n)>=0)){var u=e.indexOf(n),c=r?e.indexOf(r):u,d=r?t.indexOf(r):-1,g=u-c,S=e.indexOf(s),w=e.indexOf(o),I=Yj(e),x=I.indexOf(n)-(r?I.indexOf(r):u),N=Mx(t,0),k=Mx(t,i-1);if(u===-1||d===-1)return MR;if(!g&&d>=0)return d;if(u<=S&&a&&Math.abs(g)>1)return k;if(u>=w&&a&&Math.abs(g)>1)return N;if(g&&Math.abs(x)>1)return d;if(u<=S)return k;if(u>w)return N;if(g)return Math.abs(g)>1?d:(i+d+g)%i}},Xj=function(t){return function(e){return e.autofocus||e.dataset&&!!e.dataset.autofocus||t.indexOf(e)>=0}},Jj=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(Fj)},eH=function(t,e){var n=document&&document.activeElement,r=CS(t).filter(op),i=xR(n||t,t,r),s=new Map,o=Cx(r,s),a=Iv(r,s).filter(function(w){var I=w.node;return op(I)});if(!(!a[0]&&(a=o,!a[0]))){var u=Cx([i],s).map(function(w){var I=w.node;return I}),c=Jj(u,a),d=c.map(function(w){var I=w.node;return I}),g=Zj(d,u,n,e);if(g===MR){var S=o.map(function(w){var I=w.node;return I}).filter(Xj(Hj(r,s)));return{node:S&&S.length?Ix(S):Ix(d)}}return g===void 0?g:c[g]}},tH=function(t){t.focus(),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},wm=0,Sm=!1,AR=function(t,e){var n=eH(t,e);if(!Sm&&n){if(wm>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Sm=!0,setTimeout(function(){Sm=!1},1);return}wm++,tH(n.node),wm--}};function kR(t){var e=window,n=e.setImmediate;typeof n<"u"?n(t):setTimeout(t,1)}var nH=function(){return document&&document.activeElement===document.body},rH=function(){return nH()||Gj()},Eu=null,tu=null,bu=null,Qc=!1,iH=function(){return!0},sH=function(e){return(Eu.whiteList||iH)(e)},oH=function(e,n){bu={observerNode:e,portaledElement:n}},aH=function(e){return bu&&bu.portaledElement===e};function Ax(t,e,n,r){var i=null,s=t;do{var o=r[s];if(o.guard)o.node.dataset.focusAutoGuard&&(i=o);else if(o.lockItem){if(s!==t)return;i=null}else break}while((s+=n)!==e);i&&(i.node.tabIndex=0)}var uH=function(e){return e&&"current"in e?e.current:e},lH=function(e){return e?!!Qc:Qc==="meanwhile"},ap=function(){var e=!1;if(Eu){var n=Eu,r=n.observed,i=n.persistentFocus,s=n.autoFocus,o=n.shards,a=n.crossFrame,u=r||bu&&bu.portaledElement,c=document&&document.activeElement;if(u){var d=[u].concat(o.map(uH).filter(Boolean));if((!c||sH(c))&&(i||lH(a)||!rH()||!tu&&s)&&(u&&!(CR(d)||aH(c))&&(document&&!tu&&c&&!s?(c.blur&&c.blur(),document.body.focus()):(e=AR(d,tu),bu={})),Qc=!1,tu=document&&document.activeElement),document){var g=document&&document.activeElement,S=qj(d),w=S.map(function(I){var x=I.node;return x}).indexOf(g);w>-1&&(S.filter(function(I){var x=I.guard,N=I.node;return x&&N.dataset.focusAutoGuard}).forEach(function(I){var x=I.node;return x.removeAttribute("tabIndex")}),Ax(w,S.length,1,S),Ax(w,-1,-1,S))}}}return e},TR=function(e){ap()&&e&&(e.stopPropagation(),e.preventDefault())},TS=function(){return kR(ap)},cH=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||oH(r,n)},fH=function(){return null},RR=function(){Qc="just",setTimeout(function(){Qc="meanwhile"},0)},hH=function(){document.addEventListener("focusin",TR,!0),document.addEventListener("focusout",TS),window.addEventListener("blur",RR)},dH=function(){document.removeEventListener("focusin",TR,!0),document.removeEventListener("focusout",TS),window.removeEventListener("blur",RR)};function pH(t){return t.filter(function(e){var n=e.disabled;return!n})}function gH(t){var e=t.slice(-1)[0];e&&!Eu&&hH();var n=Eu,r=n&&e&&e.id===n.id;Eu=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var s=i.id;return s===n.id}).length||n.returnFocus(!e)),e?(tu=null,(!r||n.observed!==e.observed)&&e.onActivation(),ap(),kR(ap)):(dH(),tu=null)}vR.assignSyncMedium(cH);wR.assignMedium(TS);Mj.assignMedium(function(t){return t({moveFocusInside:AR,focusInside:CR})});const mH=Oj(pH,gH)(fH);var NR=$.forwardRef(function(e,n){return $.createElement(SR,lt({sideCar:mH,ref:n},e))}),OR=SR.propTypes||{};OR.sideCar;Ej(OR,["sideCar"]);NR.propTypes={};const yH=NR;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _u=function(){return _u=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_u.apply(this,arguments)};function vH(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var Qh="right-scroll-bar-position",Yh="width-before-scroll-bar",wH="with-scroll-bars-hidden",SH="--removed-body-scroll-bar-size",LR=mR(),Em=function(){},Og=$.forwardRef(function(t,e){var n=$.useRef(null),r=$.useState({onScrollCapture:Em,onWheelCapture:Em,onTouchMoveCapture:Em}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,g=t.shards,S=t.sideCar,w=t.noIsolation,I=t.inert,x=t.allowPinchZoom,N=t.as,k=N===void 0?"div":N,T=vH(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),M=S,B=dR([n,e]),L=_u({},T,i);return $.createElement($.Fragment,null,d&&$.createElement(M,{sideCar:LR,removeScrollBar:c,shards:g,noIsolation:w,inert:I,setCallbacks:s,allowPinchZoom:!!x,lockRef:n}),o?$.cloneElement($.Children.only(a),_u({},L,{ref:B})):$.createElement(k,_u({},L,{className:u,ref:B}),a))});Og.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Og.classNames={fullWidth:Yh,zeroRight:Qh};var kx,EH=function(){if(kx)return kx;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EH();return e&&t.setAttribute("nonce",e),t}function _H(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bH())&&(_H(e,n),xH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},IH=function(){var t=CH();return function(e,n){$.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},DR=function(){var t=IH(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},MH={left:0,top:0,right:0,gap:0},bm=function(t){return parseInt(t||"",10)||0},AH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[bm(n),bm(r),bm(i)]},kH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return MH;var e=AH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},TH=DR(),RH=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yh," .").concat(Yh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(SH,": ").concat(a,`px;
  }
`)},NH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=$.useMemo(function(){return kH(i)},[i]);return $.createElement(TH,{styles:RH(s,!e,i,n?"":"!important")})},OH=function(t){var e=window.getComputedStyle(t);return e.overflowY!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowY==="visible")},LH=function(t){var e=window.getComputedStyle(t);return t.type==="range"?!0:e.overflowX!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowX==="visible")},Tx=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=PR(t,n);if(r){var i=BR(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},DH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},PH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PR=function(t,e){return t==="v"?OH(e):LH(e)},BR=function(t,e){return t==="v"?DH(e):PH(e)},BH=function(t,e,n,r,i){var s=r,o=n.target,a=e.contains(o),u=!1,c=s>0,d=0,g=0;do{var S=BR(t,o),w=S[0],I=S[1],x=S[2],N=I-x-w;(w||N)&&PR(t,o)&&(d+=N,g+=w),o=o.parentNode}while(!a&&o!==document.body||a&&(e.contains(o)||e===o));return(c&&(i&&d===0||!i&&s>d)||!c&&(i&&g===0||!i&&-s>g))&&(u=!0),u},Av=!1;if(typeof window<"u")try{var mh=Object.defineProperty({},"passive",{get:function(){return Av=!0,!0}});window.addEventListener("test",mh,mh),window.removeEventListener("test",mh,mh)}catch{Av=!1}var ka=Av?{passive:!1}:!1,yh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rx=function(t){return[t.deltaX,t.deltaY]},Nx=function(t){return t&&"current"in t?t.current:t},FH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$H=function(t){return`
  .block-interactivity-`+t+` {pointer-events: none;}
  .allow-interactivity-`+t+` {pointer-events: all;}
`},UH=0,Ta=[];function zH(t){var e=$.useRef([]),n=$.useRef([0,0]),r=$.useRef(),i=$.useState(UH++)[0],s=$.useState(function(){return DR()})[0],o=$.useRef(t);$.useEffect(function(){o.current=t},[t]),$.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-"+i);var x=[t.lockRef.current].concat((t.shards||[]).map(Nx)).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-"+i)}),function(){document.body.classList.remove("block-interactivity-"+i),x.forEach(function(N){return N.classList.remove("allow-interactivity-"+i)})}}},[t.inert,t.lockRef.current,t.shards]);var a=$.useCallback(function(x,N){if("touches"in x&&x.touches.length===2)return!o.current.allowPinchZoom;var k=yh(x),T=n.current,M="deltaX"in x?x.deltaX:T[0]-k[0],B="deltaY"in x?x.deltaY:T[1]-k[1],L,P=x.target,F=Math.abs(M)>Math.abs(B)?"h":"v",U=Tx(F,P);if(!U)return!0;if(U?L=F:(L=F==="v"?"h":"v",U=Tx(F,P)),!U)return!1;if(!r.current&&"changedTouches"in x&&(M||B)&&(r.current=L),!L)return!0;var J=r.current||L;return BH(J,N,x,J==="h"?M:B,!0)},[]),u=$.useCallback(function(x){var N=x;if(!(!Ta.length||Ta[Ta.length-1]!==s)){var k="deltaY"in N?Rx(N):yh(N),T=e.current.filter(function(L){return L.name===N.type&&L.target===N.target&&FH(L.delta,k)})[0];if(T&&T.should){N.preventDefault();return}if(!T){var M=(o.current.shards||[]).map(Nx).filter(Boolean).filter(function(L){return L.contains(N.target)}),B=M.length>0?a(N,M[0]):!o.current.noIsolation;B&&N.preventDefault()}}},[]),c=$.useCallback(function(x,N,k,T){var M={name:x,delta:N,target:k,should:T};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(B){return B!==M})},1)},[]),d=$.useCallback(function(x){n.current=yh(x),r.current=void 0},[]),g=$.useCallback(function(x){c(x.type,Rx(x),x.target,a(x,t.lockRef.current))},[]),S=$.useCallback(function(x){c(x.type,yh(x),x.target,a(x,t.lockRef.current))},[]);$.useEffect(function(){return Ta.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:S}),document.addEventListener("wheel",u,ka),document.addEventListener("touchmove",u,ka),document.addEventListener("touchstart",d,ka),function(){Ta=Ta.filter(function(x){return x!==s}),document.removeEventListener("wheel",u,ka),document.removeEventListener("touchmove",u,ka),document.removeEventListener("touchstart",d,ka)}},[]);var w=t.removeScrollBar,I=t.inert;return $.createElement($.Fragment,null,I?$.createElement(s,{styles:$H(i)}):null,w?$.createElement(NH,{gapMode:"margin"}):null)}const VH=Ij(LR,zH);var FR=$.forwardRef(function(t,e){return $.createElement(Og,_u({},t,{ref:e,sideCar:VH}))});FR.classNames=Og.classNames;const jH=FR;var[HH,$R]=lV("DialogContext",{isOpen:!1});function UR({isOpen:t=!0,children:e,...n}){return $.useEffect(()=>{t?window.__REACH_DISABLE_TOOLTIPS=!0:window.requestAnimationFrame(()=>{window.__REACH_DISABLE_TOOLTIPS=!1})},[t]),$.createElement(fR,{"data-reach-dialog-wrapper":"","data-state":t?"open":"closed",...n},$.createElement(HH,{isOpen:t},e))}UR.displayName="unstable_DialogWrapper";var zR=$.forwardRef(function({allowPinchZoom:e,as:n="div",dangerouslyBypassFocusLock:r,dangerouslyBypassScrollLock:i,initialFocusRef:s,onClick:o,onDismiss:a=vS,onKeyDown:u,onMouseDown:c,unstable_lockFocusAcrossFrames:d,...g},S){let{isOpen:w}=$R("DialogInner"),I=d!==void 0;$.useEffect(()=>{I&&console.warn("The unstable_lockFocusAcrossFrames in @reach/dialog is deprecated. It will be removed in the next minor release.")},[I]);const x=$.useRef(null),N=$.useRef(null),k=YT(N,S),T=$.useCallback(()=>{s&&s.current&&s.current.focus()},[s]);function M(P){x.current===P.target&&(P.stopPropagation(),a(P))}function B(P){P.key==="Escape"&&(P.stopPropagation(),a(P))}function L(P){x.current=P.target}return $.useEffect(()=>N.current?qH(N.current):void 0,[]),$.createElement(yH,{autoFocus:!0,returnFocus:!0,onActivation:T,disabled:r??!w,crossFrame:d??!0},$.createElement(jH,{allowPinchZoom:e,enabled:i!=null?!i:w},$.createElement(n,{...g,ref:k,"data-reach-dialog-inner":"","data-state":w?"open":"closed",onClick:Gh(o,M),onKeyDown:Gh(u,B),onMouseDown:Gh(c,L)})))});zR.displayName="DialogInner";var VR=$.forwardRef(function({as:e="div",isOpen:n=!0,...r},i){return n?$.createElement(UR,{isOpen:n},$.createElement(zR,{"data-reach-dialog-overlay":"",ref:i,as:e,...r})):null});VR.displayName="DialogOverlay";var jR=$.forwardRef(function({as:e="div",onClick:n,onKeyDown:r,...i},s){let{isOpen:o}=$R("DialogContent");return $.createElement(e,{"aria-modal":"true",role:"dialog",tabIndex:-1,...i,ref:s,"data-reach-dialog-content":"","data-state":o?"open":"closed",onClick:Gh(n,a=>{a.stopPropagation()})})});jR.displayName="DialogContent";var HR=$.forwardRef(function({allowPinchZoom:e=!1,initialFocusRef:n,isOpen:r,onDismiss:i=vS,...s},o){return $.createElement(VR,{allowPinchZoom:e,initialFocusRef:n,isOpen:r,onDismiss:i},$.createElement(jR,{ref:o,...s}))});HR.displayName="Dialog";function qH(t){let e=[],n=[],r=ZT(t);return t?(Array.prototype.forEach.call(r.querySelectorAll("body > *"),i=>{var u,c;const s=(c=(u=t.parentNode)==null?void 0:u.parentNode)==null?void 0:c.parentNode;if(i===s)return;let o=i.getAttribute("aria-hidden");o!==null&&o!=="false"||(e.push(o),n.push(i),i.setAttribute("aria-hidden","true"))}),()=>{n.forEach((i,s)=>{let o=e[s];o===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",o)})}):(console.warn("A ref has not yet been attached to a dialog node when attempting to call `createAriaHider`."),vS)}const WH=({transaction:t,handleClose:e})=>{const n=[{label:"Amount",value:t==null?void 0:t.amount},{label:"Fee",value:t==null?void 0:t.feeAmount},{label:"Fee Payer",value:t==null?void 0:t.feePayer},{label:"Block",value:t==null?void 0:t.block},{label:"Signature",value:t==null?void 0:t.signature},{label:"Timestamp",value:t==null?void 0:t.timestamp.toDate().toLocaleDateString()},{label:"From Address",value:t==null?void 0:t.fromAddress},{label:"To Address",value:t==null?void 0:t.toAddress}];return me("div",{children:yt(HR,{css:Ox.dialog,isOpen:t!==null,children:[yt("button",{onClick:()=>e(),children:[me(Ng,{children:"Close"}),me("span",{"aria-hidden":!0,children:""})]}),yt("div",{children:[me("h2",{children:"Transaction Details"}),me("div",{css:Ox.detailBreakdown,children:n.map(r=>yt(Fp,{children:[me("h4",{children:r.label}),me("p",{children:r.value??"none"})]}))})]}),me("div",{children:me("a",{href:`https://solscan.io/tx/${t==null?void 0:t.signature}?cluster=devnet`,children:"View on SolScan"})})]})})},Ox={dialog:en({color:"black",position:"relative",button:{position:"absolute",right:"16px",top:"16px",border:"none",background:"none",color:"black",cursor:"pointer",fontSize:"24px"},a:{fontSize:"18px",fontWeight:"bold"}}),detailBreakdown:en({display:"grid",margin:"16px 0",gridTemplateColumns:"1fr 2fr",gap:"8px 16px",p:{overflow:"hidden"}}),detailBreakdownItem:en({})},KH=()=>{const{publicKey:t}=xa(),[e,n]=Q.useState(null),r=()=>n(null),i=u=>{n(u)},{transactionsData:s,getTransactionsError:o,getTransactionsStatus:a}=GT({publicKeyAddress:(t==null?void 0:t.toString())??""});return Q.useEffect(()=>{const u=document.getElementById("transactionsStatus");a==="loading"?u.innerHTML="Loading transactions...":a==="error"?u.innerHTML="Error loading data":u.innerHTML=""},[a]),yt(Fp,{children:[yt("div",{css:GH.transactionsTable,id:"transactionsTableView",children:[me("div",{children:me("span",{id:"transactionsStatus"})}),s&&me(vj,{data:s,handleRowClick:i})]}),me(WH,{transaction:e,handleClose:r})]})},GH={transactionsTable:{padding:"32px"}};function QH(){const{publicKey:t}=xa();return window.Buffer=window.Buffer||je.Buffer,Q.useEffect(()=>{console.log("publicKey",t)},[t]),me(Fp,{children:t?yt("div",{css:Lo.appContainer,children:[yt("div",{css:Lo.navBar,children:[me("div",{css:Lo.navBarTitle,children:"My Sol Transactions"}),me(ux,{})]}),me("div",{css:Lo.formWrapper,children:me(gV,{})}),me(KH,{})]}):yt("div",{css:Lo.homeContainer,children:[me("div",{css:Lo.homeHeader,children:"My Sol Transactions"}),me("p",{children:"Welcome. please connect a wallet to begin:"}),me("div",{css:Lo.multiButtonWrapper,children:me(ux,{})})]})})}const Lo={homeContainer:en({width:"100%",height:"100%",backgroundColor:"darkslategray",display:"grid",placeContent:"center"}),homeHeader:en({fontSize:"3rem",fontWeight:700,color:"yellow"}),appContainer:en({width:"100%",backgroundColor:"darkslategray",display:"block",minHeight:"100%"}),multiButtonWrapper:en({marginTop:"16px",display:"flex",justifyContent:"right"}),navBar:en({width:"100%",height:"20%",display:"flex",padding:"12px 32px",justifyContent:"space-between"}),navBarTitle:en({color:"yellow",fontSize:"2rem",fontWeight:700}),formWrapper:en({display:"flex",justifyContent:"center"}),transactions:en({background:"lightGray",color:"black"})};const YH="modulepreload",ZH=function(t){return"/SolTransactions/"+t},Lx={},XH=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=ZH(s),s in Lx)return;Lx[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const g=i[d];if(g.href===s&&(!o||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":YH,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,g)=>{c.addEventListener("load",d),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},JH="Coinbase Wallet";class eq extends kg{constructor(e={}){super(),this.name=JH,this.url="https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Af),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Le.Unsupported&&hS(()=>window!=null&&window.coinbaseSolana?(this._readyState=Le.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Le.Installed)throw new eo;this._connecting=!0;const e=window.coinbaseSolana;try{await e.connect()}catch(r){throw new da(r==null?void 0:r.message,r)}if(!e.publicKey)throw new vu;let n;try{n=new xe(e.publicKey.toBytes())}catch(r){throw new to(r==null?void 0:r.message,r)}e.on("disconnect",this._disconnected),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ag(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new rn;try{const{signers:s,...o}=r;e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof Bn?s:new Ji(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new rn;try{return await n.signTransaction(e)||e}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new rn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new rn;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const tq="Phantom";class nq extends kg{constructor(e={}){super(),this.name=tq,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Af),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new xe(n.toBytes())}catch(i){this.emit("error",new to(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Le.Unsupported&&(cv()?(this._readyState=Le.Loadable,this.emit("readyStateChange",this._readyState)):hS(()=>{var n,r,i;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(i=window.solana)!=null&&i.isPhantom?(this._readyState=Le.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Le.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===Le.Loadable){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${s}`;return}if(this.readyState!==Le.Installed)throw new eo;this._connecting=!0;const n=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(i){throw new da(i==null?void 0:i.message,i)}if(!n.publicKey)throw new vu;let r;try{r=new xe(n.publicKey.toBytes())}catch(i){throw new to(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ag(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(e,n,r={}){try{const i=this._wallet;if(!i)throw new rn;try{const{signers:s,...o}=r;Os(e)?s!=null&&s.length&&e.sign(s):(e=await this.prepareTransaction(e,n,o),s!=null&&s.length&&e.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(e,o);return a}catch(s){throw s instanceof Bn?s:new Ji(s==null?void 0:s.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new rn;try{return await n.signTransaction(e)||e}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new rn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new rn;try{const{signature:r}=await n.signMessage(e);return r}catch(r){throw new Kc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const rq="Solflare";class iq extends kg{constructor(e={}){super(),this.name=rq,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Le.Unsupported:Le.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Af),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new xe(n.toBytes())}catch(i){this.emit("error",new to(i==null?void 0:i.message,i));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Le.Unsupported&&hS(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=Le.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===Le.Loadable&&cv()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Le.Loadable&&this._readyState!==Le.Installed)throw new eo;if(this.readyState===Le.Loadable&&cv()){const i=encodeURIComponent(window.location.href),s=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${i}?ref=${s}`;return}let e;try{e=(await XH(()=>import("./index-9a6b967f.js"),[])).default}catch(i){throw new rz(i==null?void 0:i.message,i)}let n;try{n=new e({network:this._config.network})}catch(i){throw new nc(i==null?void 0:i.message,i)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(i){throw new da(i==null?void 0:i.message,i)}if(!n.publicKey)throw new da;let r;try{r=new xe(n.publicKey.toBytes())}catch(i){throw new to(i==null?void 0:i.message,i)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(n){this.emit("error",new Ag(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._wallet;if(!n)throw new rn;try{return await n.signTransaction(e)||e}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new rn;try{return await n.signAllTransactions(e)||e}catch(r){throw new ar(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._wallet;if(!n)throw new rn;try{return await n.signMessage(e,"utf8")}catch(r){throw new Kc(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const sq=({children:t})=>{const e=fv.Devnet,n=Q.useMemo(()=>[new nq,new iq,new eq],[]),r=Q.useMemo(()=>J9(e),[e]);return Zn.jsx(ez,{endpoint:r,children:Zn.jsx(m7,{wallets:n,autoConnect:!0,children:Zn.jsx(E7,{children:t})})})};_m.createRoot(document.getElementById("root")).render(Zn.jsx(Q.StrictMode,{children:Zn.jsx(Q7,{client:new j7,children:Zn.jsx(sq,{children:Zn.jsx(QH,{})})})}));export{nz as E,xe as P,vn as b,E8 as v};
