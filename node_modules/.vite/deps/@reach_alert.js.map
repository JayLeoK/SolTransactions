{
  "version": 3,
  "sources": ["../../@reach/alert/dist/reach-alert.mjs"],
  "sourcesContent": ["\"use strict\";\n/**\n  * @reach/alert v0.18.0\n  *\n  * Copyright (c) 2018-2022, React Training LLC\n  *\n  * This source code is licensed under the MIT license found in the\n  * LICENSE.md file in the root directory of this source tree.\n  *\n  * @license MIT\n  */\n\n\n// src/reach-alert.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { VisuallyHidden } from \"@reach/visually-hidden\";\nimport { getOwnerDocument, useComposedRefs } from \"@reach/utils\";\nvar keys = {\n  polite: -1,\n  assertive: -1\n};\nvar elements = {\n  polite: {},\n  assertive: {}\n};\nvar liveRegions = {\n  polite: null,\n  assertive: null\n};\nvar renderTimer;\nvar AlertRendered = React.forwardRef(function AlertRendered2({ as: Comp = \"div\", children, ...props }, forwardedRef) {\n  return /* @__PURE__ */ React.createElement(Comp, {\n    ref: forwardedRef,\n    ...props\n  }, children);\n});\nvar Alert = React.forwardRef(function Alert2(props, forwardedRef) {\n  let ownRef = React.useRef(null);\n  let ref = useComposedRefs(forwardedRef, ownRef);\n  useMirrorEffects(ownRef, props);\n  let { type: _, ...rest } = props;\n  return /* @__PURE__ */ React.createElement(AlertRendered, {\n    ref,\n    ...rest,\n    \"data-reach-alert\": \"\",\n    \"aria-hidden\": true\n  });\n});\nAlert.displayName = \"Alert\";\nfunction createMirror(type, doc) {\n  let key = ++keys[type];\n  let mount = (element) => {\n    if (liveRegions[type]) {\n      elements[type][key] = element;\n      renderAlerts();\n    } else {\n      let node = doc.createElement(\"div\");\n      node.setAttribute(`data-reach-live-${type}`, \"true\");\n      liveRegions[type] = node;\n      doc.body.appendChild(liveRegions[type]);\n      mount(element);\n    }\n  };\n  let update = (element) => {\n    elements[type][key] = element;\n    renderAlerts();\n  };\n  let unmount = () => {\n    delete elements[type][key];\n    renderAlerts();\n  };\n  return { mount, update, unmount };\n}\nfunction renderAlerts() {\n  if (renderTimer != null) {\n    window.clearTimeout(renderTimer);\n  }\n  renderTimer = window.setTimeout(() => {\n    Object.keys(elements).forEach((elementType) => {\n      let regionType = elementType;\n      let container = liveRegions[regionType];\n      if (container) {\n        ReactDOM.render(/* @__PURE__ */ React.createElement(VisuallyHidden, {\n          as: \"div\"\n        }, /* @__PURE__ */ React.createElement(\"div\", {\n          role: regionType === \"assertive\" ? \"alert\" : \"status\",\n          \"aria-live\": regionType\n        }, Object.keys(elements[regionType]).map((key) => React.cloneElement(elements[regionType][key], {\n          key,\n          ref: null\n        })))), liveRegions[regionType]);\n      }\n    });\n  }, 500);\n}\nfunction useMirrorEffects(ref, {\n  type: regionType = \"polite\",\n  ...props\n}) {\n  let mirror = React.useRef(null);\n  React.useEffect(() => {\n    let ownerDocument = getOwnerDocument(ref.current);\n    if (!ownerDocument)\n      return;\n    mirror.current = createMirror(regionType, ownerDocument);\n    mirror.current.mount(/* @__PURE__ */ React.createElement(AlertRendered, {\n      ...props\n    }));\n    return () => {\n      mirror.current?.unmount();\n    };\n  }, [ref, regionType, ...Object.values(props)]);\n}\nexport {\n  Alert\n};\n"],
  "mappings": "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",
  "names": []
}
